function o2(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function PE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vv={exports:{}},bd={},wv={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function a2(){if(J0)return ze;J0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function E(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function k(W,ie,ke){this.props=W,this.context=ie,this.refs=P,this.updater=ke||C}k.prototype.isReactComponent={},k.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function j(){}j.prototype=k.prototype;function M(W,ie,ke){this.props=W,this.context=ie,this.refs=P,this.updater=ke||C}var $=M.prototype=new j;$.constructor=M,T($,k.prototype),$.isPureReactComponent=!0;var H=Array.isArray,q=Object.prototype.hasOwnProperty,U={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function A(W,ie,ke){var ve,De={},Me=null,Xe=null;if(ie!=null)for(ve in ie.ref!==void 0&&(Xe=ie.ref),ie.key!==void 0&&(Me=""+ie.key),ie)q.call(ie,ve)&&!O.hasOwnProperty(ve)&&(De[ve]=ie[ve]);var We=arguments.length-2;if(We===1)De.children=ke;else if(1<We){for(var ot=Array(We),mn=0;mn<We;mn++)ot[mn]=arguments[mn+2];De.children=ot}if(W&&W.defaultProps)for(ve in We=W.defaultProps,We)De[ve]===void 0&&(De[ve]=We[ve]);return{$$typeof:n,type:W,key:Me,ref:Xe,props:De,_owner:U.current}}function b(W,ie){return{$$typeof:n,type:W.type,key:ie,ref:W.ref,props:W.props,_owner:W._owner}}function V(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function x(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ke){return ie[ke]})}var w=/\/+/g;function S(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?x(""+W.key):ie.toString(36)}function z(W,ie,ke,ve,De){var Me=typeof W;(Me==="undefined"||Me==="boolean")&&(W=null);var Xe=!1;if(W===null)Xe=!0;else switch(Me){case"string":case"number":Xe=!0;break;case"object":switch(W.$$typeof){case n:case e:Xe=!0}}if(Xe)return Xe=W,De=De(Xe),W=ve===""?"."+S(Xe,0):ve,H(De)?(ke="",W!=null&&(ke=W.replace(w,"$&/")+"/"),z(De,ie,ke,"",function(mn){return mn})):De!=null&&(V(De)&&(De=b(De,ke+(!De.key||Xe&&Xe.key===De.key?"":(""+De.key).replace(w,"$&/")+"/")+W)),ie.push(De)),1;if(Xe=0,ve=ve===""?".":ve+":",H(W))for(var We=0;We<W.length;We++){Me=W[We];var ot=ve+S(Me,We);Xe+=z(Me,ie,ke,ot,De)}else if(ot=E(W),typeof ot=="function")for(W=ot.call(W),We=0;!(Me=W.next()).done;)Me=Me.value,ot=ve+S(Me,We++),Xe+=z(Me,ie,ke,ot,De);else if(Me==="object")throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Xe}function L(W,ie,ke){if(W==null)return W;var ve=[],De=0;return z(W,ve,"","",function(Me){return ie.call(ke,Me,De++)}),ve}function oe(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(ke){(W._status===0||W._status===-1)&&(W._status=1,W._result=ke)},function(ke){(W._status===0||W._status===-1)&&(W._status=2,W._result=ke)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var ae={current:null},Q={transition:null},fe={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:Q,ReactCurrentOwner:U};function ue(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:L,forEach:function(W,ie,ke){L(W,function(){ie.apply(this,arguments)},ke)},count:function(W){var ie=0;return L(W,function(){ie++}),ie},toArray:function(W){return L(W,function(ie){return ie})||[]},only:function(W){if(!V(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},ze.Component=k,ze.Fragment=t,ze.Profiler=i,ze.PureComponent=M,ze.StrictMode=r,ze.Suspense=d,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,ze.act=ue,ze.cloneElement=function(W,ie,ke){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ve=T({},W.props),De=W.key,Me=W.ref,Xe=W._owner;if(ie!=null){if(ie.ref!==void 0&&(Me=ie.ref,Xe=U.current),ie.key!==void 0&&(De=""+ie.key),W.type&&W.type.defaultProps)var We=W.type.defaultProps;for(ot in ie)q.call(ie,ot)&&!O.hasOwnProperty(ot)&&(ve[ot]=ie[ot]===void 0&&We!==void 0?We[ot]:ie[ot])}var ot=arguments.length-2;if(ot===1)ve.children=ke;else if(1<ot){We=Array(ot);for(var mn=0;mn<ot;mn++)We[mn]=arguments[mn+2];ve.children=We}return{$$typeof:n,type:W.type,key:De,ref:Me,props:ve,_owner:Xe}},ze.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},ze.createElement=A,ze.createFactory=function(W){var ie=A.bind(null,W);return ie.type=W,ie},ze.createRef=function(){return{current:null}},ze.forwardRef=function(W){return{$$typeof:u,render:W}},ze.isValidElement=V,ze.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:oe}},ze.memo=function(W,ie){return{$$typeof:f,type:W,compare:ie===void 0?null:ie}},ze.startTransition=function(W){var ie=Q.transition;Q.transition={};try{W()}finally{Q.transition=ie}},ze.unstable_act=ue,ze.useCallback=function(W,ie){return ae.current.useCallback(W,ie)},ze.useContext=function(W){return ae.current.useContext(W)},ze.useDebugValue=function(){},ze.useDeferredValue=function(W){return ae.current.useDeferredValue(W)},ze.useEffect=function(W,ie){return ae.current.useEffect(W,ie)},ze.useId=function(){return ae.current.useId()},ze.useImperativeHandle=function(W,ie,ke){return ae.current.useImperativeHandle(W,ie,ke)},ze.useInsertionEffect=function(W,ie){return ae.current.useInsertionEffect(W,ie)},ze.useLayoutEffect=function(W,ie){return ae.current.useLayoutEffect(W,ie)},ze.useMemo=function(W,ie){return ae.current.useMemo(W,ie)},ze.useReducer=function(W,ie,ke){return ae.current.useReducer(W,ie,ke)},ze.useRef=function(W){return ae.current.useRef(W)},ze.useState=function(W){return ae.current.useState(W)},ze.useSyncExternalStore=function(W,ie,ke){return ae.current.useSyncExternalStore(W,ie,ke)},ze.useTransition=function(){return ae.current.useTransition()},ze.version="18.3.1",ze}var X0;function ia(){return X0||(X0=1,wv.exports=a2()),wv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function l2(){if(Z0)return bd;Z0=1;var n=ia(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,y={},E=null,C=null;f!==void 0&&(E=""+f),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(C=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(y[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:u,key:E,ref:C,props:y,_owner:i.current}}return bd.Fragment=t,bd.jsx=l,bd.jsxs=l,bd}var eR;function u2(){return eR||(eR=1,vv.exports=l2()),vv.exports}var D=u2(),G=ia();const Qe=PE(G),cw=o2({__proto__:null,default:Qe},[G]);var em={},Ev={exports:{}},er={},Iv={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function c2(){return tR||(tR=1,(function(n){function e(Q,fe){var ue=Q.length;Q.push(fe);e:for(;0<ue;){var W=ue-1>>>1,ie=Q[W];if(0<i(ie,fe))Q[W]=fe,Q[ue]=ie,ue=W;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var fe=Q[0],ue=Q.pop();if(ue!==fe){Q[0]=ue;e:for(var W=0,ie=Q.length,ke=ie>>>1;W<ke;){var ve=2*(W+1)-1,De=Q[ve],Me=ve+1,Xe=Q[Me];if(0>i(De,ue))Me<ie&&0>i(Xe,De)?(Q[W]=Xe,Q[Me]=ue,W=Me):(Q[W]=De,Q[ve]=ue,W=ve);else if(Me<ie&&0>i(Xe,ue))Q[W]=Xe,Q[Me]=ue,W=Me;else break e}}return fe}function i(Q,fe){var ue=Q.sortIndex-fe.sortIndex;return ue!==0?ue:Q.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,y=null,E=3,C=!1,T=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(Q){for(var fe=t(f);fe!==null;){if(fe.callback===null)r(f);else if(fe.startTime<=Q)r(f),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(f)}}function H(Q){if(P=!1,$(Q),!T)if(t(d)!==null)T=!0,oe(q);else{var fe=t(f);fe!==null&&ae(H,fe.startTime-Q)}}function q(Q,fe){T=!1,P&&(P=!1,j(A),A=-1),C=!0;var ue=E;try{for($(fe),y=t(d);y!==null&&(!(y.expirationTime>fe)||Q&&!x());){var W=y.callback;if(typeof W=="function"){y.callback=null,E=y.priorityLevel;var ie=W(y.expirationTime<=fe);fe=n.unstable_now(),typeof ie=="function"?y.callback=ie:y===t(d)&&r(d),$(fe)}else r(d);y=t(d)}if(y!==null)var ke=!0;else{var ve=t(f);ve!==null&&ae(H,ve.startTime-fe),ke=!1}return ke}finally{y=null,E=ue,C=!1}}var U=!1,O=null,A=-1,b=5,V=-1;function x(){return!(n.unstable_now()-V<b)}function w(){if(O!==null){var Q=n.unstable_now();V=Q;var fe=!0;try{fe=O(!0,Q)}finally{fe?S():(U=!1,O=null)}}else U=!1}var S;if(typeof M=="function")S=function(){M(w)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,L=z.port2;z.port1.onmessage=w,S=function(){L.postMessage(null)}}else S=function(){k(w,0)};function oe(Q){O=Q,U||(U=!0,S())}function ae(Q,fe){A=k(function(){Q(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){T||C||(T=!0,oe(q))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var ue=E;E=fe;try{return Q()}finally{E=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ue=E;E=Q;try{return fe()}finally{E=ue}},n.unstable_scheduleCallback=function(Q,fe,ue){var W=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?W+ue:W):ue=W,Q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ue+ie,Q={id:m++,callback:fe,priorityLevel:Q,startTime:ue,expirationTime:ie,sortIndex:-1},ue>W?(Q.sortIndex=ue,e(f,Q),t(d)===null&&Q===t(f)&&(P?(j(A),A=-1):P=!0,ae(H,ue-W))):(Q.sortIndex=ie,e(d,Q),T||C||(T=!0,oe(q))),Q},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(Q){var fe=E;return function(){var ue=E;E=fe;try{return Q.apply(this,arguments)}finally{E=ue}}}})(Tv)),Tv}var nR;function d2(){return nR||(nR=1,Iv.exports=c2()),Iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function h2(){if(rR)return er;rR=1;var n=ia(),e=d2();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function E(o){return d.call(y,o)?!0:d.call(m,o)?!1:f.test(o)?y[o]=!0:(m[o]=!0,!1)}function C(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,a,c,p){if(a===null||typeof a>"u"||C(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(o,a,c,p,g,_,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=_,this.removeEmptyString=R}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new P(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];k[a]=new P(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new P(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new P(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new P(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new P(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new P(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new P(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new P(o,5,!1,o.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(j,M);k[a]=new P(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(j,M);k[a]=new P(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(j,M);k[a]=new P(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new P(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new P(o,1,!1,o.toLowerCase(),null,!0,!0)});function $(o,a,c,p){var g=k.hasOwnProperty(a)?k[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,g,p)&&(c=null),p||g===null?E(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?o.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),U=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Q=Symbol.iterator;function fe(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Object.assign,W;function ie(o){if(W===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+o}var ke=!1;function ve(o,a){if(!o||ke)return"";ke=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){p=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}o()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),_=p.stack.split(`
`),R=g.length-1,F=_.length-1;1<=R&&0<=F&&g[R]!==_[F];)F--;for(;1<=R&&0<=F;R--,F--)if(g[R]!==_[F]){if(R!==1||F!==1)do if(R--,F--,0>F||g[R]!==_[F]){var B=`
`+g[R].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=R&&0<=F);break}}}finally{ke=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function De(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=ve(o.type,!1),o;case 11:return o=ve(o.type.render,!1),o;case 1:return o=ve(o.type,!0),o;default:return""}}function Me(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case U:return"Portal";case b:return"Profiler";case A:return"StrictMode";case S:return"Suspense";case z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case w:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return a=o.displayName||null,a!==null?a:Me(o.type)||"Memo";case oe:a=o._payload,o=o._init;try{return Me(o(a))}catch{}}return null}function Xe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function We(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ot(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mn(o){var a=ot(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){p=""+R,_.call(this,R)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ss(o){o._valueTracker||(o._valueTracker=mn(o))}function Wr(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=ot(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function gn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function hi(o,a){var c=a.checked;return ue({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function kl(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=We(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Zs(o,a){a=a.checked,a!=null&&$(o,"checked",a,!1)}function os(o,a){Zs(o,a);var c=We(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Dt(o,a.type,c):a.hasOwnProperty("defaultValue")&&Dt(o,a.type,We(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function pa(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Dt(o,a,c){(a!=="number"||gn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Tt=Array.isArray;function Be(o,a,c,p){if(o=o.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=a.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&p&&(o[c].defaultSelected=!0)}else{for(c=""+We(c),a=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,p&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function ht(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function yn(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Tt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:We(c)}}function as(o,a){var c=We(a.value),p=We(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function jn(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Cr(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Cr(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Cn,eo=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,g)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Cn=Cn||document.createElement("div"),Cn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Cn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function ma(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bf=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(o){Bf.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),to[a]=to[o]})});function no(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||to.hasOwnProperty(o)&&to[o]?(""+a).trim():a+"px"}function xl(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=no(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,g):o[c]=g}}var $c=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qr(o,a){if(a){if($c[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Nl(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function Ol(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ls=null,us=null,Lt=null;function jc(o){if(o=pd(o)){if(typeof ls!="function")throw Error(t(280));var a=o.stateNode;a&&(a=mp(a),ls(o.stateNode,o.type,a))}}function io(o){us?Lt?Lt.push(o):Lt=[o]:us=o}function so(){if(us){var o=us,a=Lt;if(Lt=us=null,jc(o),a)for(o=0;o<a.length;o++)jc(a[o])}}function zf(o,a){return o(a)}function Wf(){}var fi=!1;function qf(o,a,c){if(fi)return o(a,c);fi=!0;try{return zf(o,a,c)}finally{fi=!1,(us!==null||Lt!==null)&&(Wf(),so())}}function ga(o,a){var c=o.stateNode;if(c===null)return null;var p=mp(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var oo=!1;if(u)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){oo=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{oo=!1}function Hf(o,a,c,p,g,_,R,F,B){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(he){this.onError(he)}}var cs=!1,pi=null,Dl=!1,br=null,Kf={onError:function(o){cs=!0,pi=o}};function Gf(o,a,c,p,g,_,R,F,B){cs=!1,pi=null,Hf.apply(Kf,arguments)}function Bc(o,a,c,p,g,_,R,F,B){if(Gf.apply(this,arguments),cs){if(cs){var ee=pi;cs=!1,pi=null}else throw Error(t(198));Dl||(Dl=!0,br=ee)}}function Hr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function zc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Qf(o){if(Hr(o)!==o)throw Error(t(188))}function Yf(o){var a=o.alternate;if(!a){if(a=Hr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return Qf(g),o;if(_===p)return Qf(g),a;_=_.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=_;else{for(var R=!1,F=g.child;F;){if(F===c){R=!0,c=g,p=_;break}if(F===p){R=!0,p=g,c=_;break}F=F.sibling}if(!R){for(F=_.child;F;){if(F===c){R=!0,c=_,p=g;break}if(F===p){R=!0,p=_,c=g;break}F=F.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Jf(o){return o=Yf(o),o!==null?ya(o):null}function ya(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=ya(o);if(a!==null)return a;o=o.sibling}return null}var Wc=e.unstable_scheduleCallback,Ll=e.unstable_cancelCallback,_a=e.unstable_shouldYield,ds=e.unstable_requestPaint,_t=e.unstable_now,Yy=e.unstable_getCurrentPriorityLevel,Vl=e.unstable_ImmediatePriority,qc=e.unstable_UserBlockingPriority,va=e.unstable_NormalPriority,Hc=e.unstable_LowPriority,Ml=e.unstable_IdlePriority,wa=null,ur=null;function Xf(o){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(wa,o,void 0,(o.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:Ea,mi=Math.log,kr=Math.LN2;function Ea(o){return o>>>=0,o===0?32:31-(mi(o)/kr|0)|0}var gi=64,lo=4194304;function nt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function hs(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,g=o.suspendedLanes,_=o.pingedLanes,R=c&268435455;if(R!==0){var F=R&~g;F!==0?p=nt(F):(_&=R,_!==0&&(p=nt(_)))}else R=c&~g,R!==0?p=nt(R):_!==0&&(p=nt(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-cr(a),g=1<<c,p|=o[c],a&=~g;return p}function Ia(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,g=o.expirationTimes,_=o.pendingLanes;0<_;){var R=31-cr(_),F=1<<R,B=g[R];B===-1?((F&c)===0||(F&p)!==0)&&(g[R]=Ia(F,a)):B<=a&&(o.expiredLanes|=F),_&=~F}}function Kc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Gc(){var o=gi;return gi<<=1,(gi&4194240)===0&&(gi=64),o}function Qc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Sa(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-cr(a),o[a]=c}function Jy(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-cr(c),_=1<<g;a[g]=0,p[g]=-1,o[g]=-1,c&=~_}}function Yc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-cr(c),g=1<<p;g&a|o[p]&a&&(o[p]|=a),c&=~g}}var Ge=0;function yi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Jc,Fl,Xc,Zc,ed,_i=!1,Ul=[],vi=null,wi=null,_n=null,Ra=new Map,fs=new Map,dr=[],Zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uo(o,a){switch(o){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Ra.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(a.pointerId)}}function Kr(o,a,c,p,g,_){return o===null||o.nativeEvent!==_?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[g]},a!==null&&(a=pd(a),a!==null&&Fl(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function ep(o,a,c,p,g){switch(a){case"focusin":return vi=Kr(vi,o,a,c,p,g),!0;case"dragenter":return wi=Kr(wi,o,a,c,p,g),!0;case"mouseover":return _n=Kr(_n,o,a,c,p,g),!0;case"pointerover":var _=g.pointerId;return Ra.set(_,Kr(Ra.get(_)||null,o,a,c,p,g)),!0;case"gotpointercapture":return _=g.pointerId,fs.set(_,Kr(fs.get(_)||null,o,a,c,p,g)),!0}return!1}function $l(o){var a=ba(o.target);if(a!==null){var c=Hr(a);if(c!==null){if(a=c.tag,a===13){if(a=zc(c),a!==null){o.blockedOn=a,ed(o.priority,function(){Xc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function pt(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=jl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);ro=p,c.target.dispatchEvent(p),ro=null}else return a=pd(c),a!==null&&Fl(a),o.blockedOn=c,!1;a.shift()}return!0}function tp(o,a,c){pt(o)&&c.delete(a)}function Xy(){_i=!1,vi!==null&&pt(vi)&&(vi=null),wi!==null&&pt(wi)&&(wi=null),_n!==null&&pt(_n)&&(_n=null),Ra.forEach(tp),fs.forEach(tp)}function co(o,a){o.blockedOn===a&&(o.blockedOn=null,_i||(_i=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xy)))}function ho(o){function a(g){return co(g,o)}if(0<Ul.length){co(Ul[0],o);for(var c=1;c<Ul.length;c++){var p=Ul[c];p.blockedOn===o&&(p.blockedOn=null)}}for(vi!==null&&co(vi,o),wi!==null&&co(wi,o),_n!==null&&co(_n,o),Ra.forEach(a),fs.forEach(a),c=0;c<dr.length;c++)p=dr[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<dr.length&&(c=dr[0],c.blockedOn===null);)$l(c),c.blockedOn===null&&dr.shift()}var ps=H.ReactCurrentBatchConfig,ms=!0;function Ei(o,a,c,p){var g=Ge,_=ps.transition;ps.transition=null;try{Ge=1,td(o,a,c,p)}finally{Ge=g,ps.transition=_}}function np(o,a,c,p){var g=Ge,_=ps.transition;ps.transition=null;try{Ge=4,td(o,a,c,p)}finally{Ge=g,ps.transition=_}}function td(o,a,c,p){if(ms){var g=jl(o,a,c,p);if(g===null)u_(o,a,p,Ii,c),uo(o,p);else if(ep(g,o,a,c,p))p.stopPropagation();else if(uo(o,p),a&4&&-1<Zf.indexOf(o)){for(;g!==null;){var _=pd(g);if(_!==null&&Jc(_),_=jl(o,a,c,p),_===null&&u_(o,a,p,Ii,c),_===g)break;g=_}g!==null&&p.stopPropagation()}else u_(o,a,p,null,c)}}var Ii=null;function jl(o,a,c,p){if(Ii=null,o=Ol(p),o=ba(o),o!==null)if(a=Hr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=zc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Ii=o,null}function Bl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yy()){case Vl:return 1;case qc:return 4;case va:case Hc:return 16;case Ml:return 536870912;default:return 16}default:return 16}}var hr=null,zl=null,gs=null;function rp(){if(gs)return gs;var o,a=zl,c=a.length,p,g="value"in hr?hr.value:hr.textContent,_=g.length;for(o=0;o<c&&a[o]===g[o];o++);var R=c-o;for(p=1;p<=R&&a[c-p]===g[_-p];p++);return gs=g.slice(o,1<p?1-p:void 0)}function Aa(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Ti(){return!0}function nd(){return!1}function bn(o){function a(c,p,g,_,R){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(c=o[F],this[F]=c?c(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ti:nd,this.isPropagationStopped=nd,this}return ue(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),a}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=bn(Si),fo=ue({},Si,{view:0,detail:0}),Wl=bn(fo),ql,Hl,fr,Ca=ue({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==fr&&(fr&&o.type==="mousemove"?(ql=o.screenX-fr.screenX,Hl=o.screenY-fr.screenY):Hl=ql=0,fr=o),ql)},movementY:function(o){return"movementY"in o?o.movementY:Hl}}),rd=bn(Ca),ip=ue({},Ca,{dataTransfer:0}),sp=bn(ip),Kl=ue({},fo,{relatedTarget:0}),vn=bn(Kl),op=ue({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),ap=bn(op),po=ue({},Si,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),h=bn(po),v=ue({},Si,{data:0}),I=bn(v),N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ye(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=ne[o])?!!a[o]:!1}function Fe(){return ye}var Bt=ue({},fo,{key:function(o){if(o.key){var a=N[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Aa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(o){return o.type==="keypress"?Aa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Aa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),at=bn(Bt),Gt=ue({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=bn(Gt),ys=ue({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),Ri=bn(ys),Ai=ue({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=bn(Ai),id=ue({},Ca,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),eL=bn(id),tL=[9,13,27,32],Zy=u&&"CompositionEvent"in window,sd=null;u&&"documentMode"in document&&(sd=document.documentMode);var nL=u&&"TextEvent"in window&&!sd,zT=u&&(!Zy||sd&&8<sd&&11>=sd),WT=" ",qT=!1;function HT(o,a){switch(o){case"keyup":return tL.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ql=!1;function rL(o,a){switch(o){case"compositionend":return KT(a);case"keypress":return a.which!==32?null:(qT=!0,WT);case"textInput":return o=a.data,o===WT&&qT?null:o;default:return null}}function iL(o,a){if(Ql)return o==="compositionend"||!Zy&&HT(o,a)?(o=rp(),gs=zl=hr=null,Ql=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return zT&&a.locale!=="ko"?null:a.data;default:return null}}var sL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GT(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!sL[o.type]:a==="textarea"}function QT(o,a,c,p){io(p),a=hp(a,"onChange"),0<a.length&&(c=new Pa("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var od=null,ad=null;function oL(o){fS(o,0)}function lp(o){var a=eu(o);if(Wr(a))return o}function aL(o,a){if(o==="change")return a}var YT=!1;if(u){var e_;if(u){var t_="oninput"in document;if(!t_){var JT=document.createElement("div");JT.setAttribute("oninput","return;"),t_=typeof JT.oninput=="function"}e_=t_}else e_=!1;YT=e_&&(!document.documentMode||9<document.documentMode)}function XT(){od&&(od.detachEvent("onpropertychange",ZT),ad=od=null)}function ZT(o){if(o.propertyName==="value"&&lp(ad)){var a=[];QT(a,ad,o,Ol(o)),qf(oL,a)}}function lL(o,a,c){o==="focusin"?(XT(),od=a,ad=c,od.attachEvent("onpropertychange",ZT)):o==="focusout"&&XT()}function uL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lp(ad)}function cL(o,a){if(o==="click")return lp(a)}function dL(o,a){if(o==="input"||o==="change")return lp(a)}function hL(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Gr=typeof Object.is=="function"?Object.is:hL;function ld(o,a){if(Gr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!d.call(a,g)||!Gr(o[g],a[g]))return!1}return!0}function eS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function tS(o,a){var c=eS(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=eS(c)}}function nS(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?nS(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function rS(){for(var o=window,a=gn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=gn(o.document)}return a}function n_(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function fL(o){var a=rS(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&nS(c.ownerDocument.documentElement,c)){if(p!==null&&n_(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,_=Math.min(p.start,g);p=p.end===void 0?_:Math.min(p.end,g),!o.extend&&_>p&&(g=p,p=_,_=g),g=tS(c,_);var R=tS(c,p);g&&R&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==R.node||o.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),o.removeAllRanges(),_>p?(o.addRange(a),o.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var pL=u&&"documentMode"in document&&11>=document.documentMode,Yl=null,r_=null,ud=null,i_=!1;function iS(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;i_||Yl==null||Yl!==gn(p)||(p=Yl,"selectionStart"in p&&n_(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ud&&ld(ud,p)||(ud=p,p=hp(r_,"onSelect"),0<p.length&&(a=new Pa("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=Yl)))}function up(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Jl={animationend:up("Animation","AnimationEnd"),animationiteration:up("Animation","AnimationIteration"),animationstart:up("Animation","AnimationStart"),transitionend:up("Transition","TransitionEnd")},s_={},sS={};u&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function cp(o){if(s_[o])return s_[o];if(!Jl[o])return o;var a=Jl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in sS)return s_[o]=a[c];return o}var oS=cp("animationend"),aS=cp("animationiteration"),lS=cp("animationstart"),uS=cp("transitionend"),cS=new Map,dS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(o,a){cS.set(o,a),s(a,[o])}for(var o_=0;o_<dS.length;o_++){var a_=dS[o_],mL=a_.toLowerCase(),gL=a_[0].toUpperCase()+a_.slice(1);mo(mL,"on"+gL)}mo(oS,"onAnimationEnd"),mo(aS,"onAnimationIteration"),mo(lS,"onAnimationStart"),mo("dblclick","onDoubleClick"),mo("focusin","onFocus"),mo("focusout","onBlur"),mo(uS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yL=new Set("cancel close invalid load scroll toggle".split(" ").concat(cd));function hS(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Bc(p,a,void 0,o),o.currentTarget=null}function fS(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],g=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var R=p.length-1;0<=R;R--){var F=p[R],B=F.instance,ee=F.currentTarget;if(F=F.listener,B!==_&&g.isPropagationStopped())break e;hS(g,F,ee),_=B}else for(R=0;R<p.length;R++){if(F=p[R],B=F.instance,ee=F.currentTarget,F=F.listener,B!==_&&g.isPropagationStopped())break e;hS(g,F,ee),_=B}}}if(Dl)throw o=br,Dl=!1,br=null,o}function vt(o,a){var c=a[m_];c===void 0&&(c=a[m_]=new Set);var p=o+"__bubble";c.has(p)||(pS(a,o,2,!1),c.add(p))}function l_(o,a,c){var p=0;a&&(p|=4),pS(c,o,p,a)}var dp="_reactListening"+Math.random().toString(36).slice(2);function dd(o){if(!o[dp]){o[dp]=!0,r.forEach(function(c){c!=="selectionchange"&&(yL.has(c)||l_(c,!1,o),l_(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[dp]||(a[dp]=!0,l_("selectionchange",!1,a))}}function pS(o,a,c,p){switch(Bl(a)){case 1:var g=Ei;break;case 4:g=np;break;default:g=td}c=g.bind(null,a,c,o),g=void 0,!oo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?o.addEventListener(a,c,{capture:!0,passive:g}):o.addEventListener(a,c,!0):g!==void 0?o.addEventListener(a,c,{passive:g}):o.addEventListener(a,c,!1)}function u_(o,a,c,p,g){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var F=p.stateNode.containerInfo;if(F===g||F.nodeType===8&&F.parentNode===g)break;if(R===4)for(R=p.return;R!==null;){var B=R.tag;if((B===3||B===4)&&(B=R.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;R=R.return}for(;F!==null;){if(R=ba(F),R===null)return;if(B=R.tag,B===5||B===6){p=_=R;continue e}F=F.parentNode}}p=p.return}qf(function(){var ee=_,he=Ol(c),me=[];e:{var ce=cS.get(o);if(ce!==void 0){var Ie=Pa,Se=o;switch(o){case"keypress":if(Aa(c)===0)break e;case"keydown":case"keyup":Ie=at;break;case"focusin":Se="focus",Ie=vn;break;case"focusout":Se="blur",Ie=vn;break;case"beforeblur":case"afterblur":Ie=vn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Ri;break;case oS:case aS:case lS:Ie=ap;break;case uS:Ie=Gl;break;case"scroll":Ie=Wl;break;case"wheel":Ie=eL;break;case"copy":case"cut":case"paste":Ie=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=pr}var Ae=(a&4)!==0,zt=!Ae&&o==="scroll",J=Ae?ce!==null?ce+"Capture":null:ce;Ae=[];for(var K=ee,Z;K!==null;){Z=K;var ge=Z.stateNode;if(Z.tag===5&&ge!==null&&(Z=ge,J!==null&&(ge=ga(K,J),ge!=null&&Ae.push(hd(K,ge,Z)))),zt)break;K=K.return}0<Ae.length&&(ce=new Ie(ce,Se,null,c,he),me.push({event:ce,listeners:Ae}))}}if((a&7)===0){e:{if(ce=o==="mouseover"||o==="pointerover",Ie=o==="mouseout"||o==="pointerout",ce&&c!==ro&&(Se=c.relatedTarget||c.fromElement)&&(ba(Se)||Se[_s]))break e;if((Ie||ce)&&(ce=he.window===he?he:(ce=he.ownerDocument)?ce.defaultView||ce.parentWindow:window,Ie?(Se=c.relatedTarget||c.toElement,Ie=ee,Se=Se?ba(Se):null,Se!==null&&(zt=Hr(Se),Se!==zt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(Ie=null,Se=ee),Ie!==Se)){if(Ae=rd,ge="onMouseLeave",J="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=pr,ge="onPointerLeave",J="onPointerEnter",K="pointer"),zt=Ie==null?ce:eu(Ie),Z=Se==null?ce:eu(Se),ce=new Ae(ge,K+"leave",Ie,c,he),ce.target=zt,ce.relatedTarget=Z,ge=null,ba(he)===ee&&(Ae=new Ae(J,K+"enter",Se,c,he),Ae.target=Z,Ae.relatedTarget=zt,ge=Ae),zt=ge,Ie&&Se)t:{for(Ae=Ie,J=Se,K=0,Z=Ae;Z;Z=Xl(Z))K++;for(Z=0,ge=J;ge;ge=Xl(ge))Z++;for(;0<K-Z;)Ae=Xl(Ae),K--;for(;0<Z-K;)J=Xl(J),Z--;for(;K--;){if(Ae===J||J!==null&&Ae===J.alternate)break t;Ae=Xl(Ae),J=Xl(J)}Ae=null}else Ae=null;Ie!==null&&mS(me,ce,Ie,Ae,!1),Se!==null&&zt!==null&&mS(me,zt,Se,Ae,!0)}}e:{if(ce=ee?eu(ee):window,Ie=ce.nodeName&&ce.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ce.type==="file")var Pe=aL;else if(GT(ce))if(YT)Pe=dL;else{Pe=uL;var xe=lL}else(Ie=ce.nodeName)&&Ie.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Pe=cL);if(Pe&&(Pe=Pe(o,ee))){QT(me,Pe,c,he);break e}xe&&xe(o,ce,ee),o==="focusout"&&(xe=ce._wrapperState)&&xe.controlled&&ce.type==="number"&&Dt(ce,"number",ce.value)}switch(xe=ee?eu(ee):window,o){case"focusin":(GT(xe)||xe.contentEditable==="true")&&(Yl=xe,r_=ee,ud=null);break;case"focusout":ud=r_=Yl=null;break;case"mousedown":i_=!0;break;case"contextmenu":case"mouseup":case"dragend":i_=!1,iS(me,c,he);break;case"selectionchange":if(pL)break;case"keydown":case"keyup":iS(me,c,he)}var Ne;if(Zy)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ql?HT(o,c)&&(Le="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(zT&&c.locale!=="ko"&&(Ql||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ql&&(Ne=rp()):(hr=he,zl="value"in hr?hr.value:hr.textContent,Ql=!0)),xe=hp(ee,Le),0<xe.length&&(Le=new I(Le,o,null,c,he),me.push({event:Le,listeners:xe}),Ne?Le.data=Ne:(Ne=KT(c),Ne!==null&&(Le.data=Ne)))),(Ne=nL?rL(o,c):iL(o,c))&&(ee=hp(ee,"onBeforeInput"),0<ee.length&&(he=new I("onBeforeInput","beforeinput",null,c,he),me.push({event:he,listeners:ee}),he.data=Ne))}fS(me,a)})}function hd(o,a,c){return{instance:o,listener:a,currentTarget:c}}function hp(o,a){for(var c=a+"Capture",p=[];o!==null;){var g=o,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=ga(o,c),_!=null&&p.unshift(hd(o,_,g)),_=ga(o,a),_!=null&&p.push(hd(o,_,g))),o=o.return}return p}function Xl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function mS(o,a,c,p,g){for(var _=a._reactName,R=[];c!==null&&c!==p;){var F=c,B=F.alternate,ee=F.stateNode;if(B!==null&&B===p)break;F.tag===5&&ee!==null&&(F=ee,g?(B=ga(c,_),B!=null&&R.unshift(hd(c,B,F))):g||(B=ga(c,_),B!=null&&R.push(hd(c,B,F)))),c=c.return}R.length!==0&&o.push({event:a,listeners:R})}var _L=/\r\n?/g,vL=/\u0000|\uFFFD/g;function gS(o){return(typeof o=="string"?o:""+o).replace(_L,`
`).replace(vL,"")}function fp(o,a,c){if(a=gS(a),gS(o)!==a&&c)throw Error(t(425))}function pp(){}var c_=null,d_=null;function h_(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var f_=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,yS=typeof Promise=="function"?Promise:void 0,EL=typeof queueMicrotask=="function"?queueMicrotask:typeof yS<"u"?function(o){return yS.resolve(null).then(o).catch(IL)}:f_;function IL(o){setTimeout(function(){throw o})}function p_(o,a){var c=a,p=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){o.removeChild(g),ho(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);ho(a)}function go(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function _S(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),Pi="__reactFiber$"+Zl,fd="__reactProps$"+Zl,_s="__reactContainer$"+Zl,m_="__reactEvents$"+Zl,TL="__reactListeners$"+Zl,SL="__reactHandles$"+Zl;function ba(o){var a=o[Pi];if(a)return a;for(var c=o.parentNode;c;){if(a=c[_s]||c[Pi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=_S(o);o!==null;){if(c=o[Pi])return c;o=_S(o)}return a}o=c,c=o.parentNode}return null}function pd(o){return o=o[Pi]||o[_s],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function eu(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function mp(o){return o[fd]||null}var g_=[],tu=-1;function yo(o){return{current:o}}function wt(o){0>tu||(o.current=g_[tu],g_[tu]=null,tu--)}function mt(o,a){tu++,g_[tu]=o.current,o.current=a}var _o={},kn=yo(_o),Qn=yo(!1),ka=_o;function nu(o,a){var c=o.type.contextTypes;if(!c)return _o;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function Yn(o){return o=o.childContextTypes,o!=null}function gp(){wt(Qn),wt(kn)}function vS(o,a,c){if(kn.current!==_o)throw Error(t(168));mt(kn,a),mt(Qn,c)}function wS(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,Xe(o)||"Unknown",g));return ue({},c,p)}function yp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||_o,ka=kn.current,mt(kn,o),mt(Qn,Qn.current),!0}function ES(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=wS(o,a,ka),p.__reactInternalMemoizedMergedChildContext=o,wt(Qn),wt(kn),mt(kn,o)):wt(Qn),mt(Qn,c)}var vs=null,_p=!1,y_=!1;function IS(o){vs===null?vs=[o]:vs.push(o)}function RL(o){_p=!0,IS(o)}function vo(){if(!y_&&vs!==null){y_=!0;var o=0,a=Ge;try{var c=vs;for(Ge=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}vs=null,_p=!1}catch(g){throw vs!==null&&(vs=vs.slice(o+1)),Wc(Vl,vo),g}finally{Ge=a,y_=!1}}return null}var ru=[],iu=0,vp=null,wp=0,xr=[],Nr=0,xa=null,ws=1,Es="";function Na(o,a){ru[iu++]=wp,ru[iu++]=vp,vp=o,wp=a}function TS(o,a,c){xr[Nr++]=ws,xr[Nr++]=Es,xr[Nr++]=xa,xa=o;var p=ws;o=Es;var g=32-cr(p)-1;p&=~(1<<g),c+=1;var _=32-cr(a)+g;if(30<_){var R=g-g%5;_=(p&(1<<R)-1).toString(32),p>>=R,g-=R,ws=1<<32-cr(a)+g|c<<g|p,Es=_+o}else ws=1<<_|c<<g|p,Es=o}function __(o){o.return!==null&&(Na(o,1),TS(o,1,0))}function v_(o){for(;o===vp;)vp=ru[--iu],ru[iu]=null,wp=ru[--iu],ru[iu]=null;for(;o===xa;)xa=xr[--Nr],xr[Nr]=null,Es=xr[--Nr],xr[Nr]=null,ws=xr[--Nr],xr[Nr]=null}var mr=null,gr=null,St=!1,Qr=null;function SS(o,a){var c=Vr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function RS(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,mr=o,gr=go(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,mr=o,gr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=xa!==null?{id:ws,overflow:Es}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Vr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,mr=o,gr=null,!0):!1;default:return!1}}function w_(o){return(o.mode&1)!==0&&(o.flags&128)===0}function E_(o){if(St){var a=gr;if(a){var c=a;if(!RS(o,a)){if(w_(o))throw Error(t(418));a=go(c.nextSibling);var p=mr;a&&RS(o,a)?SS(p,c):(o.flags=o.flags&-4097|2,St=!1,mr=o)}}else{if(w_(o))throw Error(t(418));o.flags=o.flags&-4097|2,St=!1,mr=o}}}function AS(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;mr=o}function Ep(o){if(o!==mr)return!1;if(!St)return AS(o),St=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!h_(o.type,o.memoizedProps)),a&&(a=gr)){if(w_(o))throw PS(),Error(t(418));for(;a;)SS(o,a),a=go(a.nextSibling)}if(AS(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){gr=go(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}gr=null}}else gr=mr?go(o.stateNode.nextSibling):null;return!0}function PS(){for(var o=gr;o;)o=go(o.nextSibling)}function su(){gr=mr=null,St=!1}function I_(o){Qr===null?Qr=[o]:Qr.push(o)}var AL=H.ReactCurrentBatchConfig;function md(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var g=p,_=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(R){var F=g.refs;R===null?delete F[_]:F[_]=R},a._stringRef=_,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function Ip(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function CS(o){var a=o._init;return a(o._payload)}function bS(o){function a(J,K){if(o){var Z=J.deletions;Z===null?(J.deletions=[K],J.flags|=16):Z.push(K)}}function c(J,K){if(!o)return null;for(;K!==null;)a(J,K),K=K.sibling;return null}function p(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function g(J,K){return J=Po(J,K),J.index=0,J.sibling=null,J}function _(J,K,Z){return J.index=Z,o?(Z=J.alternate,Z!==null?(Z=Z.index,Z<K?(J.flags|=2,K):Z):(J.flags|=2,K)):(J.flags|=1048576,K)}function R(J){return o&&J.alternate===null&&(J.flags|=2),J}function F(J,K,Z,ge){return K===null||K.tag!==6?(K=fv(Z,J.mode,ge),K.return=J,K):(K=g(K,Z),K.return=J,K)}function B(J,K,Z,ge){var Pe=Z.type;return Pe===O?he(J,K,Z.props.children,ge,Z.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===oe&&CS(Pe)===K.type)?(ge=g(K,Z.props),ge.ref=md(J,K,Z),ge.return=J,ge):(ge=Hp(Z.type,Z.key,Z.props,null,J.mode,ge),ge.ref=md(J,K,Z),ge.return=J,ge)}function ee(J,K,Z,ge){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=pv(Z,J.mode,ge),K.return=J,K):(K=g(K,Z.children||[]),K.return=J,K)}function he(J,K,Z,ge,Pe){return K===null||K.tag!==7?(K=$a(Z,J.mode,ge,Pe),K.return=J,K):(K=g(K,Z),K.return=J,K)}function me(J,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number")return K=fv(""+K,J.mode,Z),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return Z=Hp(K.type,K.key,K.props,null,J.mode,Z),Z.ref=md(J,null,K),Z.return=J,Z;case U:return K=pv(K,J.mode,Z),K.return=J,K;case oe:var ge=K._init;return me(J,ge(K._payload),Z)}if(Tt(K)||fe(K))return K=$a(K,J.mode,Z,null),K.return=J,K;Ip(J,K)}return null}function ce(J,K,Z,ge){var Pe=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Pe!==null?null:F(J,K,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:return Z.key===Pe?B(J,K,Z,ge):null;case U:return Z.key===Pe?ee(J,K,Z,ge):null;case oe:return Pe=Z._init,ce(J,K,Pe(Z._payload),ge)}if(Tt(Z)||fe(Z))return Pe!==null?null:he(J,K,Z,ge,null);Ip(J,Z)}return null}function Ie(J,K,Z,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return J=J.get(Z)||null,F(K,J,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case q:return J=J.get(ge.key===null?Z:ge.key)||null,B(K,J,ge,Pe);case U:return J=J.get(ge.key===null?Z:ge.key)||null,ee(K,J,ge,Pe);case oe:var xe=ge._init;return Ie(J,K,Z,xe(ge._payload),Pe)}if(Tt(ge)||fe(ge))return J=J.get(Z)||null,he(K,J,ge,Pe,null);Ip(K,ge)}return null}function Se(J,K,Z,ge){for(var Pe=null,xe=null,Ne=K,Le=K=0,cn=null;Ne!==null&&Le<Z.length;Le++){Ne.index>Le?(cn=Ne,Ne=null):cn=Ne.sibling;var et=ce(J,Ne,Z[Le],ge);if(et===null){Ne===null&&(Ne=cn);break}o&&Ne&&et.alternate===null&&a(J,Ne),K=_(et,K,Le),xe===null?Pe=et:xe.sibling=et,xe=et,Ne=cn}if(Le===Z.length)return c(J,Ne),St&&Na(J,Le),Pe;if(Ne===null){for(;Le<Z.length;Le++)Ne=me(J,Z[Le],ge),Ne!==null&&(K=_(Ne,K,Le),xe===null?Pe=Ne:xe.sibling=Ne,xe=Ne);return St&&Na(J,Le),Pe}for(Ne=p(J,Ne);Le<Z.length;Le++)cn=Ie(Ne,J,Le,Z[Le],ge),cn!==null&&(o&&cn.alternate!==null&&Ne.delete(cn.key===null?Le:cn.key),K=_(cn,K,Le),xe===null?Pe=cn:xe.sibling=cn,xe=cn);return o&&Ne.forEach(function(Co){return a(J,Co)}),St&&Na(J,Le),Pe}function Ae(J,K,Z,ge){var Pe=fe(Z);if(typeof Pe!="function")throw Error(t(150));if(Z=Pe.call(Z),Z==null)throw Error(t(151));for(var xe=Pe=null,Ne=K,Le=K=0,cn=null,et=Z.next();Ne!==null&&!et.done;Le++,et=Z.next()){Ne.index>Le?(cn=Ne,Ne=null):cn=Ne.sibling;var Co=ce(J,Ne,et.value,ge);if(Co===null){Ne===null&&(Ne=cn);break}o&&Ne&&Co.alternate===null&&a(J,Ne),K=_(Co,K,Le),xe===null?Pe=Co:xe.sibling=Co,xe=Co,Ne=cn}if(et.done)return c(J,Ne),St&&Na(J,Le),Pe;if(Ne===null){for(;!et.done;Le++,et=Z.next())et=me(J,et.value,ge),et!==null&&(K=_(et,K,Le),xe===null?Pe=et:xe.sibling=et,xe=et);return St&&Na(J,Le),Pe}for(Ne=p(J,Ne);!et.done;Le++,et=Z.next())et=Ie(Ne,J,Le,et.value,ge),et!==null&&(o&&et.alternate!==null&&Ne.delete(et.key===null?Le:et.key),K=_(et,K,Le),xe===null?Pe=et:xe.sibling=et,xe=et);return o&&Ne.forEach(function(s2){return a(J,s2)}),St&&Na(J,Le),Pe}function zt(J,K,Z,ge){if(typeof Z=="object"&&Z!==null&&Z.type===O&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:e:{for(var Pe=Z.key,xe=K;xe!==null;){if(xe.key===Pe){if(Pe=Z.type,Pe===O){if(xe.tag===7){c(J,xe.sibling),K=g(xe,Z.props.children),K.return=J,J=K;break e}}else if(xe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===oe&&CS(Pe)===xe.type){c(J,xe.sibling),K=g(xe,Z.props),K.ref=md(J,xe,Z),K.return=J,J=K;break e}c(J,xe);break}else a(J,xe);xe=xe.sibling}Z.type===O?(K=$a(Z.props.children,J.mode,ge,Z.key),K.return=J,J=K):(ge=Hp(Z.type,Z.key,Z.props,null,J.mode,ge),ge.ref=md(J,K,Z),ge.return=J,J=ge)}return R(J);case U:e:{for(xe=Z.key;K!==null;){if(K.key===xe)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){c(J,K.sibling),K=g(K,Z.children||[]),K.return=J,J=K;break e}else{c(J,K);break}else a(J,K);K=K.sibling}K=pv(Z,J.mode,ge),K.return=J,J=K}return R(J);case oe:return xe=Z._init,zt(J,K,xe(Z._payload),ge)}if(Tt(Z))return Se(J,K,Z,ge);if(fe(Z))return Ae(J,K,Z,ge);Ip(J,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,K!==null&&K.tag===6?(c(J,K.sibling),K=g(K,Z),K.return=J,J=K):(c(J,K),K=fv(Z,J.mode,ge),K.return=J,J=K),R(J)):c(J,K)}return zt}var ou=bS(!0),kS=bS(!1),Tp=yo(null),Sp=null,au=null,T_=null;function S_(){T_=au=Sp=null}function R_(o){var a=Tp.current;wt(Tp),o._currentValue=a}function A_(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function lu(o,a){Sp=o,T_=au=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Jn=!0),o.firstContext=null)}function Or(o){var a=o._currentValue;if(T_!==o)if(o={context:o,memoizedValue:a,next:null},au===null){if(Sp===null)throw Error(t(308));au=o,Sp.dependencies={lanes:0,firstContext:o}}else au=au.next=o;return a}var Oa=null;function P_(o){Oa===null?Oa=[o]:Oa.push(o)}function xS(o,a,c,p){var g=a.interleaved;return g===null?(c.next=c,P_(a)):(c.next=g.next,g.next=c),a.interleaved=c,Is(o,p)}function Is(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var wo=!1;function C_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ts(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Eo(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ze&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Is(o,c)}return g=p.interleaved,g===null?(a.next=a,P_(p)):(a.next=g.next,g.next=a),p.interleaved=a,Is(o,c)}function Rp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Yc(o,c)}}function OS(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=R:_=_.next=R,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Ap(o,a,c,p){var g=o.updateQueue;wo=!1;var _=g.firstBaseUpdate,R=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var B=F,ee=B.next;B.next=null,R===null?_=ee:R.next=ee,R=B;var he=o.alternate;he!==null&&(he=he.updateQueue,F=he.lastBaseUpdate,F!==R&&(F===null?he.firstBaseUpdate=ee:F.next=ee,he.lastBaseUpdate=B))}if(_!==null){var me=g.baseState;R=0,he=ee=B=null,F=_;do{var ce=F.lane,Ie=F.eventTime;if((p&ce)===ce){he!==null&&(he=he.next={eventTime:Ie,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Se=o,Ae=F;switch(ce=a,Ie=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){me=Se.call(Ie,me,ce);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,ce=typeof Se=="function"?Se.call(Ie,me,ce):Se,ce==null)break e;me=ue({},me,ce);break e;case 2:wo=!0}}F.callback!==null&&F.lane!==0&&(o.flags|=64,ce=g.effects,ce===null?g.effects=[F]:ce.push(F))}else Ie={eventTime:Ie,lane:ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},he===null?(ee=he=Ie,B=me):he=he.next=Ie,R|=ce;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;ce=F,F=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);if(he===null&&(B=me),g.baseState=B,g.firstBaseUpdate=ee,g.lastBaseUpdate=he,a=g.shared.interleaved,a!==null){g=a;do R|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);Va|=R,o.lanes=R,o.memoizedState=me}}function DS(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var gd={},Ci=yo(gd),yd=yo(gd),_d=yo(gd);function Da(o){if(o===gd)throw Error(t(174));return o}function b_(o,a){switch(mt(_d,a),mt(yd,o),mt(Ci,gd),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Pn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Pn(a,o)}wt(Ci),mt(Ci,a)}function uu(){wt(Ci),wt(yd),wt(_d)}function LS(o){Da(_d.current);var a=Da(Ci.current),c=Pn(a,o.type);a!==c&&(mt(yd,o),mt(Ci,c))}function k_(o){yd.current===o&&(wt(Ci),wt(yd))}var kt=yo(0);function Pp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var x_=[];function N_(){for(var o=0;o<x_.length;o++)x_[o]._workInProgressVersionPrimary=null;x_.length=0}var Cp=H.ReactCurrentDispatcher,O_=H.ReactCurrentBatchConfig,La=0,xt=null,rn=null,ln=null,bp=!1,vd=!1,wd=0,PL=0;function xn(){throw Error(t(321))}function D_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Gr(o[c],a[c]))return!1;return!0}function L_(o,a,c,p,g,_){if(La=_,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Cp.current=o===null||o.memoizedState===null?xL:NL,o=c(p,g),vd){_=0;do{if(vd=!1,wd=0,25<=_)throw Error(t(301));_+=1,ln=rn=null,a.updateQueue=null,Cp.current=OL,o=c(p,g)}while(vd)}if(Cp.current=Np,a=rn!==null&&rn.next!==null,La=0,ln=rn=xt=null,bp=!1,a)throw Error(t(300));return o}function V_(){var o=wd!==0;return wd=0,o}function bi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?xt.memoizedState=ln=o:ln=ln.next=o,ln}function Dr(){if(rn===null){var o=xt.alternate;o=o!==null?o.memoizedState:null}else o=rn.next;var a=ln===null?xt.memoizedState:ln.next;if(a!==null)ln=a,rn=o;else{if(o===null)throw Error(t(310));rn=o,o={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},ln===null?xt.memoizedState=ln=o:ln=ln.next=o}return ln}function Ed(o,a){return typeof a=="function"?a(o):a}function M_(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=rn,g=p.baseQueue,_=c.pending;if(_!==null){if(g!==null){var R=g.next;g.next=_.next,_.next=R}p.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,p=p.baseState;var F=R=null,B=null,ee=_;do{var he=ee.lane;if((La&he)===he)B!==null&&(B=B.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:o(p,ee.action);else{var me={lane:he,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};B===null?(F=B=me,R=p):B=B.next=me,xt.lanes|=he,Va|=he}ee=ee.next}while(ee!==null&&ee!==_);B===null?R=p:B.next=F,Gr(p,a.memoizedState)||(Jn=!0),a.memoizedState=p,a.baseState=R,a.baseQueue=B,c.lastRenderedState=p}if(o=c.interleaved,o!==null){g=o;do _=g.lane,xt.lanes|=_,Va|=_,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function F_(o){var a=Dr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var R=g=g.next;do _=o(_,R.action),R=R.next;while(R!==g);Gr(_,a.memoizedState)||(Jn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,p]}function VS(){}function MS(o,a){var c=xt,p=Dr(),g=a(),_=!Gr(p.memoizedState,g);if(_&&(p.memoizedState=g,Jn=!0),p=p.queue,U_($S.bind(null,c,p,o),[o]),p.getSnapshot!==a||_||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Id(9,US.bind(null,c,p,g,a),void 0,null),un===null)throw Error(t(349));(La&30)!==0||FS(c,a,g)}return g}function FS(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function US(o,a,c,p){a.value=c,a.getSnapshot=p,jS(a)&&BS(o)}function $S(o,a,c){return c(function(){jS(a)&&BS(o)})}function jS(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Gr(o,c)}catch{return!0}}function BS(o){var a=Is(o,1);a!==null&&Zr(a,o,1,-1)}function zS(o){var a=bi();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:o},a.queue=o,o=o.dispatch=kL.bind(null,xt,o),[a.memoizedState,o]}function Id(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function WS(){return Dr().memoizedState}function kp(o,a,c,p){var g=bi();xt.flags|=o,g.memoizedState=Id(1|a,c,void 0,p===void 0?null:p)}function xp(o,a,c,p){var g=Dr();p=p===void 0?null:p;var _=void 0;if(rn!==null){var R=rn.memoizedState;if(_=R.destroy,p!==null&&D_(p,R.deps)){g.memoizedState=Id(a,c,_,p);return}}xt.flags|=o,g.memoizedState=Id(1|a,c,_,p)}function qS(o,a){return kp(8390656,8,o,a)}function U_(o,a){return xp(2048,8,o,a)}function HS(o,a){return xp(4,2,o,a)}function KS(o,a){return xp(4,4,o,a)}function GS(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function QS(o,a,c){return c=c!=null?c.concat([o]):null,xp(4,4,GS.bind(null,a,o),c)}function $_(){}function YS(o,a){var c=Dr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&D_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function JS(o,a){var c=Dr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&D_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function XS(o,a,c){return(La&21)===0?(o.baseState&&(o.baseState=!1,Jn=!0),o.memoizedState=c):(Gr(c,a)||(c=Gc(),xt.lanes|=c,Va|=c,o.baseState=!0),a)}function CL(o,a){var c=Ge;Ge=c!==0&&4>c?c:4,o(!0);var p=O_.transition;O_.transition={};try{o(!1),a()}finally{Ge=c,O_.transition=p}}function ZS(){return Dr().memoizedState}function bL(o,a,c){var p=Ro(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},e0(o))t0(a,c);else if(c=xS(o,a,c,p),c!==null){var g=zn();Zr(c,o,p,g),n0(c,a,p)}}function kL(o,a,c){var p=Ro(o),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(e0(o))t0(a,g);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var R=a.lastRenderedState,F=_(R,c);if(g.hasEagerState=!0,g.eagerState=F,Gr(F,R)){var B=a.interleaved;B===null?(g.next=g,P_(a)):(g.next=B.next,B.next=g),a.interleaved=g;return}}catch{}finally{}c=xS(o,a,g,p),c!==null&&(g=zn(),Zr(c,o,p,g),n0(c,a,p))}}function e0(o){var a=o.alternate;return o===xt||a!==null&&a===xt}function t0(o,a){vd=bp=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function n0(o,a,c){if((c&4194240)!==0){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Yc(o,c)}}var Np={readContext:Or,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},xL={readContext:Or,useCallback:function(o,a){return bi().memoizedState=[o,a===void 0?null:a],o},useContext:Or,useEffect:qS,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,kp(4194308,4,GS.bind(null,a,o),c)},useLayoutEffect:function(o,a){return kp(4194308,4,o,a)},useInsertionEffect:function(o,a){return kp(4,2,o,a)},useMemo:function(o,a){var c=bi();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=bi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=bL.bind(null,xt,o),[p.memoizedState,o]},useRef:function(o){var a=bi();return o={current:o},a.memoizedState=o},useState:zS,useDebugValue:$_,useDeferredValue:function(o){return bi().memoizedState=o},useTransition:function(){var o=zS(!1),a=o[0];return o=CL.bind(null,o[1]),bi().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=xt,g=bi();if(St){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),un===null)throw Error(t(349));(La&30)!==0||FS(p,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,qS($S.bind(null,p,_,o),[o]),p.flags|=2048,Id(9,US.bind(null,p,_,c,a),void 0,null),c},useId:function(){var o=bi(),a=un.identifierPrefix;if(St){var c=Es,p=ws;c=(p&~(1<<32-cr(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=wd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=PL++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},NL={readContext:Or,useCallback:YS,useContext:Or,useEffect:U_,useImperativeHandle:QS,useInsertionEffect:HS,useLayoutEffect:KS,useMemo:JS,useReducer:M_,useRef:WS,useState:function(){return M_(Ed)},useDebugValue:$_,useDeferredValue:function(o){var a=Dr();return XS(a,rn.memoizedState,o)},useTransition:function(){var o=M_(Ed)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:VS,useSyncExternalStore:MS,useId:ZS,unstable_isNewReconciler:!1},OL={readContext:Or,useCallback:YS,useContext:Or,useEffect:U_,useImperativeHandle:QS,useInsertionEffect:HS,useLayoutEffect:KS,useMemo:JS,useReducer:F_,useRef:WS,useState:function(){return F_(Ed)},useDebugValue:$_,useDeferredValue:function(o){var a=Dr();return rn===null?a.memoizedState=o:XS(a,rn.memoizedState,o)},useTransition:function(){var o=F_(Ed)[0],a=Dr().memoizedState;return[o,a]},useMutableSource:VS,useSyncExternalStore:MS,useId:ZS,unstable_isNewReconciler:!1};function Yr(o,a){if(o&&o.defaultProps){a=ue({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function j_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:ue({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Op={isMounted:function(o){return(o=o._reactInternals)?Hr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=zn(),g=Ro(o),_=Ts(p,g);_.payload=a,c!=null&&(_.callback=c),a=Eo(o,_,g),a!==null&&(Zr(a,o,g,p),Rp(a,o,g))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=zn(),g=Ro(o),_=Ts(p,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=Eo(o,_,g),a!==null&&(Zr(a,o,g,p),Rp(a,o,g))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=zn(),p=Ro(o),g=Ts(c,p);g.tag=2,a!=null&&(g.callback=a),a=Eo(o,g,p),a!==null&&(Zr(a,o,p,c),Rp(a,o,p))}};function r0(o,a,c,p,g,_,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,_,R):a.prototype&&a.prototype.isPureReactComponent?!ld(c,p)||!ld(g,_):!0}function i0(o,a,c){var p=!1,g=_o,_=a.contextType;return typeof _=="object"&&_!==null?_=Or(_):(g=Yn(a)?ka:kn.current,p=a.contextTypes,_=(p=p!=null)?nu(o,g):_o),a=new a(c,_),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Op,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=_),a}function s0(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&Op.enqueueReplaceState(a,a.state,null)}function B_(o,a,c,p){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs={},C_(o);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Or(_):(_=Yn(a)?ka:kn.current,g.context=nu(o,_)),g.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(j_(o,a,_,c),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Op.enqueueReplaceState(g,g.state,null),Ap(o,c,g,p),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function cu(o,a){try{var c="",p=a;do c+=De(p),p=p.return;while(p);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:a,stack:g,digest:null}}function z_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function W_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var DL=typeof WeakMap=="function"?WeakMap:Map;function o0(o,a,c){c=Ts(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){$p||($p=!0,sv=p),W_(o,a)},c}function a0(o,a,c){c=Ts(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){W_(o,a)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){W_(o,a),typeof p!="function"&&(To===null?To=new Set([this]):To.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),c}function l0(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new DL;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),o=GL.bind(null,o,a,c),a.then(o,o))}function u0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function c0(o,a,c,p,g){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ts(-1,1),a.tag=2,Eo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var LL=H.ReactCurrentOwner,Jn=!1;function Bn(o,a,c,p){a.child=o===null?kS(a,null,c,p):ou(a,o.child,c,p)}function d0(o,a,c,p,g){c=c.render;var _=a.ref;return lu(a,g),p=L_(o,a,c,p,_,g),c=V_(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Ss(o,a,g)):(St&&c&&__(a),a.flags|=1,Bn(o,a,p,g),a.child)}function h0(o,a,c,p,g){if(o===null){var _=c.type;return typeof _=="function"&&!hv(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,f0(o,a,_,p,g)):(o=Hp(c.type,null,p,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(_=o.child,(o.lanes&g)===0){var R=_.memoizedProps;if(c=c.compare,c=c!==null?c:ld,c(R,p)&&o.ref===a.ref)return Ss(o,a,g)}return a.flags|=1,o=Po(_,p),o.ref=a.ref,o.return=a,a.child=o}function f0(o,a,c,p,g){if(o!==null){var _=o.memoizedProps;if(ld(_,p)&&o.ref===a.ref)if(Jn=!1,a.pendingProps=p=_,(o.lanes&g)!==0)(o.flags&131072)!==0&&(Jn=!0);else return a.lanes=o.lanes,Ss(o,a,g)}return q_(o,a,c,p,g)}function p0(o,a,c){var p=a.pendingProps,g=p.children,_=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(hu,yr),yr|=c;else{if((c&1073741824)===0)return o=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,mt(hu,yr),yr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,mt(hu,yr),yr|=p}else _!==null?(p=_.baseLanes|c,a.memoizedState=null):p=c,mt(hu,yr),yr|=p;return Bn(o,a,g,c),a.child}function m0(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function q_(o,a,c,p,g){var _=Yn(c)?ka:kn.current;return _=nu(a,_),lu(a,g),c=L_(o,a,c,p,_,g),p=V_(),o!==null&&!Jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Ss(o,a,g)):(St&&p&&__(a),a.flags|=1,Bn(o,a,c,g),a.child)}function g0(o,a,c,p,g){if(Yn(c)){var _=!0;yp(a)}else _=!1;if(lu(a,g),a.stateNode===null)Lp(o,a),i0(a,c,p),B_(a,c,p,g),p=!0;else if(o===null){var R=a.stateNode,F=a.memoizedProps;R.props=F;var B=R.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Or(ee):(ee=Yn(c)?ka:kn.current,ee=nu(a,ee));var he=c.getDerivedStateFromProps,me=typeof he=="function"||typeof R.getSnapshotBeforeUpdate=="function";me||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(F!==p||B!==ee)&&s0(a,R,p,ee),wo=!1;var ce=a.memoizedState;R.state=ce,Ap(a,p,R,g),B=a.memoizedState,F!==p||ce!==B||Qn.current||wo?(typeof he=="function"&&(j_(a,c,he,p),B=a.memoizedState),(F=wo||r0(a,c,F,p,ce,B,ee))?(me||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=B),R.props=p,R.state=B,R.context=ee,p=F):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{R=a.stateNode,NS(o,a),F=a.memoizedProps,ee=a.type===a.elementType?F:Yr(a.type,F),R.props=ee,me=a.pendingProps,ce=R.context,B=c.contextType,typeof B=="object"&&B!==null?B=Or(B):(B=Yn(c)?ka:kn.current,B=nu(a,B));var Ie=c.getDerivedStateFromProps;(he=typeof Ie=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(F!==me||ce!==B)&&s0(a,R,p,B),wo=!1,ce=a.memoizedState,R.state=ce,Ap(a,p,R,g);var Se=a.memoizedState;F!==me||ce!==Se||Qn.current||wo?(typeof Ie=="function"&&(j_(a,c,Ie,p),Se=a.memoizedState),(ee=wo||r0(a,c,ee,p,ce,Se,B)||!1)?(he||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,Se,B),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,Se,B)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||F===o.memoizedProps&&ce===o.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&ce===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),R.props=p,R.state=Se,R.context=B,p=ee):(typeof R.componentDidUpdate!="function"||F===o.memoizedProps&&ce===o.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&ce===o.memoizedState||(a.flags|=1024),p=!1)}return H_(o,a,c,p,_,g)}function H_(o,a,c,p,g,_){m0(o,a);var R=(a.flags&128)!==0;if(!p&&!R)return g&&ES(a,c,!1),Ss(o,a,_);p=a.stateNode,LL.current=a;var F=R&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&R?(a.child=ou(a,o.child,null,_),a.child=ou(a,null,F,_)):Bn(o,a,F,_),a.memoizedState=p.state,g&&ES(a,c,!0),a.child}function y0(o){var a=o.stateNode;a.pendingContext?vS(o,a.pendingContext,a.pendingContext!==a.context):a.context&&vS(o,a.context,!1),b_(o,a.containerInfo)}function _0(o,a,c,p,g){return su(),I_(g),a.flags|=256,Bn(o,a,c,p),a.child}var K_={dehydrated:null,treeContext:null,retryLane:0};function G_(o){return{baseLanes:o,cachePool:null,transitions:null}}function v0(o,a,c){var p=a.pendingProps,g=kt.current,_=!1,R=(a.flags&128)!==0,F;if((F=R)||(F=o!==null&&o.memoizedState===null?!1:(g&2)!==0),F?(_=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),mt(kt,g&1),o===null)return E_(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=p.children,o=p.fallback,_?(p=a.mode,_=a.child,R={mode:"hidden",children:R},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=R):_=Kp(R,p,0,null),o=$a(o,p,c,null),_.return=a,o.return=a,_.sibling=o,a.child=_,a.child.memoizedState=G_(c),a.memoizedState=K_,o):Q_(a,R));if(g=o.memoizedState,g!==null&&(F=g.dehydrated,F!==null))return VL(o,a,R,p,F,g,c);if(_){_=p.fallback,R=a.mode,g=o.child,F=g.sibling;var B={mode:"hidden",children:p.children};return(R&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=B,a.deletions=null):(p=Po(g,B),p.subtreeFlags=g.subtreeFlags&14680064),F!==null?_=Po(F,_):(_=$a(_,R,c,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,R=o.child.memoizedState,R=R===null?G_(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=o.childLanes&~c,a.memoizedState=K_,p}return _=o.child,o=_.sibling,p=Po(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function Q_(o,a){return a=Kp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Dp(o,a,c,p){return p!==null&&I_(p),ou(a,o.child,null,c),o=Q_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function VL(o,a,c,p,g,_,R){if(c)return a.flags&256?(a.flags&=-257,p=z_(Error(t(422))),Dp(o,a,R,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(_=p.fallback,g=a.mode,p=Kp({mode:"visible",children:p.children},g,0,null),_=$a(_,g,R,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&ou(a,o.child,null,R),a.child.memoizedState=G_(R),a.memoizedState=K_,_);if((a.mode&1)===0)return Dp(o,a,R,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var F=p.dgst;return p=F,_=Error(t(419)),p=z_(_,p,void 0),Dp(o,a,R,p)}if(F=(R&o.childLanes)!==0,Jn||F){if(p=un,p!==null){switch(R&-R){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|R))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Is(o,g),Zr(p,o,g,-1))}return dv(),p=z_(Error(t(421))),Dp(o,a,R,p)}return g.data==="$?"?(a.flags|=128,a.child=o.child,a=QL.bind(null,o),g._reactRetry=a,null):(o=_.treeContext,gr=go(g.nextSibling),mr=a,St=!0,Qr=null,o!==null&&(xr[Nr++]=ws,xr[Nr++]=Es,xr[Nr++]=xa,ws=o.id,Es=o.overflow,xa=a),a=Q_(a,p.children),a.flags|=4096,a)}function w0(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),A_(o.return,a,c)}function Y_(o,a,c,p,g){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=g)}function E0(o,a,c){var p=a.pendingProps,g=p.revealOrder,_=p.tail;if(Bn(o,a,p.children,c),p=kt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&w0(o,c,a);else if(o.tag===19)w0(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(mt(kt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)o=c.alternate,o!==null&&Pp(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Y_(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&Pp(o)===null){a.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}Y_(a,!0,c,null,_);break;case"together":Y_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Lp(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Ss(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Va|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=Po(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Po(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function ML(o,a,c){switch(a.tag){case 3:y0(a),su();break;case 5:LS(a);break;case 1:Yn(a.type)&&yp(a);break;case 4:b_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;mt(Tp,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(mt(kt,kt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?v0(o,a,c):(mt(kt,kt.current&1),o=Ss(o,a,c),o!==null?o.sibling:null);mt(kt,kt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(o.flags&128)!==0){if(p)return E0(o,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),mt(kt,kt.current),p)break;return null;case 22:case 23:return a.lanes=0,p0(o,a,c)}return Ss(o,a,c)}var I0,J_,T0,S0;I0=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},J_=function(){},T0=function(o,a,c,p){var g=o.memoizedProps;if(g!==p){o=a.stateNode,Da(Ci.current);var _=null;switch(c){case"input":g=hi(o,g),p=hi(o,p),_=[];break;case"select":g=ue({},g,{value:void 0}),p=ue({},p,{value:void 0}),_=[];break;case"textarea":g=ht(o,g),p=ht(o,p),_=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=pp)}qr(c,p);var R;c=null;for(ee in g)if(!p.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var F=g[ee];for(R in F)F.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in p){var B=p[ee];if(F=g?.[ee],p.hasOwnProperty(ee)&&B!==F&&(B!=null||F!=null))if(ee==="style")if(F){for(R in F)!F.hasOwnProperty(R)||B&&B.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in B)B.hasOwnProperty(R)&&F[R]!==B[R]&&(c||(c={}),c[R]=B[R])}else c||(_||(_=[]),_.push(ee,c)),c=B;else ee==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,F=F?F.__html:void 0,B!=null&&F!==B&&(_=_||[]).push(ee,B)):ee==="children"?typeof B!="string"&&typeof B!="number"||(_=_||[]).push(ee,""+B):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(B!=null&&ee==="onScroll"&&vt("scroll",o),_||F===B||(_=[])):(_=_||[]).push(ee,B))}c&&(_=_||[]).push("style",c);var ee=_;(a.updateQueue=ee)&&(a.flags|=4)}},S0=function(o,a,c,p){c!==p&&(a.flags|=4)};function Td(o,a){if(!St)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Nn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function FL(o,a,c){var p=a.pendingProps;switch(v_(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(a),null;case 1:return Yn(a.type)&&gp(),Nn(a),null;case 3:return p=a.stateNode,uu(),wt(Qn),wt(kn),N_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Ep(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qr!==null&&(lv(Qr),Qr=null))),J_(o,a),Nn(a),null;case 5:k_(a);var g=Da(_d.current);if(c=a.type,o!==null&&a.stateNode!=null)T0(o,a,c,p,g),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Nn(a),null}if(o=Da(Ci.current),Ep(a)){p=a.stateNode,c=a.type;var _=a.memoizedProps;switch(p[Pi]=a,p[fd]=_,o=(a.mode&1)!==0,c){case"dialog":vt("cancel",p),vt("close",p);break;case"iframe":case"object":case"embed":vt("load",p);break;case"video":case"audio":for(g=0;g<cd.length;g++)vt(cd[g],p);break;case"source":vt("error",p);break;case"img":case"image":case"link":vt("error",p),vt("load",p);break;case"details":vt("toggle",p);break;case"input":kl(p,_),vt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},vt("invalid",p);break;case"textarea":yn(p,_),vt("invalid",p)}qr(c,_),g=null;for(var R in _)if(_.hasOwnProperty(R)){var F=_[R];R==="children"?typeof F=="string"?p.textContent!==F&&(_.suppressHydrationWarning!==!0&&fp(p.textContent,F,o),g=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(_.suppressHydrationWarning!==!0&&fp(p.textContent,F,o),g=["children",""+F]):i.hasOwnProperty(R)&&F!=null&&R==="onScroll"&&vt("scroll",p)}switch(c){case"input":ss(p),pa(p,_,!0);break;case"textarea":ss(p),jn(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=pp)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{R=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Cr(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=R.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=R.createElement(c,{is:p.is}):(o=R.createElement(c),c==="select"&&(R=o,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):o=R.createElementNS(o,c),o[Pi]=a,o[fd]=p,I0(o,a,!1,!1),a.stateNode=o;e:{switch(R=Nl(c,p),c){case"dialog":vt("cancel",o),vt("close",o),g=p;break;case"iframe":case"object":case"embed":vt("load",o),g=p;break;case"video":case"audio":for(g=0;g<cd.length;g++)vt(cd[g],o);g=p;break;case"source":vt("error",o),g=p;break;case"img":case"image":case"link":vt("error",o),vt("load",o),g=p;break;case"details":vt("toggle",o),g=p;break;case"input":kl(o,p),g=hi(o,p),vt("invalid",o);break;case"option":g=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},g=ue({},p,{value:void 0}),vt("invalid",o);break;case"textarea":yn(o,p),g=ht(o,p),vt("invalid",o);break;default:g=p}qr(c,g),F=g;for(_ in F)if(F.hasOwnProperty(_)){var B=F[_];_==="style"?xl(o,B):_==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&eo(o,B)):_==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&ma(o,B):typeof B=="number"&&ma(o,""+B):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?B!=null&&_==="onScroll"&&vt("scroll",o):B!=null&&$(o,_,B,R))}switch(c){case"input":ss(o),pa(o,p,!1);break;case"textarea":ss(o),jn(o);break;case"option":p.value!=null&&o.setAttribute("value",""+We(p.value));break;case"select":o.multiple=!!p.multiple,_=p.value,_!=null?Be(o,!!p.multiple,_,!1):p.defaultValue!=null&&Be(o,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=pp)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Nn(a),null;case 6:if(o&&a.stateNode!=null)S0(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Da(_d.current),Da(Ci.current),Ep(a)){if(p=a.stateNode,c=a.memoizedProps,p[Pi]=a,(_=p.nodeValue!==c)&&(o=mr,o!==null))switch(o.tag){case 3:fp(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&fp(p.nodeValue,c,(o.mode&1)!==0)}_&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Pi]=a,a.stateNode=p}return Nn(a),null;case 13:if(wt(kt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(St&&gr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)PS(),su(),a.flags|=98560,_=!1;else if(_=Ep(a),p!==null&&p.dehydrated!==null){if(o===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Pi]=a}else su(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nn(a),_=!1}else Qr!==null&&(lv(Qr),Qr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(kt.current&1)!==0?sn===0&&(sn=3):dv())),a.updateQueue!==null&&(a.flags|=4),Nn(a),null);case 4:return uu(),J_(o,a),o===null&&dd(a.stateNode.containerInfo),Nn(a),null;case 10:return R_(a.type._context),Nn(a),null;case 17:return Yn(a.type)&&gp(),Nn(a),null;case 19:if(wt(kt),_=a.memoizedState,_===null)return Nn(a),null;if(p=(a.flags&128)!==0,R=_.rendering,R===null)if(p)Td(_,!1);else{if(sn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(R=Pp(o),R!==null){for(a.flags|=128,Td(_,!1),p=R.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)_=c,o=p,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,o=R.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return mt(kt,kt.current&1|2),a.child}o=o.sibling}_.tail!==null&&_t()>fu&&(a.flags|=128,p=!0,Td(_,!1),a.lanes=4194304)}else{if(!p)if(o=Pp(R),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Td(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!St)return Nn(a),null}else 2*_t()-_.renderingStartTime>fu&&c!==1073741824&&(a.flags|=128,p=!0,Td(_,!1),a.lanes=4194304);_.isBackwards?(R.sibling=a.child,a.child=R):(c=_.last,c!==null?c.sibling=R:a.child=R,_.last=R)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=_t(),a.sibling=null,c=kt.current,mt(kt,p?c&1|2:c&1),a):(Nn(a),null);case 22:case 23:return cv(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(yr&1073741824)!==0&&(Nn(a),a.subtreeFlags&6&&(a.flags|=8192)):Nn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function UL(o,a){switch(v_(a),a.tag){case 1:return Yn(a.type)&&gp(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return uu(),wt(Qn),wt(kn),N_(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return k_(a),null;case 13:if(wt(kt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));su()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return wt(kt),null;case 4:return uu(),null;case 10:return R_(a.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var Vp=!1,On=!1,$L=typeof WeakSet=="function"?WeakSet:Set,Te=null;function du(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Vt(o,a,p)}else c.current=null}function X_(o,a,c){try{c()}catch(p){Vt(o,a,p)}}var R0=!1;function jL(o,a){if(c_=ms,o=rS(),n_(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var R=0,F=-1,B=-1,ee=0,he=0,me=o,ce=null;t:for(;;){for(var Ie;me!==c||g!==0&&me.nodeType!==3||(F=R+g),me!==_||p!==0&&me.nodeType!==3||(B=R+p),me.nodeType===3&&(R+=me.nodeValue.length),(Ie=me.firstChild)!==null;)ce=me,me=Ie;for(;;){if(me===o)break t;if(ce===c&&++ee===g&&(F=R),ce===_&&++he===p&&(B=R),(Ie=me.nextSibling)!==null)break;me=ce,ce=me.parentNode}me=Ie}c=F===-1||B===-1?null:{start:F,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(d_={focusedElem:o,selectionRange:c},ms=!1,Te=a;Te!==null;)if(a=Te,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Te=o;else for(;Te!==null;){a=Te;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,zt=Se.memoizedState,J=a.stateNode,K=J.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:Yr(a.type,Ae),zt);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Z=a.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Vt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Te=o;break}Te=a.return}return Se=R0,R0=!1,Se}function Sd(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&o)===o){var _=g.destroy;g.destroy=void 0,_!==void 0&&X_(a,c,_)}g=g.next}while(g!==p)}}function Mp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Z_(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function A0(o){var a=o.alternate;a!==null&&(o.alternate=null,A0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Pi],delete a[fd],delete a[m_],delete a[TL],delete a[SL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function P0(o){return o.tag===5||o.tag===3||o.tag===4}function C0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||P0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ev(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=pp));else if(p!==4&&(o=o.child,o!==null))for(ev(o,a,c),o=o.sibling;o!==null;)ev(o,a,c),o=o.sibling}function tv(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(tv(o,a,c),o=o.sibling;o!==null;)tv(o,a,c),o=o.sibling}var wn=null,Jr=!1;function Io(o,a,c){for(c=c.child;c!==null;)b0(o,a,c),c=c.sibling}function b0(o,a,c){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(wa,c)}catch{}switch(c.tag){case 5:On||du(c,a);case 6:var p=wn,g=Jr;wn=null,Io(o,a,c),wn=p,Jr=g,wn!==null&&(Jr?(o=wn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):wn.removeChild(c.stateNode));break;case 18:wn!==null&&(Jr?(o=wn,c=c.stateNode,o.nodeType===8?p_(o.parentNode,c):o.nodeType===1&&p_(o,c),ho(o)):p_(wn,c.stateNode));break;case 4:p=wn,g=Jr,wn=c.stateNode.containerInfo,Jr=!0,Io(o,a,c),wn=p,Jr=g;break;case 0:case 11:case 14:case 15:if(!On&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var _=g,R=_.destroy;_=_.tag,R!==void 0&&((_&2)!==0||(_&4)!==0)&&X_(c,a,R),g=g.next}while(g!==p)}Io(o,a,c);break;case 1:if(!On&&(du(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){Vt(c,a,F)}Io(o,a,c);break;case 21:Io(o,a,c);break;case 22:c.mode&1?(On=(p=On)||c.memoizedState!==null,Io(o,a,c),On=p):Io(o,a,c);break;default:Io(o,a,c)}}function k0(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new $L),a.forEach(function(p){var g=YL.bind(null,o,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Xr(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var _=o,R=a,F=R;e:for(;F!==null;){switch(F.tag){case 5:wn=F.stateNode,Jr=!1;break e;case 3:wn=F.stateNode.containerInfo,Jr=!0;break e;case 4:wn=F.stateNode.containerInfo,Jr=!0;break e}F=F.return}if(wn===null)throw Error(t(160));b0(_,R,g),wn=null,Jr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(ee){Vt(g,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)x0(a,o),a=a.sibling}function x0(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Xr(a,o),ki(o),p&4){try{Sd(3,o,o.return),Mp(3,o)}catch(Ae){Vt(o,o.return,Ae)}try{Sd(5,o,o.return)}catch(Ae){Vt(o,o.return,Ae)}}break;case 1:Xr(a,o),ki(o),p&512&&c!==null&&du(c,c.return);break;case 5:if(Xr(a,o),ki(o),p&512&&c!==null&&du(c,c.return),o.flags&32){var g=o.stateNode;try{ma(g,"")}catch(Ae){Vt(o,o.return,Ae)}}if(p&4&&(g=o.stateNode,g!=null)){var _=o.memoizedProps,R=c!==null?c.memoizedProps:_,F=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{F==="input"&&_.type==="radio"&&_.name!=null&&Zs(g,_),Nl(F,R);var ee=Nl(F,_);for(R=0;R<B.length;R+=2){var he=B[R],me=B[R+1];he==="style"?xl(g,me):he==="dangerouslySetInnerHTML"?eo(g,me):he==="children"?ma(g,me):$(g,he,me,ee)}switch(F){case"input":os(g,_);break;case"textarea":as(g,_);break;case"select":var ce=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var Ie=_.value;Ie!=null?Be(g,!!_.multiple,Ie,!1):ce!==!!_.multiple&&(_.defaultValue!=null?Be(g,!!_.multiple,_.defaultValue,!0):Be(g,!!_.multiple,_.multiple?[]:"",!1))}g[fd]=_}catch(Ae){Vt(o,o.return,Ae)}}break;case 6:if(Xr(a,o),ki(o),p&4){if(o.stateNode===null)throw Error(t(162));g=o.stateNode,_=o.memoizedProps;try{g.nodeValue=_}catch(Ae){Vt(o,o.return,Ae)}}break;case 3:if(Xr(a,o),ki(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ho(a.containerInfo)}catch(Ae){Vt(o,o.return,Ae)}break;case 4:Xr(a,o),ki(o);break;case 13:Xr(a,o),ki(o),g=o.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(iv=_t())),p&4&&k0(o);break;case 22:if(he=c!==null&&c.memoizedState!==null,o.mode&1?(On=(ee=On)||he,Xr(a,o),On=ee):Xr(a,o),ki(o),p&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!he&&(o.mode&1)!==0)for(Te=o,he=o.child;he!==null;){for(me=Te=he;Te!==null;){switch(ce=Te,Ie=ce.child,ce.tag){case 0:case 11:case 14:case 15:Sd(4,ce,ce.return);break;case 1:du(ce,ce.return);var Se=ce.stateNode;if(typeof Se.componentWillUnmount=="function"){p=ce,c=ce.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Vt(p,c,Ae)}}break;case 5:du(ce,ce.return);break;case 22:if(ce.memoizedState!==null){D0(me);continue}}Ie!==null?(Ie.return=ce,Te=Ie):D0(me)}he=he.sibling}e:for(he=null,me=o;;){if(me.tag===5){if(he===null){he=me;try{g=me.stateNode,ee?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(F=me.stateNode,B=me.memoizedProps.style,R=B!=null&&B.hasOwnProperty("display")?B.display:null,F.style.display=no("display",R))}catch(Ae){Vt(o,o.return,Ae)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ee?"":me.memoizedProps}catch(Ae){Vt(o,o.return,Ae)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Xr(a,o),ki(o),p&4&&k0(o);break;case 21:break;default:Xr(a,o),ki(o)}}function ki(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(P0(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ma(g,""),p.flags&=-33);var _=C0(o);tv(o,_,g);break;case 3:case 4:var R=p.stateNode.containerInfo,F=C0(o);ev(o,F,R);break;default:throw Error(t(161))}}catch(B){Vt(o,o.return,B)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function BL(o,a,c){Te=o,N0(o)}function N0(o,a,c){for(var p=(o.mode&1)!==0;Te!==null;){var g=Te,_=g.child;if(g.tag===22&&p){var R=g.memoizedState!==null||Vp;if(!R){var F=g.alternate,B=F!==null&&F.memoizedState!==null||On;F=Vp;var ee=On;if(Vp=R,(On=B)&&!ee)for(Te=g;Te!==null;)R=Te,B=R.child,R.tag===22&&R.memoizedState!==null?L0(g):B!==null?(B.return=R,Te=B):L0(g);for(;_!==null;)Te=_,N0(_),_=_.sibling;Te=g,Vp=F,On=ee}O0(o)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Te=_):O0(o)}}function O0(o){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:On||Mp(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!On)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Yr(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&DS(a,_,p);break;case 3:var R=a.updateQueue;if(R!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}DS(a,R,c)}break;case 5:var F=a.stateNode;if(c===null&&a.flags&4){c=F;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var he=ee.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&ho(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}On||a.flags&512&&Z_(a)}catch(ce){Vt(a,a.return,ce)}}if(a===o){Te=null;break}if(c=a.sibling,c!==null){c.return=a.return,Te=c;break}Te=a.return}}function D0(o){for(;Te!==null;){var a=Te;if(a===o){Te=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Te=c;break}Te=a.return}}function L0(o){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Mp(4,a)}catch(B){Vt(a,c,B)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(B){Vt(a,g,B)}}var _=a.return;try{Z_(a)}catch(B){Vt(a,_,B)}break;case 5:var R=a.return;try{Z_(a)}catch(B){Vt(a,R,B)}}}catch(B){Vt(a,a.return,B)}if(a===o){Te=null;break}var F=a.sibling;if(F!==null){F.return=a.return,Te=F;break}Te=a.return}}var zL=Math.ceil,Fp=H.ReactCurrentDispatcher,nv=H.ReactCurrentOwner,Lr=H.ReactCurrentBatchConfig,Ze=0,un=null,Qt=null,En=0,yr=0,hu=yo(0),sn=0,Rd=null,Va=0,Up=0,rv=0,Ad=null,Xn=null,iv=0,fu=1/0,Rs=null,$p=!1,sv=null,To=null,jp=!1,So=null,Bp=0,Pd=0,ov=null,zp=-1,Wp=0;function zn(){return(Ze&6)!==0?_t():zp!==-1?zp:zp=_t()}function Ro(o){return(o.mode&1)===0?1:(Ze&2)!==0&&En!==0?En&-En:AL.transition!==null?(Wp===0&&(Wp=Gc()),Wp):(o=Ge,o!==0||(o=window.event,o=o===void 0?16:Bl(o.type)),o)}function Zr(o,a,c,p){if(50<Pd)throw Pd=0,ov=null,Error(t(185));Sa(o,c,p),((Ze&2)===0||o!==un)&&(o===un&&((Ze&2)===0&&(Up|=c),sn===4&&Ao(o,En)),Zn(o,p),c===1&&Ze===0&&(a.mode&1)===0&&(fu=_t()+500,_p&&vo()))}function Zn(o,a){var c=o.callbackNode;Ta(o,a);var p=hs(o,o===un?En:0);if(p===0)c!==null&&Ll(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&Ll(c),a===1)o.tag===0?RL(M0.bind(null,o)):IS(M0.bind(null,o)),EL(function(){(Ze&6)===0&&vo()}),c=null;else{switch(yi(p)){case 1:c=Vl;break;case 4:c=qc;break;case 16:c=va;break;case 536870912:c=Ml;break;default:c=va}c=q0(c,V0.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function V0(o,a){if(zp=-1,Wp=0,(Ze&6)!==0)throw Error(t(327));var c=o.callbackNode;if(pu()&&o.callbackNode!==c)return null;var p=hs(o,o===un?En:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||a)a=qp(o,p);else{a=p;var g=Ze;Ze|=2;var _=U0();(un!==o||En!==a)&&(Rs=null,fu=_t()+500,Fa(o,a));do try{HL();break}catch(F){F0(o,F)}while(!0);S_(),Fp.current=_,Ze=g,Qt!==null?a=0:(un=null,En=0,a=sn)}if(a!==0){if(a===2&&(g=Kc(o),g!==0&&(p=g,a=av(o,g))),a===1)throw c=Rd,Fa(o,0),Ao(o,p),Zn(o,_t()),c;if(a===6)Ao(o,p);else{if(g=o.current.alternate,(p&30)===0&&!WL(g)&&(a=qp(o,p),a===2&&(_=Kc(o),_!==0&&(p=_,a=av(o,_))),a===1))throw c=Rd,Fa(o,0),Ao(o,p),Zn(o,_t()),c;switch(o.finishedWork=g,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Ua(o,Xn,Rs);break;case 3:if(Ao(o,p),(p&130023424)===p&&(a=iv+500-_t(),10<a)){if(hs(o,0)!==0)break;if(g=o.suspendedLanes,(g&p)!==p){zn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=f_(Ua.bind(null,o,Xn,Rs),a);break}Ua(o,Xn,Rs);break;case 4:if(Ao(o,p),(p&4194240)===p)break;for(a=o.eventTimes,g=-1;0<p;){var R=31-cr(p);_=1<<R,R=a[R],R>g&&(g=R),p&=~_}if(p=g,p=_t()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*zL(p/1960))-p,10<p){o.timeoutHandle=f_(Ua.bind(null,o,Xn,Rs),p);break}Ua(o,Xn,Rs);break;case 5:Ua(o,Xn,Rs);break;default:throw Error(t(329))}}}return Zn(o,_t()),o.callbackNode===c?V0.bind(null,o):null}function av(o,a){var c=Ad;return o.current.memoizedState.isDehydrated&&(Fa(o,a).flags|=256),o=qp(o,a),o!==2&&(a=Xn,Xn=c,a!==null&&lv(a)),o}function lv(o){Xn===null?Xn=o:Xn.push.apply(Xn,o)}function WL(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],_=g.getSnapshot;g=g.value;try{if(!Gr(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ao(o,a){for(a&=~rv,a&=~Up,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-cr(a),p=1<<c;o[c]=-1,a&=~p}}function M0(o){if((Ze&6)!==0)throw Error(t(327));pu();var a=hs(o,0);if((a&1)===0)return Zn(o,_t()),null;var c=qp(o,a);if(o.tag!==0&&c===2){var p=Kc(o);p!==0&&(a=p,c=av(o,p))}if(c===1)throw c=Rd,Fa(o,0),Ao(o,a),Zn(o,_t()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Ua(o,Xn,Rs),Zn(o,_t()),null}function uv(o,a){var c=Ze;Ze|=1;try{return o(a)}finally{Ze=c,Ze===0&&(fu=_t()+500,_p&&vo())}}function Ma(o){So!==null&&So.tag===0&&(Ze&6)===0&&pu();var a=Ze;Ze|=1;var c=Lr.transition,p=Ge;try{if(Lr.transition=null,Ge=1,o)return o()}finally{Ge=p,Lr.transition=c,Ze=a,(Ze&6)===0&&vo()}}function cv(){yr=hu.current,wt(hu)}function Fa(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,wL(c)),Qt!==null)for(c=Qt.return;c!==null;){var p=c;switch(v_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&gp();break;case 3:uu(),wt(Qn),wt(kn),N_();break;case 5:k_(p);break;case 4:uu();break;case 13:wt(kt);break;case 19:wt(kt);break;case 10:R_(p.type._context);break;case 22:case 23:cv()}c=c.return}if(un=o,Qt=o=Po(o.current,null),En=yr=a,sn=0,Rd=null,rv=Up=Va=0,Xn=Ad=null,Oa!==null){for(a=0;a<Oa.length;a++)if(c=Oa[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,_=c.pending;if(_!==null){var R=_.next;_.next=g,p.next=R}c.pending=p}Oa=null}return o}function F0(o,a){do{var c=Qt;try{if(S_(),Cp.current=Np,bp){for(var p=xt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}bp=!1}if(La=0,ln=rn=xt=null,vd=!1,wd=0,nv.current=null,c===null||c.return===null){sn=1,Rd=a,Qt=null;break}e:{var _=o,R=c.return,F=c,B=a;if(a=En,F.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ee=B,he=F,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var ce=he.alternate;ce?(he.updateQueue=ce.updateQueue,he.memoizedState=ce.memoizedState,he.lanes=ce.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ie=u0(R);if(Ie!==null){Ie.flags&=-257,c0(Ie,R,F,_,a),Ie.mode&1&&l0(_,ee,a),a=Ie,B=ee;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add(B),a.updateQueue=Ae}else Se.add(B);break e}else{if((a&1)===0){l0(_,ee,a),dv();break e}B=Error(t(426))}}else if(St&&F.mode&1){var zt=u0(R);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),c0(zt,R,F,_,a),I_(cu(B,F));break e}}_=B=cu(B,F),sn!==4&&(sn=2),Ad===null?Ad=[_]:Ad.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var J=o0(_,B,a);OS(_,J);break e;case 1:F=B;var K=_.type,Z=_.stateNode;if((_.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(To===null||!To.has(Z)))){_.flags|=65536,a&=-a,_.lanes|=a;var ge=a0(_,F,a);OS(_,ge);break e}}_=_.return}while(_!==null)}j0(c)}catch(Pe){a=Pe,Qt===c&&c!==null&&(Qt=c=c.return);continue}break}while(!0)}function U0(){var o=Fp.current;return Fp.current=Np,o===null?Np:o}function dv(){(sn===0||sn===3||sn===2)&&(sn=4),un===null||(Va&268435455)===0&&(Up&268435455)===0||Ao(un,En)}function qp(o,a){var c=Ze;Ze|=2;var p=U0();(un!==o||En!==a)&&(Rs=null,Fa(o,a));do try{qL();break}catch(g){F0(o,g)}while(!0);if(S_(),Ze=c,Fp.current=p,Qt!==null)throw Error(t(261));return un=null,En=0,sn}function qL(){for(;Qt!==null;)$0(Qt)}function HL(){for(;Qt!==null&&!_a();)$0(Qt)}function $0(o){var a=W0(o.alternate,o,yr);o.memoizedProps=o.pendingProps,a===null?j0(o):Qt=a,nv.current=null}function j0(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=FL(c,a,yr),c!==null){Qt=c;return}}else{if(c=UL(c,a),c!==null){c.flags&=32767,Qt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{sn=6,Qt=null;return}}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=o}while(a!==null);sn===0&&(sn=5)}function Ua(o,a,c){var p=Ge,g=Lr.transition;try{Lr.transition=null,Ge=1,KL(o,a,c,p)}finally{Lr.transition=g,Ge=p}return null}function KL(o,a,c,p){do pu();while(So!==null);if((Ze&6)!==0)throw Error(t(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var _=c.lanes|c.childLanes;if(Jy(o,_),o===un&&(Qt=un=null,En=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||jp||(jp=!0,q0(va,function(){return pu(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Lr.transition,Lr.transition=null;var R=Ge;Ge=1;var F=Ze;Ze|=4,nv.current=null,jL(o,c),x0(c,o),fL(d_),ms=!!c_,d_=c_=null,o.current=c,BL(c),ds(),Ze=F,Ge=R,Lr.transition=_}else o.current=c;if(jp&&(jp=!1,So=o,Bp=g),_=o.pendingLanes,_===0&&(To=null),Xf(c.stateNode),Zn(o,_t()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if($p)throw $p=!1,o=sv,sv=null,o;return(Bp&1)!==0&&o.tag!==0&&pu(),_=o.pendingLanes,(_&1)!==0?o===ov?Pd++:(Pd=0,ov=o):Pd=0,vo(),null}function pu(){if(So!==null){var o=yi(Bp),a=Lr.transition,c=Ge;try{if(Lr.transition=null,Ge=16>o?16:o,So===null)var p=!1;else{if(o=So,So=null,Bp=0,(Ze&6)!==0)throw Error(t(331));var g=Ze;for(Ze|=4,Te=o.current;Te!==null;){var _=Te,R=_.child;if((Te.flags&16)!==0){var F=_.deletions;if(F!==null){for(var B=0;B<F.length;B++){var ee=F[B];for(Te=ee;Te!==null;){var he=Te;switch(he.tag){case 0:case 11:case 15:Sd(8,he,_)}var me=he.child;if(me!==null)me.return=he,Te=me;else for(;Te!==null;){he=Te;var ce=he.sibling,Ie=he.return;if(A0(he),he===ee){Te=null;break}if(ce!==null){ce.return=Ie,Te=ce;break}Te=Ie}}}var Se=_.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var zt=Ae.sibling;Ae.sibling=null,Ae=zt}while(Ae!==null)}}Te=_}}if((_.subtreeFlags&2064)!==0&&R!==null)R.return=_,Te=R;else e:for(;Te!==null;){if(_=Te,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Sd(9,_,_.return)}var J=_.sibling;if(J!==null){J.return=_.return,Te=J;break e}Te=_.return}}var K=o.current;for(Te=K;Te!==null;){R=Te;var Z=R.child;if((R.subtreeFlags&2064)!==0&&Z!==null)Z.return=R,Te=Z;else e:for(R=K;Te!==null;){if(F=Te,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Mp(9,F)}}catch(Pe){Vt(F,F.return,Pe)}if(F===R){Te=null;break e}var ge=F.sibling;if(ge!==null){ge.return=F.return,Te=ge;break e}Te=F.return}}if(Ze=g,vo(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(wa,o)}catch{}p=!0}return p}finally{Ge=c,Lr.transition=a}}return!1}function B0(o,a,c){a=cu(c,a),a=o0(o,a,1),o=Eo(o,a,1),a=zn(),o!==null&&(Sa(o,1,a),Zn(o,a))}function Vt(o,a,c){if(o.tag===3)B0(o,o,c);else for(;a!==null;){if(a.tag===3){B0(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(To===null||!To.has(p))){o=cu(c,o),o=a0(a,o,1),a=Eo(a,o,1),o=zn(),a!==null&&(Sa(a,1,o),Zn(a,o));break}}a=a.return}}function GL(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=zn(),o.pingedLanes|=o.suspendedLanes&c,un===o&&(En&c)===c&&(sn===4||sn===3&&(En&130023424)===En&&500>_t()-iv?Fa(o,0):rv|=c),Zn(o,a)}function z0(o,a){a===0&&((o.mode&1)===0?a=1:(a=lo,lo<<=1,(lo&130023424)===0&&(lo=4194304)));var c=zn();o=Is(o,a),o!==null&&(Sa(o,a,c),Zn(o,c))}function QL(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),z0(o,c)}function YL(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),z0(o,c)}var W0;W0=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Qn.current)Jn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Jn=!1,ML(o,a,c);Jn=(o.flags&131072)!==0}else Jn=!1,St&&(a.flags&1048576)!==0&&TS(a,wp,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Lp(o,a),o=a.pendingProps;var g=nu(a,kn.current);lu(a,c),g=L_(null,a,p,o,g,c);var _=V_();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Yn(p)?(_=!0,yp(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,C_(a),g.updater=Op,a.stateNode=g,g._reactInternals=a,B_(a,p,o,c),a=H_(null,a,p,!0,_,c)):(a.tag=0,St&&_&&__(a),Bn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Lp(o,a),o=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=XL(p),o=Yr(p,o),g){case 0:a=q_(null,a,p,o,c);break e;case 1:a=g0(null,a,p,o,c);break e;case 11:a=d0(null,a,p,o,c);break e;case 14:a=h0(null,a,p,Yr(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Yr(p,g),q_(o,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Yr(p,g),g0(o,a,p,g,c);case 3:e:{if(y0(a),o===null)throw Error(t(387));p=a.pendingProps,_=a.memoizedState,g=_.element,NS(o,a),Ap(a,p,null,c);var R=a.memoizedState;if(p=R.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=cu(Error(t(423)),a),a=_0(o,a,p,c,g);break e}else if(p!==g){g=cu(Error(t(424)),a),a=_0(o,a,p,c,g);break e}else for(gr=go(a.stateNode.containerInfo.firstChild),mr=a,St=!0,Qr=null,c=kS(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(su(),p===g){a=Ss(o,a,c);break e}Bn(o,a,p,c)}a=a.child}return a;case 5:return LS(a),o===null&&E_(a),p=a.type,g=a.pendingProps,_=o!==null?o.memoizedProps:null,R=g.children,h_(p,g)?R=null:_!==null&&h_(p,_)&&(a.flags|=32),m0(o,a),Bn(o,a,R,c),a.child;case 6:return o===null&&E_(a),null;case 13:return v0(o,a,c);case 4:return b_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=ou(a,null,p,c):Bn(o,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Yr(p,g),d0(o,a,p,g,c);case 7:return Bn(o,a,a.pendingProps,c),a.child;case 8:return Bn(o,a,a.pendingProps.children,c),a.child;case 12:return Bn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,_=a.memoizedProps,R=g.value,mt(Tp,p._currentValue),p._currentValue=R,_!==null)if(Gr(_.value,R)){if(_.children===g.children&&!Qn.current){a=Ss(o,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var F=_.dependencies;if(F!==null){R=_.child;for(var B=F.firstContext;B!==null;){if(B.context===p){if(_.tag===1){B=Ts(-1,c&-c),B.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var he=ee.pending;he===null?B.next=B:(B.next=he.next,he.next=B),ee.pending=B}}_.lanes|=c,B=_.alternate,B!==null&&(B.lanes|=c),A_(_.return,c,a),F.lanes|=c;break}B=B.next}}else if(_.tag===10)R=_.type===a.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(t(341));R.lanes|=c,F=R.alternate,F!==null&&(F.lanes|=c),A_(R,c,a),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===a){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}Bn(o,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,lu(a,c),g=Or(g),p=p(g),a.flags|=1,Bn(o,a,p,c),a.child;case 14:return p=a.type,g=Yr(p,a.pendingProps),g=Yr(p.type,g),h0(o,a,p,g,c);case 15:return f0(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Yr(p,g),Lp(o,a),a.tag=1,Yn(p)?(o=!0,yp(a)):o=!1,lu(a,c),i0(a,p,g),B_(a,p,g,c),H_(null,a,p,!0,o,c);case 19:return E0(o,a,c);case 22:return p0(o,a,c)}throw Error(t(156,a.tag))};function q0(o,a){return Wc(o,a)}function JL(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(o,a,c,p){return new JL(o,a,c,p)}function hv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function XL(o){if(typeof o=="function")return hv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===w)return 11;if(o===L)return 14}return 2}function Po(o,a){var c=o.alternate;return c===null?(c=Vr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Hp(o,a,c,p,g,_){var R=2;if(p=o,typeof o=="function")hv(o)&&(R=1);else if(typeof o=="string")R=5;else e:switch(o){case O:return $a(c.children,g,_,a);case A:R=8,g|=8;break;case b:return o=Vr(12,c,a,g|2),o.elementType=b,o.lanes=_,o;case S:return o=Vr(13,c,a,g),o.elementType=S,o.lanes=_,o;case z:return o=Vr(19,c,a,g),o.elementType=z,o.lanes=_,o;case ae:return Kp(c,g,_,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:R=10;break e;case x:R=9;break e;case w:R=11;break e;case L:R=14;break e;case oe:R=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Vr(R,c,a,g),a.elementType=o,a.type=p,a.lanes=_,a}function $a(o,a,c,p){return o=Vr(7,o,p,a),o.lanes=c,o}function Kp(o,a,c,p){return o=Vr(22,o,p,a),o.elementType=ae,o.lanes=c,o.stateNode={isHidden:!1},o}function fv(o,a,c){return o=Vr(6,o,null,a),o.lanes=c,o}function pv(o,a,c){return a=Vr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function ZL(o,a,c,p,g){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function mv(o,a,c,p,g,_,R,F,B){return o=new ZL(o,a,c,F,B),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Vr(3,null,null,a),o.current=_,_.stateNode=o,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},C_(_),o}function e2(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function H0(o){if(!o)return _o;o=o._reactInternals;e:{if(Hr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Yn(c))return wS(o,c,a)}return a}function K0(o,a,c,p,g,_,R,F,B){return o=mv(c,p,!0,o,g,_,R,F,B),o.context=H0(null),c=o.current,p=zn(),g=Ro(c),_=Ts(p,g),_.callback=a??null,Eo(c,_,g),o.current.lanes=g,Sa(o,g,p),Zn(o,p),o}function Gp(o,a,c,p){var g=a.current,_=zn(),R=Ro(g);return c=H0(c),a.context===null?a.context=c:a.pendingContext=c,a=Ts(_,R),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=Eo(g,a,R),o!==null&&(Zr(o,g,R,_),Rp(o,g,R)),R}function Qp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function G0(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function gv(o,a){G0(o,a),(o=o.alternate)&&G0(o,a)}function t2(){return null}var Q0=typeof reportError=="function"?reportError:function(o){console.error(o)};function yv(o){this._internalRoot=o}Yp.prototype.render=yv.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Gp(o,a,null,null)},Yp.prototype.unmount=yv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ma(function(){Gp(null,o,null,null)}),a[_s]=null}};function Yp(o){this._internalRoot=o}Yp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Zc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<dr.length&&a!==0&&a<dr[c].priority;c++);dr.splice(c,0,o),c===0&&$l(o)}};function _v(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Jp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function n2(o,a,c,p,g){if(g){if(typeof p=="function"){var _=p;p=function(){var ee=Qp(R);_.call(ee)}}var R=K0(a,p,o,0,null,!1,!1,"",Y0);return o._reactRootContainer=R,o[_s]=R.current,dd(o.nodeType===8?o.parentNode:o),Ma(),R}for(;g=o.lastChild;)o.removeChild(g);if(typeof p=="function"){var F=p;p=function(){var ee=Qp(B);F.call(ee)}}var B=mv(o,0,!1,null,null,!1,!1,"",Y0);return o._reactRootContainer=B,o[_s]=B.current,dd(o.nodeType===8?o.parentNode:o),Ma(function(){Gp(a,B,c,p)}),B}function Xp(o,a,c,p,g){var _=c._reactRootContainer;if(_){var R=_;if(typeof g=="function"){var F=g;g=function(){var B=Qp(R);F.call(B)}}Gp(a,R,o,g)}else R=n2(c,a,o,g,p);return Qp(R)}Jc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=nt(a.pendingLanes);c!==0&&(Yc(a,c|1),Zn(a,_t()),(Ze&6)===0&&(fu=_t()+500,vo()))}break;case 13:Ma(function(){var p=Is(o,1);if(p!==null){var g=zn();Zr(p,o,1,g)}}),gv(o,1)}},Fl=function(o){if(o.tag===13){var a=Is(o,134217728);if(a!==null){var c=zn();Zr(a,o,134217728,c)}gv(o,134217728)}},Xc=function(o){if(o.tag===13){var a=Ro(o),c=Is(o,a);if(c!==null){var p=zn();Zr(c,o,a,p)}gv(o,a)}},Zc=function(){return Ge},ed=function(o,a){var c=Ge;try{return Ge=o,a()}finally{Ge=c}},ls=function(o,a,c){switch(a){case"input":if(os(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var g=mp(p);if(!g)throw Error(t(90));Wr(p),os(p,g)}}}break;case"textarea":as(o,c);break;case"select":a=c.value,a!=null&&Be(o,!!c.multiple,a,!1)}},zf=uv,Wf=Ma;var r2={usingClientEntryPoint:!1,Events:[pd,eu,mp,io,so,uv]},Cd={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i2={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Jf(o),o===null?null:o.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||t2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{wa=Zp.inject(i2),ur=Zp}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2,er.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(a))throw Error(t(200));return e2(o,a,null,c)},er.createRoot=function(o,a){if(!_v(o))throw Error(t(299));var c=!1,p="",g=Q0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=mv(o,1,!1,null,null,c,!1,p,g),o[_s]=a.current,dd(o.nodeType===8?o.parentNode:o),new yv(a)},er.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Jf(a),o=o===null?null:o.stateNode,o},er.flushSync=function(o){return Ma(o)},er.hydrate=function(o,a,c){if(!Jp(a))throw Error(t(200));return Xp(null,o,a,!0,c)},er.hydrateRoot=function(o,a,c){if(!_v(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,_="",R=Q0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),a=K0(a,null,o,1,c??null,g,!1,_,R),o[_s]=a.current,dd(o),p)for(o=0;o<p.length;o++)c=p[o],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Yp(a)},er.render=function(o,a,c){if(!Jp(a))throw Error(t(200));return Xp(null,o,a,!1,c)},er.unmountComponentAtNode=function(o){if(!Jp(o))throw Error(t(40));return o._reactRootContainer?(Ma(function(){Xp(null,null,o,!1,function(){o._reactRootContainer=null,o[_s]=null})}),!0):!1},er.unstable_batchedUpdates=uv,er.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Jp(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Xp(o,a,c,!1,p)},er.version="18.3.1-next-f1338f8080-20240426",er}var iR;function f2(){if(iR)return Ev.exports;iR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ev.exports=h2(),Ev.exports}var sR;function p2(){if(sR)return em;sR=1;var n=f2();return em.createRoot=n.createRoot,em.hydrateRoot=n.hydrateRoot,em}var m2=p2();const g2=PE(m2);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oR="popstate";function y2(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return dw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ph(i)}return v2(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ji(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _2(){return Math.random().toString(36).substring(2,10)}function aR(n,e){return{usr:n.state,key:n.key,idx:e}}function dw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:t,key:e&&e.key||r||_2()}}function Ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function v2(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let k=m(),j=k==null?null:k-f;f=k,d&&d({action:u,location:P.location,delta:j})}function E(k,j){u="PUSH";let M=dw(P.location,k,j);f=m()+1;let $=aR(M,f),H=P.createHref(M);try{l.pushState($,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(H)}s&&d&&d({action:u,location:P.location,delta:1})}function C(k,j){u="REPLACE";let M=dw(P.location,k,j);f=m();let $=aR(M,f),H=P.createHref(M);l.replaceState($,"",H),s&&d&&d({action:u,location:P.location,delta:0})}function T(k){return w2(k)}let P={get action(){return u},get location(){return n(i,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(oR,y),d=k,()=>{i.removeEventListener(oR,y),d=null}},createHref(k){return e(i,k)},createURL:T,encodeLocation(k){let j=T(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:C,go(k){return l.go(k)}};return P}function w2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ph(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ab(n,e,t="/"){return E2(n,e,t,!1)}function E2(n,e,t,r){let i=typeof e=="string"?Ec(e):e,s=Fs(i.pathname||"/",t);if(s==null)return null;let l=lb(n);I2(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=O2(s);u=x2(l[d],f,r)}return u}function lb(n,e=[],t=[],r="",i=!1){let s=(l,u,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Nt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=Ls([r,m.relativePath]),E=t.concat(m);l.children&&l.children.length>0&&(Nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),lb(l.children,e,E,y,d)),!(l.path==null&&!l.index)&&e.push({path:y,score:b2(y,l.index),routesMeta:E})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let d of ub(l.path))s(l,u,!0,d)}),e}function ub(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=ub(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function I2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:k2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var T2=/^:[\w-]+$/,S2=3,R2=2,A2=1,P2=10,C2=-2,lR=n=>n==="*";function b2(n,e){let t=n.split("/"),r=t.length;return t.some(lR)&&(r+=C2),e&&(r+=R2),t.filter(i=>!lR(i)).reduce((i,s)=>i+(T2.test(s)?S2:s===""?A2:P2),r)}function k2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function x2(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",y=Qm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),E=d.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Qm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Ls([s,y.pathname]),pathnameBase:M2(Ls([s,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(s=Ls([s,y.pathnameBase]))}return l}function Qm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=N2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},E)=>{if(m==="*"){let T=u[E]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const C=u[E];return y&&!C?f[m]=void 0:f[m]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function N2(n,e=!1,t=!0){Ji(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function O2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ji(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function D2(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ec(n):n;return{pathname:t?t.startsWith("/")?t:L2(t,e):e,search:F2(r),hash:U2(i)}}function L2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Sv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cb(n){let e=V2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function db(n,e,t,r=!1){let i;typeof n=="string"?i=Ec(n):(i={...n},Nt(!i.pathname||!i.pathname.includes("?"),Sv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),Sv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),Sv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),y-=1;i.pathname=E.join("/")}u=y>=0?e[y]:"/"}let d=D2(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Ls=n=>n.join("/").replace(/\/\/+/g,"/"),M2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),F2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,U2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hb=["POST","PUT","PATCH","DELETE"];new Set(hb);var j2=["GET",...hb];new Set(j2);var Ic=G.createContext(null);Ic.displayName="DataRouter";var Dg=G.createContext(null);Dg.displayName="DataRouterState";G.createContext(!1);var fb=G.createContext({isTransitioning:!1});fb.displayName="ViewTransition";var B2=G.createContext(new Map);B2.displayName="Fetchers";var z2=G.createContext(null);z2.displayName="Await";var ns=G.createContext(null);ns.displayName="Navigation";var nf=G.createContext(null);nf.displayName="Location";var rs=G.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var CE=G.createContext(null);CE.displayName="RouteError";function W2(n,{relative:e}={}){Nt(rf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(ns),{hash:i,pathname:s,search:l}=sf(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Ls([t,s])),r.createHref({pathname:u,search:l,hash:i})}function rf(){return G.useContext(nf)!=null}function sa(){return Nt(rf(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(nf).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mb(n){G.useContext(ns).static||G.useLayoutEffect(n)}function Lg(){let{isDataRoute:n}=G.useContext(rs);return n?rV():q2()}function q2(){Nt(rf(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(Ic),{basename:e,navigator:t}=G.useContext(ns),{matches:r}=G.useContext(rs),{pathname:i}=sa(),s=JSON.stringify(cb(r)),l=G.useRef(!1);return mb(()=>{l.current=!0}),G.useCallback((d,f={})=>{if(Ji(l.current,pb),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=db(d,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ls([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,s,i,n])}G.createContext(null);function gb(){let{matches:n}=G.useContext(rs),e=n[n.length-1];return e?e.params:{}}function sf(n,{relative:e}={}){let{matches:t}=G.useContext(rs),{pathname:r}=sa(),i=JSON.stringify(cb(t));return G.useMemo(()=>db(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function H2(n,e){return yb(n,e)}function yb(n,e,t,r,i){Nt(rf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=G.useContext(ns),{matches:l}=G.useContext(rs),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";_b(f,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let E=sa(),C;if(e){let M=typeof e=="string"?Ec(e):e;Nt(m==="/"||M.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),C=M}else C=E;let T=C.pathname||"/",P=T;if(m!=="/"){let M=m.replace(/^\//,"").split("/");P="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let k=ab(n,{pathname:P});Ji(y||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Ji(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=J2(k&&k.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ls([m,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Ls([m,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r,i);return e&&j?G.createElement(nf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},j):j}function K2(){let n=nV(),e=$2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:s},"ErrorBoundary")," or"," ",G.createElement("code",{style:s},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:i},t):null,l)}var G2=G.createElement(K2,null),Q2=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?G.createElement(rs.Provider,{value:this.props.routeContext},G.createElement(CE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y2({routeContext:n,match:e,children:t}){let r=G.useContext(Ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(rs.Provider,{value:n},t)}function J2(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t?.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:E}=t,C=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||C){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,y)=>{let E,C=!1,T=null,P=null;t&&(E=l&&m.route.id?l[m.route.id]:void 0,T=m.route.errorElement||G2,u&&(d<0&&y===0?(_b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,P=null):d===y&&(C=!0,P=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,y+1)),j=()=>{let M;return E?M=T:C?M=P:m.route.Component?M=G.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,G.createElement(Y2,{match:m,routeContext:{outlet:f,matches:k,isDataRoute:t!=null},children:M})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?G.createElement(Q2,{location:t.location,revalidation:t.revalidation,component:T,error:E,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):j()},null)}function bE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(n){let e=G.useContext(Ic);return Nt(e,bE(n)),e}function Z2(n){let e=G.useContext(Dg);return Nt(e,bE(n)),e}function eV(n){let e=G.useContext(rs);return Nt(e,bE(n)),e}function kE(n){let e=eV(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tV(){return kE("useRouteId")}function nV(){let n=G.useContext(CE),e=Z2("useRouteError"),t=kE("useRouteError");return n!==void 0?n:e.errors?.[t]}function rV(){let{router:n}=X2("useNavigate"),e=kE("useNavigate"),t=G.useRef(!1);return mb(()=>{t.current=!0}),G.useCallback(async(i,s={})=>{Ji(t.current,pb),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var uR={};function _b(n,e,t){!e&&!uR[n]&&(uR[n]=!0,Ji(!1,t))}G.memo(iV);function iV({routes:n,future:e,state:t,unstable_onError:r}){return yb(n,void 0,t,r,e)}function Lo(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Nt(!rf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=Ec(t));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:E="default"}=t,C=G.useMemo(()=>{let T=Fs(d,l);return T==null?null:{location:{pathname:T,search:f,hash:m,state:y,key:E},navigationType:r}},[l,d,f,m,y,E,r]);return Ji(C!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:G.createElement(ns.Provider,{value:u},G.createElement(nf.Provider,{children:e,value:C}))}function oV({children:n,location:e}){return H2(hw(n),e)}function hw(n,e=[]){let t=[];return G.Children.forEach(n,(r,i)=>{if(!G.isValidElement(r))return;let s=[...e,i];if(r.type===G.Fragment){t.push.apply(t,hw(r.props.children,s));return}Nt(r.type===Lo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=hw(r.props.children,s)),t.push(l)}),t}var vm="get",wm="application/x-www-form-urlencoded";function Vg(n){return n!=null&&typeof n.tagName=="string"}function aV(n){return Vg(n)&&n.tagName.toLowerCase()==="button"}function lV(n){return Vg(n)&&n.tagName.toLowerCase()==="form"}function uV(n){return Vg(n)&&n.tagName.toLowerCase()==="input"}function cV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dV(n,e){return n.button===0&&(!e||e==="_self")&&!cV(n)}var tm=null;function hV(){if(tm===null)try{new FormData(document.createElement("form"),0),tm=!1}catch{tm=!0}return tm}var fV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rv(n){return n!=null&&!fV.has(n)?(Ji(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wm}"`),null):n}function pV(n,e){let t,r,i,s,l;if(lV(n)){let u=n.getAttribute("action");r=u?Fs(u,e):null,t=n.getAttribute("method")||vm,i=Rv(n.getAttribute("enctype"))||wm,s=new FormData(n)}else if(aV(n)||uV(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Fs(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||vm,i=Rv(n.getAttribute("formenctype"))||Rv(u.getAttribute("enctype"))||wm,s=new FormData(u,n),!hV()){let{name:f,type:m,value:y}=n;if(m==="image"){let E=f?`${f}.`:"";s.append(`${E}x`,"0"),s.append(`${E}y`,"0")}else f&&s.append(f,y)}}else{if(Vg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vm,r=null,i=wm,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mV(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Fs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function gV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _V(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await gV(s,t);return l.links?l.links():[]}return[]}));return IV(r.flat(1).filter(yV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cR(n,e,t,r,i,s){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function vV(n,e,{includeHydrateFallback:t}={}){return wV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function wV(n){return[...new Set(n)]}function EV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function IV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(EV(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function vb(){let n=G.useContext(Ic);return xE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TV(){let n=G.useContext(Dg);return xE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var NE=G.createContext(void 0);NE.displayName="FrameworkContext";function wb(){let n=G.useContext(NE);return xE(n,"You must render this element inside a <HydratedRouter> element"),n}function SV(n,e){let t=G.useContext(NE),[r,i]=G.useState(!1),[s,l]=G.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,E=G.useRef(null);G.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let P=j=>{j.forEach(M=>{l(M.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[n]),G.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let C=()=>{i(!0)},T=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,E,{}]:[s,E,{onFocus:kd(u,C),onBlur:kd(d,T),onMouseEnter:kd(f,C),onMouseLeave:kd(m,T),onTouchStart:kd(y,C)}]:[!1,E,{}]}function kd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function RV({page:n,...e}){let{router:t}=vb(),r=G.useMemo(()=>ab(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?G.createElement(PV,{page:n,matches:r,...e}):null}function AV(n){let{manifest:e,routeModules:t}=wb(),[r,i]=G.useState([]);return G.useEffect(()=>{let s=!1;return _V(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function PV({page:n,matches:e,...t}){let r=sa(),{manifest:i,routeModules:s}=wb(),{basename:l}=vb(),{loaderData:u,matches:d}=TV(),f=G.useMemo(()=>cR(n,e,d,i,r,"data"),[n,e,d,i,r]),m=G.useMemo(()=>cR(n,e,d,i,r,"assets"),[n,e,d,i,r]),y=G.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,P=!1;if(e.forEach(j=>{let M=i.routes[j.route.id];!M||!M.hasLoader||(!f.some($=>$.route.id===j.route.id)&&j.route.id in u&&s[j.route.id]?.shouldRevalidate||M.hasClientLoader?P=!0:T.add(j.route.id))}),T.size===0)return[];let k=mV(n,l,"data");return P&&T.size>0&&k.searchParams.set("_routes",e.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[l,u,r,i,f,e,n,s]),E=G.useMemo(()=>vV(m,i),[m,i]),C=AV(m);return G.createElement(G.Fragment,null,y.map(T=>G.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),E.map(T=>G.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),C.map(({key:T,link:P})=>G.createElement("link",{key:T,nonce:t.nonce,...P})))}function CV(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Eb&&(window.__reactRouterVersion="7.9.1")}catch{}function bV({basename:n,children:e,window:t}){let r=G.useRef();r.current==null&&(r.current=y2({window:t,v5Compat:!0}));let i=r.current,[s,l]=G.useState({action:i.action,location:i.location}),u=G.useCallback(d=>{G.startTransition(()=>l(d))},[l]);return G.useLayoutEffect(()=>i.listen(u),[i,u]),G.createElement(sV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ni=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:y,...E},C){let{basename:T}=G.useContext(ns),P=typeof f=="string"&&Ib.test(f),k,j=!1;if(typeof f=="string"&&P&&(k=f,Eb))try{let b=new URL(window.location.href),V=f.startsWith("//")?new URL(b.protocol+f):new URL(f),x=Fs(V.pathname,T);V.origin===b.origin&&x!=null?f=x+V.search+V.hash:j=!0}catch{Ji(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=W2(f,{relative:i}),[$,H,q]=SV(r,E),U=OV(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:y});function O(b){e&&e(b),b.defaultPrevented||U(b)}let A=G.createElement("a",{...E,...q,href:k||M,onClick:j||s?e:O,ref:CV(C,H),target:d,"data-discover":!P&&t==="render"?"true":void 0});return $&&!P?G.createElement(G.Fragment,null,A,G.createElement(RV,{page:M})):A});ni.displayName="Link";var kV=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...f},m){let y=sf(l,{relative:f.relative}),E=sa(),C=G.useContext(Dg),{navigator:T,basename:P}=G.useContext(ns),k=C!=null&&FV(y)&&u===!0,j=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,M=E.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(M=M.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&P&&($=Fs($,P)||$);const H=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let q=M===j||!i&&M.startsWith(j)&&M.charAt(H)==="/",U=$!=null&&($===j||!i&&$.startsWith(j)&&$.charAt(j.length)==="/"),O={isActive:q,isPending:U,isTransitioning:k},A=q?e:void 0,b;typeof r=="function"?b=r(O):b=[r,q?"active":null,U?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(O):s;return G.createElement(ni,{...f,"aria-current":A,className:b,ref:m,style:V,to:l,viewTransition:u},typeof d=="function"?d(O):d)});kV.displayName="NavLink";var xV=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=vm,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,...E},C)=>{let T=VV(),P=MV(u,{relative:f}),k=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&Ib.test(u),M=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let H=$.nativeEvent.submitter,q=H?.getAttribute("formmethod")||l;T(H||$.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:y})};return G.createElement("form",{ref:C,method:k,action:P,onSubmit:r?d:M,...E,"data-discover":!j&&n==="render"?"true":void 0})});xV.displayName="Form";function NV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(n){let e=G.useContext(Ic);return Nt(e,NV(n)),e}function OV(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Lg(),d=sa(),f=sf(n,{relative:s});return G.useCallback(m=>{if(dV(m,e)){m.preventDefault();let y=t!==void 0?t:Ph(d)===Ph(f);u(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,f,t,r,e,n,i,s,l])}var DV=0,LV=()=>`__${String(++DV)}__`;function VV(){let{router:n}=Tb("useSubmit"),{basename:e}=G.useContext(ns),t=tV();return G.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:f}=pV(r,e);if(i.navigate===!1){let m=i.fetcherKey||LV();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function MV(n,{relative:e}={}){let{basename:t}=G.useContext(ns),r=G.useContext(rs);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...sf(n||".",{relative:e})},l=sa();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ls([t,s.pathname])),Ph(s)}function FV(n,{relative:e}={}){let t=G.useContext(fb);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tb("useViewTransitionState"),i=sf(n,{relative:e});if(!t.isTransitioning)return!1;let s=Fs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Fs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qm(i.pathname,l)!=null||Qm(i.pathname,s)!=null}const UV="_fixed_9zv5b_9",$V="_header_container_9zv5b_19",jV="_logo_container_9zv5b_37",BV="_delivery_9zv5b_65",zV="_search_9zv5b_91",WV="_order_container_9zv5b_167",qV="_language_9zv5b_201",HV="_cart_9zv5b_233",KV="_lower_container_9zv5b_265",Cs={fixed:UV,header_container:$V,logo_container:jV,delivery:BV,search:zV,order_container:WV,language:qV,cart:HV,lower_container:KV};var Sb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dR=Qe.createContext&&Qe.createContext(Sb),GV=["attr","size","title"];function QV(n,e){if(n==null)return{};var t=YV(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function YV(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Ym(){return Ym=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ym.apply(this,arguments)}function hR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(t),!0).forEach(function(r){JV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function JV(n,e,t){return e=XV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XV(n){var e=ZV(n,"string");return typeof e=="symbol"?e:e+""}function ZV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rb(n){return n&&n.map((e,t)=>Qe.createElement(e.tag,Jm({key:t},e.attr),Rb(e.child)))}function Tc(n){return e=>Qe.createElement(eM,Ym({attr:Jm({},n.attr)},e),Rb(n.child))}function eM(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=QV(n,GV),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Qe.createElement("svg",Ym({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Jm(Jm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Qe.createElement("title",null,s),n.children)};return dR!==void 0?Qe.createElement(dR.Consumer,null,t=>e(t)):e(Sb)}function tM(n){return Tc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function nM(n){return Tc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function rM(n){return Tc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function iM(n){return Tc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function sM(){return D.jsx("div",{className:Cs.lower_container,children:D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx(iM,{}),D.jsx("p",{children:"All"})]}),D.jsx("li",{children:"Today's Deals"}),D.jsx("li",{children:"Costumer Service"}),D.jsx("li",{children:"Registry"}),D.jsx("li",{children:"Gift Cards"}),D.jsx("li",{children:"Sell"})]})})}const qs=G.createContext(),oM=({children:n,reducer:e,initialState:t})=>D.jsx(qs.Provider,{value:G.useReducer(e,t),children:n}),aM=()=>{};var fR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=s>>2,y=(s&3)<<4|u>>4;let E=(u&15)<<2|f>>6,C=f&63;d||(C=64,l||(E=64)),r.push(t[m],t[y],t[E],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ab(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||y==null)throw new uM;const E=s<<2|u>>4;if(r.push(E),f!==64){const C=u<<4&240|f>>2;if(r.push(C),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cM=function(n){const e=Ab(n);return Pb.encodeByteArray(e,!0)},Xm=function(n){return cM(n).replace(/\./g,"")},Mg=function(n){try{return Pb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zm(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!dM(t)||(n[t]=Zm(n[t],e[t]));return n}function dM(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=()=>OE().__FIREBASE_DEFAULTS__,fM=()=>{if(typeof process>"u"||typeof fR>"u")return;const n=fR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mg(n[1]);return e&&JSON.parse(e)},Fg=()=>{try{return aM()||hM()||fM()||pM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mM=n=>Fg()?.emulatorHosts?.[n],DE=()=>Fg()?.config,LE=n=>Fg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xm(JSON.stringify(t)),Xm(JSON.stringify(l)),""].join(".")}const uh={};function _M(){const n={prod:[],emulator:[]};for(const e of Object.keys(uh))uh[e]?n.emulator.push(e):n.prod.push(e);return n}function vM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let pR=!1;function ME(n,e){if(typeof window>"u"||typeof document>"u"||!Hs(window.location.host)||uh[n]===e||uh[n]||pR)return;uh[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",s=_M().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{pR=!0,l()},E}function m(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=vM(r),C=t("text"),T=document.getElementById(C)||document.createElement("span"),P=t("learnmore"),k=document.getElementById(P)||document.createElement("a"),j=t("preprendIcon"),M=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;u($),m(k,P);const H=f();d(M,j),$.append(M,T,k,H),document.body.appendChild($)}s?(T.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Ug(){const n=Fg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wM(){return typeof window<"u"||bb()}function bb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $g(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UE(){const n=Ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xb(){return!Ug()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nb(){return!Ug()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Ch(){try{return typeof indexedDB=="object"}catch{return!1}}function EM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="FirebaseError";class fn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IM,Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,is.prototype.create)}}class is{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?TM(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new fn(i,u,r)}}function TM(n,e){return n.replace(SM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ob(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ai(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(gR(s)&&gR(l)){if(!ai(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function gR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ri(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ji(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $E(n,e){const t=new RM(n,e);return t.subscribe.bind(t)}class RM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Av),i.error===void 0&&(i.error=Av),i.complete===void 0&&(i.complete=Av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n){return n&&n._delegate?n._delegate:n}class jr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bM(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CM(n){return n===qa?void 0:n}function bM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const Lb={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},kM=je.INFO,xM={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},NM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=xM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=kM,this._logHandler=NM,this._userLogHandler=null,jE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function OM(n){jE.forEach(e=>{e.setLogLevel(n)})}function DM(n,e){for(const t of jE){let r=null;e&&e.level&&(r=Lb[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:je[s].toLowerCase(),message:u,args:l,type:i.name})}}}const LM=(n,e)=>e.some(t=>n instanceof t);let yR,_R;function VM(){return yR||(yR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MM(){return _R||(_R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vb=new WeakMap,fw=new WeakMap,Mb=new WeakMap,Pv=new WeakMap,BE=new WeakMap;function FM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t($o(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Vb.set(t,n)}).catch(()=>{}),BE.set(e,n),e}function UM(n){if(fw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});fw.set(n,e)}let pw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Mb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $o(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $M(n){pw=n(pw)}function jM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cv(this),e,...t);return Mb.set(r,e.sort?e.sort():[e]),$o(r)}:MM().includes(n)?function(...e){return n.apply(Cv(this),e),$o(Vb.get(this))}:function(...e){return $o(n.apply(Cv(this),e))}}function BM(n){return typeof n=="function"?jM(n):(n instanceof IDBTransaction&&UM(n),LM(n,VM())?new Proxy(n,pw):n)}function $o(n){if(n instanceof IDBRequest)return FM(n);if(Pv.has(n))return Pv.get(n);const e=BM(n);return e!==n&&(Pv.set(n,e),BE.set(e,n)),e}const Cv=n=>BE.get(n);function zM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=$o(l);return r&&l.addEventListener("upgradeneeded",d=>{r($o(l.result),d.oldVersion,d.newVersion,$o(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const WM=["get","getKey","getAll","getAllKeys","count"],qM=["put","add","delete","clear"],bv=new Map;function vR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bv.get(e))return bv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=qM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WM.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return bv.set(e,s),s}$M(n=>({...n,get:(e,t,r)=>vR(e,t)||n.get(e,t,r),has:(e,t)=>!!vR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function KM(n){return n.getComponent()?.type==="VERSION"}const eg="@firebase/app",mw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new of("@firebase/app"),GM="@firebase/app-compat",QM="@firebase/analytics-compat",YM="@firebase/analytics",JM="@firebase/app-check-compat",XM="@firebase/app-check",ZM="@firebase/auth",eF="@firebase/auth-compat",tF="@firebase/database",nF="@firebase/data-connect",rF="@firebase/database-compat",iF="@firebase/functions",sF="@firebase/functions-compat",oF="@firebase/installations",aF="@firebase/installations-compat",lF="@firebase/messaging",uF="@firebase/messaging-compat",cF="@firebase/performance",dF="@firebase/performance-compat",hF="@firebase/remote-config",fF="@firebase/remote-config-compat",pF="@firebase/storage",mF="@firebase/storage-compat",gF="@firebase/firestore",yF="@firebase/ai",_F="@firebase/firestore-compat",vF="firebase",wF="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]",EF={[eg]:"fire-core",[GM]:"fire-core-compat",[YM]:"fire-analytics",[QM]:"fire-analytics-compat",[XM]:"fire-app-check",[JM]:"fire-app-check-compat",[ZM]:"fire-auth",[eF]:"fire-auth-compat",[tF]:"fire-rtdb",[nF]:"fire-data-connect",[rF]:"fire-rtdb-compat",[iF]:"fire-fn",[sF]:"fire-fn-compat",[oF]:"fire-iid",[aF]:"fire-iid-compat",[lF]:"fire-fcm",[uF]:"fire-fcm-compat",[cF]:"fire-perf",[dF]:"fire-perf-compat",[hF]:"fire-rc",[fF]:"fire-rc-compat",[pF]:"fire-gcs",[mF]:"fire-gcs-compat",[gF]:"fire-fst",[_F]:"fire-fst-compat",[yF]:"fire-vertex","fire-js":"fire-js",[vF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,Gu=new Map,Qu=new Map;function bh(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fb(n,e){n.container.addOrOverwriteComponent(e)}function Xi(n){const e=n.name;if(Qu.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Qu.set(e,n);for(const t of Ko.values())bh(t,n);for(const t of Gu.values())bh(t,n);return!0}function jg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function IF(n,e,t=Ho){jg(n,e).clearInstance(t)}function zE(n){return n.options!==void 0}function Ub(n){return zE(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Ye(n){return n==null?!1:n.settings!==void 0}function TF(){Qu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new is("app","Firebase",SF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $b=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n,e){const t=Mg(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class RF extends $b{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig={automaticDataCollectionEnabled:s,...t},this._serverConfig.authIdToken&&wR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,sr(eg,mw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){qE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Tr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=wF;function WE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ho,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(t||(t=DE()),!t)throw Tr.create("no-options");const s=Ko.get(i);if(s){if(ai(t,s.options)&&ai(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}const l=new Db(i);for(const d of Qu.values())l.addComponent(d);const u=new $b(t,r,l);return Ko.set(i,u),u}function AF(n,e={}){if(wM()&&!bb())throw Tr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(zE(n)?t=n.options:Ub(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=DE()),!t)throw Tr.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=m=>[...m].reduce((y,E)=>Math.imul(31,y)+E.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Tr.create("finalization-registry-not-supported",{});const l=""+s(JSON.stringify(i)),u=Gu.get(l);if(u)return u.incRefCount(r.releaseOnDeref),u;const d=new Db(l);for(const m of Qu.values())d.addComponent(m);const f=new RF(t,r,l,d);return Gu.set(l,f),f}function jb(n=Ho){const e=Ko.get(n);if(!e&&n===Ho&&DE())return WE();if(!e)throw Tr.create("no-app",{appName:n});return e}function PF(){return Array.from(Ko.values())}async function qE(n){let e=!1;const t=n.name;Ko.has(t)?(e=!0,Ko.delete(t)):Gu.has(t)&&n.decRefCount()<=0&&(Gu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function sr(n,e,t){let r=EF[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(l.join(" "));return}Xi(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function Bb(n,e){if(n!==null&&typeof n!="function")throw Tr.create("invalid-log-argument");DM(n,e)}function zb(n){OM(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="firebase-heartbeat-database",bF=1,kh="firebase-heartbeat-store";let kv=null;function Wb(){return kv||(kv=zM(CF,bF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Tr.create("idb-open",{originalErrorMessage:n.message})})),kv}async function kF(n){try{const t=(await Wb()).transaction(kh),r=await t.objectStore(kh).get(qb(n));return await t.done,r}catch(e){if(e instanceof fn)Us.warn(e.message);else{const t=Tr.create("idb-get",{originalErrorMessage:e?.message});Us.warn(t.message)}}}async function ER(n,e){try{const r=(await Wb()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,qb(n)),await r.done}catch(t){if(t instanceof fn)Us.warn(t.message);else{const r=Tr.create("idb-set",{originalErrorMessage:t?.message});Us.warn(r.message)}}}function qb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=1024,NF=30;class OF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=IR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>NF){const i=VF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IR(),{heartbeatsToSend:t,unsentEntries:r}=DF(this._heartbeatsCache.heartbeats),i=Xm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Us.warn(e),""}}}function IR(){return new Date().toISOString().substring(0,10)}function DF(n,e=xF){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),TR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),TR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ch()?EM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ER(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ER(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TR(n){return Xm(JSON.stringify({version:2,heartbeats:n})).length}function VF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(n){Xi(new jr("platform-logger",e=>new HM(e),"PRIVATE")),Xi(new jr("heartbeat",e=>new OF(e),"PRIVATE")),sr(eg,mw,n),sr(eg,mw,"esm2020"),sr("fire-js","")}MF("");const FF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fn,SDK_VERSION:Pr,_DEFAULT_ENTRY_NAME:Ho,_addComponent:bh,_addOrOverwriteComponent:Fb,_apps:Ko,_clearComponents:TF,_components:Qu,_getProvider:jg,_isFirebaseApp:zE,_isFirebaseServerApp:Ye,_isFirebaseServerAppSettings:Ub,_registerComponent:Xi,_removeServiceInstance:IF,_serverApps:Gu,deleteApp:qE,getApp:jb,getApps:PF,initializeApp:WE,initializeServerApp:AF,onLog:Bb,registerVersion:sr,setLogLevel:zb},Symbol.toStringTag,{value:"Module"}));var UF="firebase",$F="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(UF,$F,"app");function Hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jF=Hb,Kb=new is("auth","Firebase",Hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new of("@firebase/auth");function BF(n,...e){tg.logLevel<=je.WARN&&tg.warn(`Auth (${Pr}): ${n}`,...e)}function Em(n,...e){tg.logLevel<=je.ERROR&&tg.error(`Auth (${Pr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,...e){throw HE(n,...e)}function qi(n,...e){return HE(n,...e)}function Gb(n,e,t){const r={...jF(),[e]:t};return new is("auth","Firebase",r).create(e,{appName:n.name})}function Vs(n){return Gb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Kb.create(n,...e)}function Oe(n,e,...t){if(!n)throw HE(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Em(e),new Error(e)}function $s(n,e){n||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){return typeof self<"u"&&self.location?.href||""}function zF(){return SR()==="http:"||SR()==="https:"}function SR(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zF()||FE()||"connection"in navigator)?navigator.onLine:!0}function qF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$s(t>e,"Short delay should be less than long delay!"),this.isMobile=Cb()||$g()}get(){return WF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n,e){$s(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GF=new af(3e4,6e4);function oa(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function aa(n,e,t,r,i={}){return Yb(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=ci({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...s};return kb()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(f.credentials="include"),Qb.fetch()(await Jb(n,n.config.apiHost,t,u),f)})}async function Yb(n,e,t){n._canInitEmulator=!1;const r={...HF,...e};try{const i=new YF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw nm(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw nm(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw nm(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw nm(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Gb(n,m,f);li(n,m)}}catch(i){if(i instanceof fn)throw i;li(n,"network-request-failed",{message:String(i)})}}async function lf(n,e,t,r,i={}){const s=await aa(n,e,t,r,i);return"mfaPendingCredential"in s&&li(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Jb(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?KE(n.config,i):`${n.config.apiScheme}://${i}`;return KF.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function QF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let YF=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),GF.get())})}};function nm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=qi(n,e,r);return i.customData._tokenResponse=t,i}function RR(n){return n!==void 0&&n.enterprise!==void 0}let JF=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function XF(n,e){return aa(n,"GET","/v2/recaptchaConfig",oa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(n,e){return aa(n,"POST","/v1/accounts:delete",e)}async function ng(n,e){return aa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e4(n,e=!1){const t=be(n),r=await t.getIdToken(e),i=GE(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:ch(xv(i.auth_time)),issuedAtTime:ch(xv(i.iat)),expirationTime:ch(xv(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function xv(n){return Number(n)*1e3}function GE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Em("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mg(t);return i?JSON.parse(i):(Em("Failed to decode base64 JWT payload"),null)}catch(i){return Em("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AR(n){const e=GE(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fn&&t4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function t4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n4=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yw=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ch(this.lastLoginAt),this.creationTime=ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(n){const e=n.auth,t=await n.getIdToken(),r=await xh(n,ng(e,{idToken:t}));Oe(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?Xb(i.providerUserInfo):[],l=i4(n.providerData,s),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!l?.length,f=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new yw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function r4(n){const e=be(n);await rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(n,e){const t=await Yb(n,{},async()=>{const r=ci({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await Jb(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(d.credentials="include"),Qb.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function o4(n,e){return aa(n,"POST","/v2/accounts:revokeToken",oa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nv=class _w{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=AR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await s4(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new _w;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _w,this.toJSON())}_performRefresh(){return ks("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Mu=class Zd{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new n4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new yw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xh(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return e4(this,e)}reload(){return r4(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zd({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ye(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await xh(this,ZF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:C,providerData:T,stsTokenManager:P}=t;Oe(y&&P,e,"internal-error");const k=Nv.fromJSON(this.name,P);Oe(typeof y=="string",e,"internal-error"),bo(r,e.name),bo(i,e.name),Oe(typeof E=="boolean",e,"internal-error"),Oe(typeof C=="boolean",e,"internal-error"),bo(s,e.name),bo(l,e.name),bo(u,e.name),bo(d,e.name),bo(f,e.name),bo(m,e.name);const j=new Zd({uid:y,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:C,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:k,createdAt:f,lastLoginAt:m});return T&&Array.isArray(T)&&(j.providerData=T.map(M=>({...M}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new Nv;i.updateFromServerResponse(t);const s=new Zd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rg(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Xb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new Nv;u.updateFromIdToken(r);const d=new Zd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Map;function xs(n){$s(n instanceof Function,"Expected a class definition");let e=PR.get(n);return e?($s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zb=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Zb.type="NONE";const CR=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n,e,t){return`firebase:${n}:${e}:${t}`}let bR=class Tm{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Im(this.userKey,i.apiKey,s),this.fullPersistenceKey=Im("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ng(this.auth,{idToken:e}).catch(()=>{});return t?Mu._fromGetAccountInfoResponse(this.auth,t,e):null}return Mu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Tm(xs(CR),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||xs(CR);const l=Im(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const E=await ng(e,{idToken:m}).catch(()=>{});if(!E)break;y=await Mu._fromGetAccountInfoResponse(e,E,m)}else y=Mu._fromJSON(e,m);f!==s&&(u=y),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Tm(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Tm(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s1(e))return"Blackberry";if(o1(e))return"Webos";if(t1(e))return"Safari";if((e.includes("chrome/")||n1(e))&&!e.includes("edge/"))return"Chrome";if(i1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function e1(n=Ke()){return/firefox\//i.test(n)}function t1(n=Ke()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n1(n=Ke()){return/crios\//i.test(n)}function r1(n=Ke()){return/iemobile/i.test(n)}function i1(n=Ke()){return/android/i.test(n)}function s1(n=Ke()){return/blackberry/i.test(n)}function o1(n=Ke()){return/webos/i.test(n)}function QE(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function a4(n=Ke()){return QE(n)&&!!window.navigator?.standalone}function l4(){return UE()&&document.documentMode===10}function a1(n=Ke()){return QE(n)||i1(n)||o1(n)||s1(n)||/windows phone/i.test(n)||r1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(n,e=[]){let t;switch(n){case"Browser":t=kR(Ke());break;case"Worker":t=`${kR(Ke())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u4=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(n,e={}){return aa(n,"GET","/v2/passwordPolicy",oa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=6;let h4=class{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??d4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xR(this),this.idTokenSubscription=new xR(this),this.beforeStateQueue=new u4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bR.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ng(this,{idToken:e}),r=await Mu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ye(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ye(this.app))return Promise.reject(Vs(this));const t=e?be(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ye(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ye(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c4(this),t=new h4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new is("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await o4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xs(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await bR.create(this,[xs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ye(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BF(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Sl(n){return be(n)}let xR=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=$E(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p4(n){Bg=n}function u1(n){return Bg.loadJS(n)}function m4(){return Bg.recaptchaEnterpriseScript}function g4(){return Bg.gapiScript}function y4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let _4=class{constructor(){this.enterprise=new v4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},v4=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const w4="recaptcha-enterprise",c1="NO_RECAPTCHA";let E4=class{constructor(e){this.type=w4,this.auth=Sl(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{XF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new JF(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;RR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(c1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _4().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&RR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=m4();d.length!==0&&(d+=u),u1(d).then(()=>{i(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}};async function NR(n,e,t,r=!1,i=!1){const s=new E4(n);let l;if(i)l=c1;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function vw(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await NR(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await NR(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(n,e){const t=jg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ai(s,e??{}))return i;li(i,"already-initialized")}return t.initialize({options:e})}function T4(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(xs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function S4(n,e,t){const r=Sl(n);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=d1(e),{host:l,port:u}=R4(e),d=u===null?"":`:${u}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(ai(f,r.config.emulator)&&ai(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Hs(l)?(VE(`${s}//${l}${d}`),ME("Auth",!0)):A4()}function d1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function R4(n){const e=d1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:OR(l)}}}function OR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function A4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YE=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}};async function P4(n,e){return aa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,e){return lf(n,"POST","/v1/accounts:signInWithPassword",oa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(n,e){return lf(n,"POST","/v1/accounts:signInWithEmailLink",oa(n,e))}async function k4(n,e){return lf(n,"POST","/v1/accounts:signInWithEmailLink",oa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DR=class ww extends YE{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ww(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ww(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,t,"signInWithPassword",C4);case"emailLink":return b4(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,r,"signUpPassword",P4);case"emailLink":return k4(e,{idToken:t,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(n,e){return lf(n,"POST","/v1/accounts:signInWithIdp",oa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="http://localhost";let zg=class Ew extends YE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ew(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const l=new Ew(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Uu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Uu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uu(e,t)}buildRequest(){const e={requestUri:x4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ci(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O4(n){const e=ri(ji(n)).link,t=e?ri(ji(e)).deep_link_id:null,r=ri(ji(n)).deep_link_id;return(r?ri(ji(r)).link:null)||r||t||e||n}let D4=class h1{constructor(e){const t=ri(ji(e)),r=t.apiKey??null,i=t.oobCode??null,s=N4(t.mode??null);Oe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=O4(e);try{return new h1(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg=class f1{constructor(){this.providerId=f1.PROVIDER_ID}static credential(e,t){return DR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=D4.parseLink(t);return Oe(r,"argument-error"),DR._fromEmailAndCode(e,r.code,r.tenantId)}};Wg.PROVIDER_ID="password";Wg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=class extends p1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1=class Pu extends uf{constructor(){super("facebook.com")}static credential(e){return zg._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pu.credential(e.oauthAccessToken)}catch{return null}}};m1.FACEBOOK_SIGN_IN_METHOD="facebook.com";m1.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g1=class Cu extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zg._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Cu.credential(t,r)}catch{return null}}};g1.GOOGLE_SIGN_IN_METHOD="google.com";g1.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=class bu extends uf{constructor(){super("github.com")}static credential(e){return zg._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bu.credential(e.oauthAccessToken)}catch{return null}}};y1.GITHUB_SIGN_IN_METHOD="github.com";y1.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _1=class ku extends uf{constructor(){super("twitter.com")}static credential(e,t){return zg._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ku.credential(t,r)}catch{return null}}};_1.TWITTER_SIGN_IN_METHOD="twitter.com";_1.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,e){return lf(n,"POST","/v1/accounts:signUp",oa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg=class Iw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Mu._fromIdTokenResponse(e,r,i),l=LR(r);return new Iw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=LR(r);return new Iw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function LR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V4=class Tw extends fn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tw.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Tw(e,t,r,i)}};function v1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?V4._fromErrorAndOperation(n,s,e,r):s})}async function M4(n,e,t=!1){const r=await xh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qg._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n,e,t=!1){const{auth:r}=n;if(Ye(r.app))return Promise.reject(Vs(r));const i="reauthenticate";try{const s=await xh(n,v1(r,i,e,n),t);Oe(s.idToken,r,"internal-error");const l=GE(s.idToken);Oe(l,r,"internal-error");const{sub:u}=l;return Oe(n.uid===u,r,"user-mismatch"),qg._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&li(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(n,e,t=!1){if(Ye(n.app))return Promise.reject(Vs(n));const r="signIn",i=await v1(n,r,e),s=await qg._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function U4(n,e){return w1(Sl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(n){const e=Sl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $4(n,e,t){if(Ye(n.app))return Promise.reject(Vs(n));const r=Sl(n),l=await vw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&E1(n),d}),u=await qg._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function j4(n,e,t){return Ye(n.app)?Promise.reject(Vs(n)):U4(be(n),Wg.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E1(n),r})}function B4(n,e,t,r){return be(n).onIdTokenChanged(e,t,r)}function z4(n,e,t){return be(n).beforeAuthStateChanged(e,t)}const ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=1e3,q4=10;let T1=class extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);l4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};T1.type="LOCAL";const H4=T1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S1=class extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};S1.type="SESSION";const R1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A1=class P1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new P1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),d=await K4(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};A1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G4=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=JE("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const E=y;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(E.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function Q4(n){Hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function Y4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J4(){return navigator?.serviceWorker?.controller||null}function X4(){return C1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebaseLocalStorageDb",Z4=1,sg="firebaseLocalStorage",k1="fbase_key";let cf=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Hg(n,e){return n.transaction([sg],e?"readwrite":"readonly").objectStore(sg)}function eU(){const n=indexedDB.deleteDatabase(b1);return new cf(n).toPromise()}function Sw(){const n=indexedDB.open(b1,Z4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sg,{keyPath:k1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sg)?e(r):(r.close(),await eU(),e(await Sw()))})})}async function VR(n,e,t){const r=Hg(n,!0).put({[k1]:e,value:t});return new cf(r).toPromise()}async function tU(n,e){const t=Hg(n,!1).get(e),r=await new cf(t).toPromise();return r===void 0?null:r.value}function MR(n,e){const t=Hg(n,!0).delete(e);return new cf(t).toPromise()}const nU=800,rU=3;let x1=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=A1._getInstance(X4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Y4(),!this.activeServiceWorker)return;this.sender=new G4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sw();return await VR(e,ig,"1"),await MR(e,ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>VR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>MR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hg(i,!1).getAll();return new cf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};x1.type="LOCAL";const iU=x1;new af(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n,e){return e?xs(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE=class extends YE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function oU(n){return w1(n.auth,new XE(n),n.bypassAuthState)}function aU(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),F4(t,new XE(n),n.bypassAuthState)}async function lU(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),M4(t,new XE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N1=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oU;case"linkViaPopup":case"linkViaRedirect":return lU;case"reauthViaPopup":case"reauthViaRedirect":return aU;default:li(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new af(2e3,1e4);let cU=class eh extends N1{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,eh.currentPopupAction&&eh.currentPopupAction.cancel(),eh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=JE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uU.get())};e()}};cU.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="pendingRedirect",Sm=new Map;let hU=class extends N1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Sm.get(this.auth._key());if(!e){try{const r=await fU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sm.set(this.auth._key(),e)}return this.bypassAuthState||Sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function fU(n,e){const t=gU(e),r=mU(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function pU(n,e){Sm.set(n._key(),e)}function mU(n){return xs(n._redirectPersistence)}function gU(n){return Im(dU,n.config.apiKey,n.name)}async function yU(n,e,t=!1){if(Ye(n.app))return Promise.reject(Vs(n));const r=Sl(n),i=sU(r,e),l=await new hU(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=600*1e3;let vU=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!O1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(qi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_U&&this.cachedEventUids.clear(),this.cachedEventUids.has(FR(e))}saveEventToCache(e){this.cachedEventUids.add(FR(e)),this.lastProcessedEventTime=Date.now()}};function FR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function O1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(n,e={}){return aa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TU=/^https?/;async function SU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EU(n);for(const t of e)try{if(RU(t))return}catch{}li(n,"unauthorized-domain")}function RU(n){const e=gw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!TU.test(t))return!1;if(IU.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new af(3e4,6e4);function UR(){const n=Hi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PU(n){return new Promise((e,t)=>{function r(){UR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UR(),t(qi(n,"network-request-failed"))},timeout:AU.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const i=y4("iframefcb");return Hi()[i]=()=>{gapi.load?r():t(qi(n,"network-request-failed"))},u1(`${g4()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw Rm=null,e})}let Rm=null;function CU(n){return Rm=Rm||PU(n),Rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new af(5e3,15e3),kU="__/auth/iframe",xU="emulator/auth/iframe",NU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DU(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?KE(e,xU):`https://${n.config.authDomain}/${kU}`,r={apiKey:e.apiKey,appName:n.name,v:Pr},i=OU.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ci(r).slice(1)}`}async function LU(n){const e=await CU(n),t=Hi().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:DU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=qi(n,"network-request-failed"),u=Hi().setTimeout(()=>{s(l)},bU.get());function d(){Hi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MU=500,FU=600,UU="_blank",$U="http://localhost";let $R=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function jU(n,e,t,r=MU,i=FU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...VU,width:r.toString(),height:i.toString(),top:s,left:l},f=Ke().toLowerCase();t&&(u=n1(f)?UU:t),e1(f)&&(e=e||$U,d.scrollbars="yes");const m=Object.entries(d).reduce((E,[C,T])=>`${E}${C}=${T},`,"");if(a4(f)&&u!=="_self")return BU(e||"",u),new $R(null);const y=window.open(e||"",u,m);Oe(y,n,"popup-blocked");try{y.focus()}catch{}return new $R(y)}function BU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="__/auth/handler",WU="emulator/auth/handler",qU=encodeURIComponent("fac");async function jR(n,e,t,r,i,s){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pr,eventId:i};if(e instanceof p1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Ob(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof uf){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${qU}=${encodeURIComponent(d)}`:"";return`${HU(n)}?${ci(u).slice(1)}${f}`}function HU({config:n}){return n.emulator?KE(n,WU):`https://${n.authDomain}/${zU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="webStorageSupport";let KU=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R1,this._completeRedirectFn=yU,this._overrideRedirectResult=pU}async _openPopup(e,t,r,i){$s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await jR(e,t,r,gw(),i);return jU(e,s,JE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await jR(e,t,r,gw(),i);return Q4(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):($s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await LU(e),r=new vU(e);return t.register("authEvent",i=>(Oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ov,{type:Ov},i=>{const s=i?.[0]?.[Ov];s!==void 0&&t(!!s),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return a1()||t1()||QE()}};const GU=KU;var BR="@firebase/auth",zR="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QU=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JU(n){Xi(new jr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(n)},f=new f4(r,i,s,d);return T4(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xi(new jr("auth-internal",e=>{const t=Sl(e.getProvider("auth").getImmediate());return(r=>new QU(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(BR,zR,YU(n)),sr(BR,zR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=300,ZU=LE("authIdTokenMaxAge")||XU;let WR=null;const e5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZU)return;const i=t?.token;WR!==i&&(WR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t5(n=jb()){const e=jg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=I4(n,{popupRedirectResolver:GU,persistence:[iU,H4,R1]}),r=LE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=e5(s.toString());z4(t,l,()=>l(t.currentUser)),B4(t,u=>l(u))}}const i=mM("auth");return i&&S4(t,`http://${i}`),t}function n5(){return document.getElementsByTagName("head")?.[0]??document}p4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=qi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",n5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JU("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,t){this._delegate=e,this.firebase=t,bh(e,new jr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),qE(this._delegate)))}_getService(e,t=Ho){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ho){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){bh(this._delegate,e)}_addOrOverwriteComponent(e){Fb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},qR=new is("app-compat","Firebase",i5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:sr,setLogLevel:zb,onLog:Bb,apps:null,SDK_VERSION:Pr,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:FF}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||Ho,!mR(e,f))throw qR.create("no-app",{appName:f});return e[f]}i.App=n;function s(f,m={}){const y=WE(f,m);if(mR(e,y.name))return e[y.name];const E=new n(y,t);return e[y.name]=E,E}function l(){return Object.keys(e).map(f=>e[f])}function u(f){const m=f.name,y=m.replace("-compat","");if(Xi(f)&&f.type==="PUBLIC"){const E=(C=i())=>{if(typeof C[y]!="function")throw qR.create("invalid-app-argument",{appName:m});return C[y]()};f.serviceProps!==void 0&&Zm(E,f.serviceProps),t[y]=E,n.prototype[y]=function(...C){return this._getService.bind(this,m).apply(this,f.multipleInstances?C:[])}}return f.type==="PUBLIC"?t[y]:null}function d(f,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){const n=s5(r5);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:D1,extendNamespace:e,createSubscribe:$E,ErrorFactory:is,deepExtend:Zm};function e(t){Zm(n,t)}return n}const o5=D1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new of("@firebase/app-compat"),a5="@firebase/app-compat",l5="0.5.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(n){sr(a5,l5,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=OE();if(n.firebase!==void 0){HR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&HR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Sc=o5;u5();var KR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,L1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function b(){}b.prototype=A.prototype,O.F=A.prototype,O.prototype=new b,O.prototype.constructor=O,O.D=function(V,x,w){for(var S=Array(arguments.length-2),z=2;z<arguments.length;z++)S[z-2]=arguments[z];return A.prototype[x].apply(V,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,A,b){b||(b=0);const V=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)V[x]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(x=0;x<16;++x)V[x]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=O.g[0],b=O.g[1],x=O.g[2];let w=O.g[3],S;S=A+(w^b&(x^w))+V[0]+3614090360&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+V[1]+3905402710&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+V[2]+606105819&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+V[3]+3250441966&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(w^b&(x^w))+V[4]+4118548399&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+V[5]+1200080426&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+V[6]+2821735955&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+V[7]+4249261313&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(w^b&(x^w))+V[8]+1770035416&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+V[9]+2336552879&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+V[10]+4294925233&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+V[11]+2304563134&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(w^b&(x^w))+V[12]+1804603682&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+V[13]+4254626195&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+V[14]+2792965006&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+V[15]+1236535329&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(x^w&(b^x))+V[1]+4129170786&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+V[6]+3225465664&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+V[11]+643717713&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+V[0]+3921069994&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(x^w&(b^x))+V[5]+3593408605&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+V[10]+38016083&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+V[15]+3634488961&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+V[4]+3889429448&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(x^w&(b^x))+V[9]+568446438&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+V[14]+3275163606&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+V[3]+4107603335&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+V[8]+1163531501&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(x^w&(b^x))+V[13]+2850285829&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+V[2]+4243563512&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+V[7]+1735328473&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+V[12]+2368359562&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(b^x^w)+V[5]+4294588738&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+V[8]+2272392833&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+V[11]+1839030562&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+V[14]+4259657740&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(b^x^w)+V[1]+2763975236&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+V[4]+1272893353&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+V[7]+4139469664&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+V[10]+3200236656&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(b^x^w)+V[13]+681279174&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+V[0]+3936430074&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+V[3]+3572445317&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+V[6]+76029189&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(b^x^w)+V[9]+3654602809&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+V[12]+3873151461&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+V[15]+530742520&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+V[2]+3299628645&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(x^(b|~w))+V[0]+4096336452&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+V[7]+1126891415&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+V[14]+2878612391&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+V[5]+4237533241&4294967295,b=x+(S<<21&4294967295|S>>>11),S=A+(x^(b|~w))+V[12]+1700485571&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+V[3]+2399980690&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+V[10]+4293915773&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+V[1]+2240044497&4294967295,b=x+(S<<21&4294967295|S>>>11),S=A+(x^(b|~w))+V[8]+1873313359&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+V[15]+4264355552&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+V[6]+2734768916&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+V[13]+1309151649&4294967295,b=x+(S<<21&4294967295|S>>>11),S=A+(x^(b|~w))+V[4]+4149444226&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+V[11]+3174756917&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+V[2]+718787259&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+w&4294967295}r.prototype.v=function(O,A){A===void 0&&(A=O.length);const b=A-this.blockSize,V=this.C;let x=this.h,w=0;for(;w<A;){if(x==0)for(;w<=b;)i(this,O,w),w+=this.blockSize;if(typeof O=="string"){for(;w<A;)if(V[x++]=O.charCodeAt(w++),x==this.blockSize){i(this,V),x=0;break}}else for(;w<A;)if(V[x++]=O[w++],x==this.blockSize){i(this,V),x=0;break}}this.h=x,this.o+=A},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;A=this.o*8;for(var b=O.length-8;b<O.length;++b)O[b]=A&255,A/=256;for(this.v(O),O=Array(16),A=0,b=0;b<4;++b)for(let V=0;V<32;V+=8)O[A++]=this.g[b]>>>V&255;return O};function s(O,A){var b=u;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=A(O)}function l(O,A){this.h=A;const b=[];let V=!0;for(let x=O.length-1;x>=0;x--){const w=O[x]|0;V&&w==A||(b[x]=w,V=!1)}this.g=b}var u={};function d(O){return-128<=O&&O<128?s(O,function(A){return new l([A|0],A<0?-1:0)}):new l([O|0],O<0?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return y;if(O<0)return k(f(-O));const A=[];let b=1;for(let V=0;O>=b;V++)A[V]=O/b|0,b*=4294967296;return new l(A,0)}function m(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return k(m(O.substring(1),A));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=f(Math.pow(A,8));let V=y;for(let w=0;w<O.length;w+=8){var x=Math.min(8,O.length-w);const S=parseInt(O.substring(w,w+x),A);x<8?(x=f(Math.pow(A,x)),V=V.j(x).add(f(S))):(V=V.j(b),V=V.add(f(S)))}return V}var y=d(0),E=d(1),C=d(16777216);n=l.prototype,n.m=function(){if(P(this))return-k(this).m();let O=0,A=1;for(let b=0;b<this.g.length;b++){const V=this.i(b);O+=(V>=0?V:4294967296+V)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(T(this))return"0";if(P(this))return"-"+k(this).toString(O);const A=f(Math.pow(O,6));var b=this;let V="";for(;;){const x=H(b,A).g;b=j(b,x.j(A));let w=((b.g.length>0?b.g[0]:b.h)>>>0).toString(O);if(b=x,T(b))return w+V;for(;w.length<6;)w="0"+w;V=w+V}},n.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function T(O){if(O.h!=0)return!1;for(let A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function P(O){return O.h==-1}n.l=function(O){return O=j(this,O),P(O)?-1:T(O)?0:1};function k(O){const A=O.g.length,b=[];for(let V=0;V<A;V++)b[V]=~O.g[V];return new l(b,~O.h).add(E)}n.abs=function(){return P(this)?k(this):this},n.add=function(O){const A=Math.max(this.g.length,O.g.length),b=[];let V=0;for(let x=0;x<=A;x++){let w=V+(this.i(x)&65535)+(O.i(x)&65535),S=(w>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);V=S>>>16,w&=65535,S&=65535,b[x]=S<<16|w}return new l(b,b[b.length-1]&-2147483648?-1:0)};function j(O,A){return O.add(k(A))}n.j=function(O){if(T(this)||T(O))return y;if(P(this))return P(O)?k(this).j(k(O)):k(k(this).j(O));if(P(O))return k(this.j(k(O)));if(this.l(C)<0&&O.l(C)<0)return f(this.m()*O.m());const A=this.g.length+O.g.length,b=[];for(var V=0;V<2*A;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<O.g.length;x++){const w=this.i(V)>>>16,S=this.i(V)&65535,z=O.i(x)>>>16,L=O.i(x)&65535;b[2*V+2*x]+=S*L,M(b,2*V+2*x),b[2*V+2*x+1]+=w*L,M(b,2*V+2*x+1),b[2*V+2*x+1]+=S*z,M(b,2*V+2*x+1),b[2*V+2*x+2]+=w*z,M(b,2*V+2*x+2)}for(O=0;O<A;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=A;O<2*A;O++)b[O]=0;return new l(b,0)};function M(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function $(O,A){this.g=O,this.h=A}function H(O,A){if(T(A))throw Error("division by zero");if(T(O))return new $(y,y);if(P(O))return A=H(k(O),A),new $(k(A.g),k(A.h));if(P(A))return A=H(O,k(A)),new $(k(A.g),A.h);if(O.g.length>30){if(P(O)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var b=E,V=A;V.l(O)<=0;)b=q(b),V=q(V);var x=U(b,1),w=U(V,1);for(V=U(V,2),b=U(b,2);!T(V);){var S=w.add(V);S.l(O)<=0&&(x=x.add(b),w=S),V=U(V,1),b=U(b,1)}return A=j(O,x.j(A)),new $(x,A)}for(x=y;O.l(A)>=0;){for(b=Math.max(1,Math.floor(O.m()/A.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),w=f(b),S=w.j(A);P(S)||S.l(O)>0;)b-=V,w=f(b),S=w.j(A);T(w)&&(w=E),x=x.add(w),O=j(O,S)}return new $(x,O)}n.B=function(O){return H(this,O).h},n.and=function(O){const A=Math.max(this.g.length,O.g.length),b=[];for(let V=0;V<A;V++)b[V]=this.i(V)&O.i(V);return new l(b,this.h&O.h)},n.or=function(O){const A=Math.max(this.g.length,O.g.length),b=[];for(let V=0;V<A;V++)b[V]=this.i(V)|O.i(V);return new l(b,this.h|O.h)},n.xor=function(O){const A=Math.max(this.g.length,O.g.length),b=[];for(let V=0;V<A;V++)b[V]=this.i(V)^O.i(V);return new l(b,this.h^O.h)};function q(O){const A=O.g.length+1,b=[];for(let V=0;V<A;V++)b[V]=O.i(V)<<1|O.i(V-1)>>>31;return new l(b,O.h)}function U(O,A){const b=A>>5;A%=32;const V=O.g.length-b,x=[];for(let w=0;w<V;w++)x[w]=A>0?O.i(w+b)>>>A|O.i(w+b+1)<<32-A:O.i(w+b);return new l(x,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,L1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,jo=l}).apply(typeof KR<"u"?KR:typeof self<"u"?self:typeof window<"u"?window:{});var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V1,th,M1,Am,Rw,F1,U1,$1;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof rm=="object"&&rm];for(var v=0;v<h.length;++v){var I=h[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var I=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var X=h[N];if(!(X in I))break e;I=I[X]}h=h[h.length-1],N=I[h],v=v(N),v!=N&&v!=null&&e(I,h,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(v){var I=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&I.push([N,v[N]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function d(h,v,I){return h.call.apply(h.bind,arguments)}function f(h,v,I){return f=d,f.apply(null,arguments)}function m(h,v){var I=Array.prototype.slice.call(arguments,1);return function(){var N=I.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function y(h,v){function I(){}I.prototype=v.prototype,h.Z=v.prototype,h.prototype=new I,h.prototype.constructor=h,h.Ob=function(N,X,ne){for(var ye=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ye[Fe-2]=arguments[Fe];return v.prototype[X].apply(N,ye)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const I=Array(v);for(let N=0;N<v;N++)I[N]=h[N];return I}return[]}function T(h,v){for(let N=1;N<arguments.length;N++){const X=arguments[N];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=h.length||0;const ne=X.length||0;h.length=I+ne;for(let ye=0;ye<ne;ye++)h[I+ye]=X[ye]}else h.push(X)}}class P{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){l.setTimeout(()=>{throw h},0)}function j(){var h=O;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class M{constructor(){this.h=this.g=null}add(v,I){const N=$.get();N.set(v,I),this.h?this.h.next=N:this.g=N,this.h=N}}var $=new P(()=>new H,h=>h.reset());class H{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let q,U=!1,O=new M,A=()=>{const h=Promise.resolve(void 0);q=()=>{h.then(b)}};function b(){for(var h;h=j();){try{h.h.call(h.g)}catch(I){k(I)}var v=$;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}U=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var w=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};l.addEventListener("test",I,v),l.removeEventListener("test",I,v)}catch{}return h})();function S(h){return/^[\s\xa0]*$/.test(h)}function z(h,v){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}y(z,x),z.prototype.init=function(h,v){const I=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(I=="mouseover"?v=h.fromElement:I=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),oe=0;function ae(h,v,I,N,X){this.listener=h,this.proxy=null,this.src=v,this.type=I,this.capture=!!N,this.ha=X,this.key=++oe,this.da=this.fa=!1}function Q(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fe(h,v,I){for(const N in h)v.call(I,h[N],N,h)}function ue(h,v){for(const I in h)v.call(void 0,h[I],I,h)}function W(h){const v={};for(const I in h)v[I]=h[I];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(h,v){let I,N;for(let X=1;X<arguments.length;X++){N=arguments[X];for(I in N)h[I]=N[I];for(let ne=0;ne<ie.length;ne++)I=ie[ne],Object.prototype.hasOwnProperty.call(N,I)&&(h[I]=N[I])}}function ve(h){this.src=h,this.g={},this.h=0}ve.prototype.add=function(h,v,I,N,X){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const ye=Me(h,v,N,X);return ye>-1?(v=h[ye],I||(v.fa=!1)):(v=new ae(v,this.src,ne,!!N,X),v.fa=I,h.push(v)),v};function De(h,v){const I=v.type;if(I in h.g){var N=h.g[I],X=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(N,X,1),ne&&(Q(v),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Me(h,v,I,N){for(let X=0;X<h.length;++X){const ne=h[X];if(!ne.da&&ne.listener==v&&ne.capture==!!I&&ne.ha==N)return X}return-1}var Xe="closure_lm_"+(Math.random()*1e6|0),We={};function ot(h,v,I,N,X){if(Array.isArray(v)){for(let ne=0;ne<v.length;ne++)ot(h,v[ne],I,N,X);return null}return I=pa(I),h&&h[L]?h.J(v,I,u(N)?!!N.capture:!1,X):mn(h,v,I,!1,N,X)}function mn(h,v,I,N,X,ne){if(!v)throw Error("Invalid event type");const ye=u(X)?!!X.capture:!!X;let Fe=Zs(h);if(Fe||(h[Xe]=Fe=new ve(h)),I=Fe.add(v,I,N,ye,ne),I.proxy)return I;if(N=ss(),I.proxy=N,N.src=h,N.listener=I,h.addEventListener)w||(X=ye),X===void 0&&(X=!1),h.addEventListener(v.toString(),N,X);else if(h.attachEvent)h.attachEvent(hi(v.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ss(){function h(I){return v.call(h.src,h.listener,I)}const v=kl;return h}function Wr(h,v,I,N,X){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Wr(h,v[ne],I,N,X);else N=u(N)?!!N.capture:!!N,I=pa(I),h&&h[L]?(h=h.i,ne=String(v).toString(),ne in h.g&&(v=h.g[ne],I=Me(v,I,N,X),I>-1&&(Q(v[I]),Array.prototype.splice.call(v,I,1),v.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Zs(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Me(v,I,N,X)),(I=h>-1?v[h]:null)&&gn(I))}function gn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[L])De(v.i,h);else{var I=h.type,N=h.proxy;v.removeEventListener?v.removeEventListener(I,N,h.capture):v.detachEvent?v.detachEvent(hi(I),N):v.addListener&&v.removeListener&&v.removeListener(N),(I=Zs(v))?(De(I,h),I.h==0&&(I.src=null,v[Xe]=null)):Q(h)}}}function hi(h){return h in We?We[h]:We[h]="on"+h}function kl(h,v){if(h.da)h=!0;else{v=new z(v,this);const I=h.listener,N=h.ha||h.src;h.fa&&gn(h),h=I.call(N,v)}return h}function Zs(h){return h=h[Xe],h instanceof ve?h:null}var os="__closure_events_fn_"+(Math.random()*1e9>>>0);function pa(h){return typeof h=="function"?h:(h[os]||(h[os]=function(v){return h.handleEvent(v)}),h[os])}function Dt(){V.call(this),this.i=new ve(this),this.M=this,this.G=null}y(Dt,V),Dt.prototype[L]=!0,Dt.prototype.removeEventListener=function(h,v,I,N){Wr(this,h,v,I,N)};function Tt(h,v){var I,N=h.G;if(N)for(I=[];N;N=N.G)I.push(N);if(h=h.M,N=v.type||v,typeof v=="string")v=new x(v,h);else if(v instanceof x)v.target=v.target||h;else{var X=v;v=new x(N,h),ke(v,X)}X=!0;let ne,ye;if(I)for(ye=I.length-1;ye>=0;ye--)ne=v.g=I[ye],X=Be(ne,N,!0,v)&&X;if(ne=v.g=h,X=Be(ne,N,!0,v)&&X,X=Be(ne,N,!1,v)&&X,I)for(ye=0;ye<I.length;ye++)ne=v.g=I[ye],X=Be(ne,N,!1,v)&&X}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const I=h.g[v];for(let N=0;N<I.length;N++)Q(I[N]);delete h.g[v],h.h--}}this.G=null},Dt.prototype.J=function(h,v,I,N){return this.i.add(String(h),v,!1,I,N)},Dt.prototype.K=function(h,v,I,N){return this.i.add(String(h),v,!0,I,N)};function Be(h,v,I,N){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let X=!0;for(let ne=0;ne<v.length;++ne){const ye=v[ne];if(ye&&!ye.da&&ye.capture==I){const Fe=ye.listener,Bt=ye.ha||ye.src;ye.fa&&De(h.i,ye),X=Fe.call(Bt,N)!==!1&&X}}return X&&!N.defaultPrevented}function ht(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(h,v||0)}function yn(h){h.g=ht(()=>{h.g=null,h.i&&(h.i=!1,yn(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class as extends V{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(h){V.call(this),this.h=h,this.g={}}y(jn,V);var Cr=[];function Pn(h){fe(h.g,function(v,I){this.g.hasOwnProperty(I)&&gn(v)},h),h.g={}}jn.prototype.N=function(){jn.Z.N.call(this),Pn(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=l.JSON.stringify,eo=l.JSON.parse,ma=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function to(){}function Bf(){}var no={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xl(){x.call(this,"d")}y(xl,x);function $c(){x.call(this,"c")}y($c,x);var qr={},Nl=null;function ro(){return Nl=Nl||new Dt}qr.Ia="serverreachability";function Ol(h){x.call(this,qr.Ia,h)}y(Ol,x);function ls(h){const v=ro();Tt(v,new Ol(v))}qr.STAT_EVENT="statevent";function us(h,v){x.call(this,qr.STAT_EVENT,h),this.stat=v}y(us,x);function Lt(h){const v=ro();Tt(v,new us(v,h))}qr.Ja="timingevent";function jc(h,v){x.call(this,qr.Ja,h),this.size=v}y(jc,x);function io(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},v)}function so(){this.g=!0}so.prototype.ua=function(){this.g=!1};function zf(h,v,I,N,X,ne){h.info(function(){if(h.g)if(ne){var ye="",Fe=ne.split("&");for(let at=0;at<Fe.length;at++){var Bt=Fe[at].split("=");if(Bt.length>1){const Gt=Bt[0];Bt=Bt[1];const pr=Gt.split("_");ye=pr.length>=2&&pr[1]=="type"?ye+(Gt+"="+Bt+"&"):ye+(Gt+"=redacted&")}}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+X+"]: "+v+`
`+I+`
`+ye})}function Wf(h,v,I,N,X,ne,ye){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+X+"]: "+v+`
`+I+`
`+ne+" "+ye})}function fi(h,v,I,N){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ga(h,I)+(N?" "+N:"")})}function qf(h,v){h.info(function(){return"TIMEOUT: "+v})}so.prototype.info=function(){};function ga(h,v){if(!h.g)return v;if(!v)return null;try{const ne=JSON.parse(v);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var I=ne[h];if(!(I.length<2)){var N=I[1];if(Array.isArray(N)&&!(N.length<1)){var X=N[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ye=1;ye<N.length;ye++)N[ye]=""}}}}return Cn(ne)}catch{return v}}var oo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hf;function cs(){}y(cs,to),cs.prototype.g=function(){return new XMLHttpRequest},Hf=new cs;function pi(h){return encodeURIComponent(String(h))}function Dl(h){var v=1;h=h.split(":");const I=[];for(;v>0&&h.length;)I.push(h.shift()),v--;return h.length&&I.push(h.join(":")),I}function br(h,v,I,N){this.j=h,this.i=v,this.l=I,this.S=N||1,this.V=new jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kf}function Kf(){this.i=null,this.g="",this.h=!1}var Gf={},Bc={};function Hr(h,v,I){h.M=1,h.A=hs(kr(v)),h.u=I,h.R=!0,zc(h,null)}function zc(h,v){h.F=Date.now(),ya(h),h.B=kr(h.A);var I=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Zc(I.i,"t",N),h.C=0,I=h.j.L,h.h=new Kf,h.g=ip(h.j,I?v:null,!h.u),h.P>0&&(h.O=new as(f(h.Y,h,h.g),h.P)),v=h.V,I=h.g,N=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(Cr[0]=X.toString()),X=Cr);for(let ne=0;ne<X.length;ne++){const ye=ot(I,X[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=h.J?W(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),ls(),zf(h.i,h.v,h.B,h.l,h.S,h.u)}br.prototype.ba=function(h){h=h.target;const v=this.O;v&&Ei(h)==3?v.j():this.Y(h)},br.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=Ei(this.g),Bt=this.g.ya(),at=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||np(this.g)))){this.K||Fe!=4||Bt==7||(Bt==8||at<=0?ls(3):ls(2)),Ll(this);var v=this.g.ca();this.X=v;var I=Qf(this);if(this.o=v==200,Wf(this.i,this.v,this.B,this.l,this.S,Fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,X=this.g;if((N=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(N)){var ne=N;break t}}ne=null}if(h=ne)fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_t(this,h);else{this.o=!1,this.m=3,Lt(12),ds(this),_a(this);break e}}if(this.R){h=!0;let Gt;for(;!this.K&&this.C<I.length;)if(Gt=Jf(this,I),Gt==Bc){Fe==4&&(this.m=4,Lt(14),h=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Gf){this.m=4,Lt(15),fi(this.i,this.l,I,"[Invalid Chunk]"),h=!1;break}else fi(this.i,this.l,Gt,null),_t(this,Gt);if(Yf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||I.length!=0||this.h.h||(this.m=1,Lt(16),h=!1),this.o=this.o&&h,!h)fi(this.i,this.l,I,"[Invalid Chunked Response]"),ds(this),_a(this);else if(I.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Pa(ye),ye.P=!0,Lt(11))}}else fi(this.i,this.l,I,null),_t(this,I);Fe==4&&ds(this),this.o&&!this.K&&(Fe==4?ql(this.j,this):(this.o=!1,ya(this)))}else td(this.g),v==400&&I.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),ds(this),_a(this)}}}catch{}finally{}};function Qf(h){if(!Yf(h))return h.g.la();const v=np(h.g);if(v==="")return"";let I="";const N=v.length,X=Ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ds(h),_a(h),"";h.h.i=new l.TextDecoder}for(let ne=0;ne<N;ne++)h.h.h=!0,I+=h.h.i.decode(v[ne],{stream:!(X&&ne==N-1)});return v.length=0,h.h.g+=I,h.C=0,h.h.g}function Yf(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Jf(h,v){var I=h.C,N=v.indexOf(`
`,I);return N==-1?Bc:(I=Number(v.substring(I,N)),isNaN(I)?Gf:(N+=1,N+I>v.length?Bc:(v=v.slice(N,N+I),h.C=N+I,v)))}br.prototype.cancel=function(){this.K=!0,ds(this)};function ya(h){h.T=Date.now()+h.H,Wc(h,h.H)}function Wc(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=io(f(h.aa,h),v)}function Ll(h){h.D&&(l.clearTimeout(h.D),h.D=null)}br.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qf(this.i,this.B),this.M!=2&&(ls(),Lt(17)),ds(this),this.m=2,_a(this)):Wc(this,this.T-h)};function _a(h){h.j.I==0||h.K||ql(h.j,h)}function ds(h){Ll(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Pn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function _t(h,v){try{var I=h.j;if(I.I!=0&&(I.g==h||Hc(I.h,h))){if(!h.L&&Hc(I.h,h)&&I.I==3){try{var N=I.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var X=N;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<h.F)Wl(I),hr(I);else break e;Si(I),Lt(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=io(f(I.Va,I),6e3));va(I.h)<=1&&I.ta&&(I.ta=void 0)}else fr(I,11)}else if((h.L||I.g==h)&&Wl(I),!S(v))for(X=I.Ba.g.parse(v),v=0;v<X.length;v++){let at=X[v];const Gt=at[0];if(!(Gt<=I.K))if(I.K=Gt,at=at[1],I.I==2)if(at[0]=="c"){I.M=at[1],I.ba=at[2];const pr=at[3];pr!=null&&(I.ka=pr,I.j.info("VER="+I.ka));const ys=at[4];ys!=null&&(I.za=ys,I.j.info("SVER="+I.za));const Ri=at[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(N=1.5*Ri,I.O=N,I.j.info("backChannelRequestTimeoutMs_="+N)),N=I;const Ai=h.g;if(Ai){const Gl=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gl){var ne=N.h;ne.g||Gl.indexOf("spdy")==-1&&Gl.indexOf("quic")==-1&&Gl.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ml(ne,ne.h),ne.h=null))}if(N.G){const id=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;id&&(N.wa=id,nt(N.J,N.G,id))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-h.F,I.j.info("Handshake RTT: "+I.T+"ms")),N=I;var ye=h;if(N.na=rd(N,N.L?N.ba:null,N.W),ye.L){wa(N.h,ye);var Fe=ye,Bt=N.O;Bt&&(Fe.H=Bt),Fe.D&&(Ll(Fe),ya(Fe)),N.g=ye}else bn(N);I.i.length>0&&gs(I)}else at[0]!="stop"&&at[0]!="close"||fr(I,7);else I.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?fr(I,7):Bl(I):at[0]!="noop"&&I.l&&I.l.qa(at),I.A=0)}}ls(4)}catch{}}var Yy=class{constructor(h,v){this.g=h,this.map=v}};function Vl(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function va(h){return h.h?1:h.g?h.g.size:0}function Hc(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ml(h,v){h.g?h.g.add(v):h.h=v}function wa(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ur(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const I of h.g.values())v=v.concat(I.G);return v}return C(h.i)}var Xf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(h,v){if(h){h=h.split("&");for(let I=0;I<h.length;I++){const N=h[I].indexOf("=");let X,ne=null;N>=0?(X=h[I].substring(0,N),ne=h[I].substring(N+1)):X=h[I],v(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function mi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof mi?(this.l=h.l,Ea(this,h.j),this.o=h.o,this.g=h.g,gi(this,h.u),this.h=h.h,lo(this,ed(h.i)),this.m=h.m):h&&(v=String(h).match(Xf))?(this.l=!1,Ea(this,v[1]||"",!0),this.o=Ia(v[2]||""),this.g=Ia(v[3]||"",!0),gi(this,v[4]),this.h=Ia(v[5]||"",!0),lo(this,v[6]||"",!0),this.m=Ia(v[7]||"")):(this.l=!1,this.i=new Ge(null,this.l))}mi.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ta(v,Gc,!0),":");var I=this.g;return(I||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ta(v,Gc,!0),"@"),h.push(pi(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&h.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(Ta(I,I.charAt(0)=="/"?Sa:Qc,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",Ta(I,Yc)),h.join("")},mi.prototype.resolve=function(h){const v=kr(this);let I=!!h.j;I?Ea(v,h.j):I=!!h.o,I?v.o=h.o:I=!!h.g,I?v.g=h.g:I=h.u!=null;var N=h.h;if(I)gi(v,h.u);else if(I=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var X=v.h.lastIndexOf("/");X!=-1&&(N=v.h.slice(0,X+1)+N)}if(X=N,X==".."||X==".")N="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){N=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let ye=0;ye<X.length;){const Fe=X[ye++];Fe=="."?N&&ye==X.length&&ne.push(""):Fe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),N&&ye==X.length&&ne.push("")):(ne.push(Fe),N=!0)}N=ne.join("/")}else N=X}return I?v.h=N:I=h.i.toString()!=="",I?lo(v,ed(h.i)):I=!!h.m,I&&(v.m=h.m),v};function kr(h){return new mi(h)}function Ea(h,v,I){h.j=I?Ia(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function gi(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function lo(h,v,I){v instanceof Ge?(h.i=v,Ul(h.i,h.l)):(I||(v=Ta(v,Jy)),h.i=new Ge(v,h.l))}function nt(h,v,I){h.i.set(v,I)}function hs(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ia(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ta(h,v,I){return typeof h=="string"?(h=encodeURI(h).replace(v,Kc),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Kc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gc=/[#\/\?@]/g,Qc=/[#\?:]/g,Sa=/[#\?]/g,Jy=/[#\?@]/g,Yc=/#/g;function Ge(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yi(h){h.g||(h.g=new Map,h.h=0,h.i&&cr(h.i,function(v,I){h.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}n=Ge.prototype,n.add=function(h,v){yi(this),this.i=null,h=_i(this,h);let I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(v),this.h+=1,this};function Jc(h,v){yi(h),v=_i(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fl(h,v){return yi(h),v=_i(h,v),h.g.has(v)}n.forEach=function(h,v){yi(this),this.g.forEach(function(I,N){I.forEach(function(X){h.call(v,X,N,this)},this)},this)};function Xc(h,v){yi(h);let I=[];if(typeof v=="string")Fl(h,v)&&(I=I.concat(h.g.get(_i(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)I=I.concat(h[v]);return I}n.set=function(h,v){return yi(this),this.i=null,h=_i(this,h),Fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=Xc(this,h),h.length>0?String(h[0]):v):v};function Zc(h,v,I){Jc(h,v),I.length>0&&(h.i=null,h.g.set(_i(h,v),C(I)),h.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var I=v[N];const X=pi(I);I=Xc(this,I);for(let ne=0;ne<I.length;ne++){let ye=X;I[ne]!==""&&(ye+="="+pi(I[ne])),h.push(ye)}}return this.i=h.join("&")};function ed(h){const v=new Ge;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function _i(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ul(h,v){v&&!h.j&&(yi(h),h.i=null,h.g.forEach(function(I,N){const X=N.toLowerCase();N!=X&&(Jc(this,N),Zc(this,X,I))},h)),h.j=v}function vi(h,v){const I=new so;if(l.Image){const N=new Image;N.onload=m(_n,I,"TestLoadImage: loaded",!0,v,N),N.onerror=m(_n,I,"TestLoadImage: error",!1,v,N),N.onabort=m(_n,I,"TestLoadImage: abort",!1,v,N),N.ontimeout=m(_n,I,"TestLoadImage: timeout",!1,v,N),l.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else v(!1)}function wi(h,v){const I=new so,N=new AbortController,X=setTimeout(()=>{N.abort(),_n(I,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:N.signal}).then(ne=>{clearTimeout(X),ne.ok?_n(I,"TestPingServer: ok",!0,v):_n(I,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),_n(I,"TestPingServer: error",!1,v)})}function _n(h,v,I,N,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),N(I)}catch{}}function Ra(){this.g=new ma}function fs(h){this.i=h.Sb||null,this.h=h.ab||!1}y(fs,to),fs.prototype.g=function(){return new dr(this.i,this.h)};function dr(h,v){Dt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(dr,Dt),n=dr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Kr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zf(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zf(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?uo(this):Kr(this),this.readyState==3&&Zf(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,uo(this))},n.Na=function(h){this.g&&(this.response=h,uo(this))},n.ga=function(){this.g&&uo(this)};function uo(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Kr(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var I=v.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=v.next();return h.join(`\r
`)};function Kr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ep(h){let v="";return fe(h,function(I,N){v+=N,v+=":",v+=I,v+=`\r
`}),v}function $l(h,v,I){e:{for(N in I){var N=!1;break e}N=!0}N||(I=ep(I),typeof h=="string"?I!=null&&pi(I):nt(h,v,I))}function pt(h){Dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(pt,Dt);var tp=/^https?$/i,Xy=["POST","PUT"];n=pt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,I,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hf.g(),this.g.onreadystatechange=E(f(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){co(this,ne);return}if(h=I||"",I=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var X in N)I.set(X,N[X]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())I.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(Xy,v,void 0)>=0)||N||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of I)this.g.setRequestHeader(ne,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){co(this,ne)}};function co(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ho(h),ms(h)}function ho(h){h.A||(h.A=!0,Tt(h,"complete"),Tt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Tt(this,"complete"),Tt(this,"abort"),ms(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),pt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},n.Xa=function(){ps(this)};function ps(h){if(h.h&&typeof s<"u"){if(h.v&&Ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Tt(h,"readystatechange"),Ei(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var N;if(N=ne===0){let ye=String(h.D).match(Xf)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),N=!tp.test(ye?ye.toLowerCase():"")}I=N}if(I)Tt(h,"complete"),Tt(h,"success");else{h.o=6;try{var X=Ei(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",ho(h)}}finally{ms(h)}}}}function ms(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const I=h.g;h.g=null,v||Tt(h,"ready");try{I.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ei(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),eo(v)}};function np(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function td(h){const v={};h=(h.g&&Ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(S(h[N]))continue;var I=Dl(h[N]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=v[X]||[];v[X]=ne,ne.push(I)}ue(v,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(h,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||v}function jl(h){this.za=0,this.i=[],this.j=new so,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,h),this.Za=Ii("retryDelaySeedMs",1e4,h),this.Ta=Ii("forwardChannelMaxRetries",2,h),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Ba=new Ra,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=jl.prototype,n.ka=8,n.I=1,n.connect=function(h,v,I,N){Lt(0),this.W=h,this.H=v||{},I&&N!==void 0&&(this.H.OSID=I,this.H.OAID=N),this.F=this.X,this.J=rd(this,null,this.W),gs(this)};function Bl(h){if(zl(h),h.I==3){var v=h.V++,I=kr(h.J);if(nt(I,"SID",h.M),nt(I,"RID",v),nt(I,"TYPE","terminate"),Ti(h,I),v=new br(h,h.j,v),v.M=2,v.A=hs(kr(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=v.A,I=!0),I||(v.g=ip(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ya(v)}Ca(h)}function hr(h){h.g&&(Pa(h),h.g.cancel(),h.g=null)}function zl(h){hr(h),h.v&&(l.clearTimeout(h.v),h.v=null),Wl(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function gs(h){if(!qc(h.h)&&!h.m){h.m=!0;var v=h.Ea;q||A(),U||(q(),U=!0),O.add(v,h),h.D=0}}function rp(h,v){return va(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=io(f(h.Ea,h,v),Hl(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new br(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=W(ne),ke(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var v=0,I=0;I<this.i.length;I++){t:{var N=this.i[I];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=I;break e}if(v===4096||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=nd(this,X,v),I=kr(this.J),nt(I,"RID",h),nt(I,"CVER",22),this.G&&nt(I,"X-HTTP-Session-Id",this.G),Ti(this,I),ne&&(this.R?v="headers="+pi(ep(ne))+"&"+v:this.u&&$l(I,this.u,ne)),Ml(this.h,X),this.Ra&&nt(I,"TYPE","init"),this.S?(nt(I,"$req",v),nt(I,"SID","null"),X.U=!0,Hr(X,I,null)):Hr(X,I,v),this.I=2}}else this.I==3&&(h?Aa(this,h):this.i.length==0||qc(this.h)||Aa(this))};function Aa(h,v){var I;v?I=v.l:I=h.V++;const N=kr(h.J);nt(N,"SID",h.M),nt(N,"RID",I),nt(N,"AID",h.K),Ti(h,N),h.u&&h.o&&$l(N,h.u,h.o),I=new br(h,h.j,I,h.D+1),h.u===null&&(I.J=h.o),v&&(h.i=v.G.concat(h.i)),v=nd(h,I,1e3),I.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ml(h.h,I),Hr(I,N,v)}function Ti(h,v){h.H&&fe(h.H,function(I,N){nt(v,N,I)}),h.l&&fe({},function(I,N){nt(v,N,I)})}function nd(h,v,I){I=Math.min(h.i.length,I);const N=h.l?f(h.l.Ka,h.l,h):null;e:{var X=h.i;let Fe=-1;for(;;){const Bt=["count="+I];Fe==-1?I>0?(Fe=X[0].g,Bt.push("ofs="+Fe)):Fe=0:Bt.push("ofs="+Fe);let at=!0;for(let Gt=0;Gt<I;Gt++){var ne=X[Gt].g;const pr=X[Gt].map;if(ne-=Fe,ne<0)Fe=Math.max(0,X[Gt].g-100),at=!1;else try{ne="req"+ne+"_"||"";try{var ye=pr instanceof Map?pr:Object.entries(pr);for(const[ys,Ri]of ye){let Ai=Ri;u(Ri)&&(Ai=Cn(Ri)),Bt.push(ne+ys+"="+encodeURIComponent(Ai))}}catch(ys){throw Bt.push(ne+"type="+encodeURIComponent("_badmap")),ys}}catch{N&&N(pr)}}if(at){ye=Bt.join("&");break e}}ye=void 0}return h=h.i.splice(0,I),v.G=h,ye}function bn(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;q||A(),U||(q(),U=!0),O.add(v,h),h.A=0}}function Si(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=io(f(h.Da,h),Hl(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=io(f(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),hr(this),fo(this))};function Pa(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function fo(h){h.g=new br(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=kr(h.na);nt(v,"RID","rpc"),nt(v,"SID",h.M),nt(v,"AID",h.K),nt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(v,"TO",h.ia),nt(v,"TYPE","xmlhttp"),Ti(h,v),h.u&&h.o&&$l(v,h.u,h.o),h.O&&(h.g.H=h.O);var I=h.g;h=h.ba,I.M=1,I.A=hs(kr(v)),I.u=null,I.R=!0,zc(I,h)}n.Va=function(){this.C!=null&&(this.C=null,hr(this),Si(this),Lt(19))};function Wl(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function ql(h,v){var I=null;if(h.g==v){Wl(h),Pa(h),h.g=null;var N=2}else if(Hc(h.h,v))I=v.G,wa(h.h,v),N=1;else return;if(h.I!=0){if(v.o)if(N==1){I=v.u?v.u.length:0,v=Date.now()-v.F;var X=h.D;N=ro(),Tt(N,new jc(N,I)),gs(h)}else bn(h);else if(X=v.m,X==3||X==0&&v.X>0||!(N==1&&rp(h,v)||N==2&&Si(h)))switch(I&&I.length>0&&(v=h.h,v.i=v.i.concat(I)),X){case 1:fr(h,5);break;case 4:fr(h,10);break;case 3:fr(h,6);break;default:fr(h,2)}}}function Hl(h,v){let I=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(I*=2),I*v}function fr(h,v){if(h.j.info("Error code "+v),v==2){var I=f(h.bb,h),N=h.Ua;const X=!N;N=new mi(N||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ea(N,"https"),hs(N),X?vi(N.toString(),I):wi(N.toString(),I)}else Lt(2);h.I=0,h.l&&h.l.pa(v),Ca(h),zl(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Ca(h){if(h.I=0,h.ja=[],h.l){const v=ur(h.h);(v.length!=0||h.i.length!=0)&&(T(h.ja,v),T(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function rd(h,v,I){var N=I instanceof mi?kr(I):new mi(I);if(N.g!="")v&&(N.g=v+"."+N.g),gi(N,N.u);else{var X=l.location;N=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;const ne=new mi(null);N&&Ea(ne,N),v&&(ne.g=v),X&&gi(ne,X),I&&(ne.h=I),N=ne}return I=h.G,v=h.wa,I&&v&&nt(N,I,v),nt(N,"VER",h.ka),Ti(h,N),N}function ip(h,v,I){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new pt(new fs({ab:I})):new pt(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sp(){}n=sp.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Kl(){}Kl.prototype.g=function(h,v){return new vn(h,v)};function vn(h,v){Dt.call(this),this.g=new jl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!S(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!S(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new po(this)}y(vn,Dt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Bl(this.g)},vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.v&&(I={},I.__data__=Cn(h),h=I);v.i.push(new Yy(v.Ya++,h)),v.I==3&&gs(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,vn.Z.N.call(this)};function op(h){xl.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const I in v){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}y(op,xl);function ap(){$c.call(this),this.status=1}y(ap,$c);function po(h){this.g=h}y(po,sp),po.prototype.ra=function(){Tt(this.g,"a")},po.prototype.qa=function(h){Tt(this.g,new op(h))},po.prototype.pa=function(h){Tt(this.g,new ap)},po.prototype.oa=function(){Tt(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,$1=function(){return new Kl},U1=function(){return ro()},F1=qr,Rw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,Am=oo,ao.COMPLETE="complete",M1=ao,Bf.EventType=no,no.OPEN="a",no.CLOSE="b",no.ERROR="c",no.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,th=Bf,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,V1=pt}).apply(typeof rm<"u"?rm:typeof self<"u"?self:typeof window<"u"?window:{});const GR="@firebase/firestore",QR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new of("@firebase/firestore");function xu(){return Go.logLevel}function c5(n){Go.setLogLevel(n)}function de(n,...e){if(Go.logLevel<=je.DEBUG){const t=e.map(ZE);Go.debug(`Firestore (${Rc}): ${n}`,...t)}}function Wt(n,...e){if(Go.logLevel<=je.ERROR){const t=e.map(ZE);Go.error(`Firestore (${Rc}): ${n}`,...t)}}function Zi(n,...e){if(Go.logLevel<=je.WARN){const t=e.map(ZE);Go.warn(`Firestore (${Rc}): ${n}`,...t)}}function ZE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,j1(n,r,t)}function j1(n,e,t){let r=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wt(r),new Error(r)}function Re(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||j1(e,i,r)}function d5(n,e){n||Ee(57014,e)}function we(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends fn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class f5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class p5{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new B1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class m5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new m5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ye(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0,3512);const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Re(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new YR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Aw(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return Dv(i)===Dv(s)?Ve(i,s):Dv(i)?1:-1}return Ve(n.length,e.length)}const v5=55296,w5=57343;function Dv(n){const e=n.charCodeAt(0);return e>=v5&&e<=w5}function Yu(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function z1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Oi.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),i=Oi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):Aw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class qe extends Oi{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new qe(t)}static emptyPath(){return new qe([])}}const E5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Oi{construct(e,t,r){return new Pt(e,t,r)}static isValidIdentifier(e){return E5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JR}static keyField(){return new Pt([JR])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new le(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new le(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new le(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new le(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n,e,t){if(!t)throw new le(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W1(n,e,t,r){if(e===!0&&r===!0)throw new le(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XR(n){if(!_e.isDocumentKey(n))throw new le(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZR(n){if(_e.isDocumentKey(n))throw new le(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function q1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function tt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kg(n);throw new le(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function H1(n,e){if(e<=0)throw new le(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(n,e){const t={typeString:n};return e&&(t.value=e),t}function df(n,e){if(!q1(n))throw new le(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new le(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=-62135596800,tA=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tA);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eA)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tA}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(df(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:en("string",st._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new st(0,0))}static max(){return new Ce(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;class og{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Pw(n){return n.fields.find((e=>e.kind===2))}function Ha(n){return n.fields.filter((e=>e.kind!==2))}og.UNKNOWN_ID=-1;class Pm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Nh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Nh(0,Ar.min())}}function K1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new Ar(i,_e.empty(),e)}function G1(n){return new Ar(n.readTime,n.key,Ju)}class Ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ar(Ce.min(),_e.empty(),Ju)}static max(){return new Ar(Ce.max(),_e.empty(),Ju)}}function nI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Q1)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,r)=>{t(e)}))}static reject(e){return new Y(((t,r)=>{r(e)}))}static waitFor(e){return new Y(((t,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&t()}),(d=>r(d)))})),l=!0,s===i&&t()}))}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next((i=>i?Y.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new Y(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const f=d;t(e[f]).next((m=>{l[f]=m,++u,u===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,t){return new Y(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="SimpleDb";class Gg{static open(e,t,r,i){try{return new Gg(t,e.transaction(i,r))}catch(s){throw new dh(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Rn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new dh(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=rI(r.target.error);this.S.reject(new dh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(vr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new T5(t)}}class Ki{static delete(e){return de(vr,"Removing database:",e),Ga(OE().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Ch())return!1;if(Ki.F())return!0;const e=Ke(),t=Ki.M(e),r=0<t&&t<10,i=J1(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Ki.M(Ke())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(vr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new dh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new le(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new le(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new dh(e,l))},i.onupgradeneeded=s=>{de(vr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{de(vr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Gg.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next((f=>(u.C(),f))).catch((f=>(u.abort(f),Y.reject(f)))).toPromise();return d.catch((()=>{})),await u.D,d}catch(u){const d=u,f=d.name!=="FirebaseError"&&l<3;if(de(vr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function J1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class I5{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ga(this.U.delete())}}class dh extends le{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ua(n){return n.name==="IndexedDbTransactionError"}class T5{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(de(vr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(de(vr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ga(r)}add(e){return de(vr,"ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next((t=>(t===void 0&&(t=null),de(vr,"GET",this.store.name,e,t),t)))}delete(e){return de(vr,"DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return de(vr,"COUNT",this.store.name),Ga(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Y(((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((u,d)=>{l.push(d)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Y(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,t){de(vr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new Y(((r,i)=>{t.onerror=s=>{const l=rI(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Y(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new I5(u),f=t(u.primaryKey,u.value,d);if(f instanceof Y){const m=f.catch((y=>(d.done(),Y.reject(y))));r.push(m)}d.isDone?i():d.G===null?u.continue():u.continue(d.G)}})).next((()=>Y.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ga(n){return new Y(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=rI(r.target.error);t(i)}}))}let nA=!1;function rI(n){const e=Ki.M(Ke());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nA||(nA=!0,setTimeout((()=>{throw r}),0)),r}}return n}const hh="IndexBackfiller";class S5{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(hh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();de(hh,`Documents written: ${t}`)}catch(t){ua(t)?de(hh,"Ignoring IndexedDB error during index backfill: ",t):await la(t)}await this.re(6e4)}))}}class R5{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,s=!0;return Y.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return de(hh,`Processing collection: ${l}`),this.oe(e,l,i).next((u=>{i-=u,r.add(l)}));s=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((u=>(de(hh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,s)=>{const l=G1(s);nI(l,r)>0&&(r=l)})),new Ar(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=-1;function hf(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function X1(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="";function Un(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rA(e)),e=A5(n.get(t),e);return rA(e)}function A5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case ag:t+="";break;default:t+=s}}return t}function rA(n){return n+ag+""}function Bi(n){const e=n.length;if(Re(e>=2,64408,{path:n}),e===2)return Re(n.charAt(0)===ag&&n.charAt(1)==="",56145,{path:n}),qe.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(ag,s);switch((l<0||l>t)&&Ee(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ee(61167,{path:n})}s=l+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="remoteDocuments",ff="owner",mu="owner",Dh="mutationQueues",P5="userId",ti="mutations",iA="batchId",Za="userMutationsIndex",sA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e){return[n,Un(e)]}function Z1(n,e,t){return[n,Un(e),t]}const C5={},Xu="documentMutations",lg="remoteDocumentsV14",b5=["prefixPath","collectionGroup","readTime","documentId"],bm="documentKeyIndex",k5=["prefixPath","collectionGroup","documentId"],ek="collectionGroupIndex",x5=["collectionGroup","readTime","prefixPath","documentId"],Lh="remoteDocumentGlobal",Cw="remoteDocumentGlobalKey",Zu="targets",tk="queryTargetsIndex",N5=["canonicalId","targetId"],ec="targetDocuments",O5=["targetId","path"],iI="documentTargetsIndex",D5=["path","targetId"],ug="targetGlobalKey",sl="targetGlobal",Vh="collectionParents",L5=["collectionId","parent"],tc="clientMetadata",V5="clientId",Qg="bundles",M5="bundleId",Yg="namedQueries",F5="name",sI="indexConfiguration",U5="indexId",bw="collectionGroupIndex",$5="collectionGroup",fh="indexState",j5=["indexId","uid"],nk="sequenceNumberIndex",B5=["uid","sequenceNumber"],ph="indexEntries",z5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rk="documentKeyIndex",W5=["indexId","uid","orderedDocumentKey"],Jg="documentOverlays",q5=["userId","collectionPath","documentId"],kw="collectionPathOverlayIndex",H5=["userId","collectionPath","largestBatchId"],ik="collectionGroupOverlayIndex",K5=["userId","collectionGroup","largestBatchId"],oI="globals",G5="name",sk=[Dh,ti,Xu,Ka,Zu,ff,sl,ec,tc,Lh,Vh,Qg,Yg],Q5=[...sk,Jg],ok=[Dh,ti,Xu,lg,Zu,ff,sl,ec,tc,Lh,Vh,Qg,Yg,Jg],ak=ok,aI=[...ak,sI,fh,ph],Y5=aI,lk=[...aI,oI],J5=lk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Y1{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function an(n,e){const t=we(n);return Ki.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=s??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new In(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aA(this.data.getIterator())}getIteratorFrom(e){return new aA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dt(this.comparator);return t.data=e,t}}class aA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new rr([])}unionWith(e){let t=new dt(Pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ck("Invalid base64 string: "+s):s}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Z5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(n){if(Re(!!n,39018),typeof n=="string"){let e=0;const t=Z5.exec(n);if(Re(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="server_timestamp",hk="__type__",fk="__previous_value__",pk="__local_write_time__";function Xg(n){return(n?.mapValue?.fields||{})[hk]?.stringValue===dk}function Zg(n){const e=n.mapValue.fields[fk];return Xg(e)?Zg(e):e}function Mh(n){const e=js(n.mapValue.fields[pk].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,t,r,i,s,l,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Nw="(default)";class Qo{constructor(e,t){this.projectId=e,this.database=t||Nw}static empty(){return new Qo("","")}get isDefaultDatabase(){return this.database===Nw}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="__type__",mk="__max__",Mo={mapValue:{fields:{__type__:{stringValue:mk}}}},uI="__vector__",nc="value",km={nullValue:"NULL_VALUE"};function Yo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xg(n)?4:gk(n)?9007199254740991:ey(n)?10:11:Ee(28295,{value:n})}function es(n,e){if(n===e)return!0;const t=Yo(n);if(t!==Yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mh(n).isEqual(Mh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=js(i.timestampValue),u=js(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Bs(i.bytesValue).isEqual(Bs(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return At(i.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return At(i.integerValue)===At(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=At(i.doubleValue),u=At(s.doubleValue);return l===u?Oh(l)===Oh(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Yu(n.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(oA(l)!==oA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!es(l[d],u[d])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function Fh(n,e){return(n.values||[]).find((t=>es(t,e)))!==void 0}function Jo(n,e){if(n===e)return 0;const t=Yo(n),r=Yo(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=At(s.integerValue||s.doubleValue),d=At(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return lA(n.timestampValue,e.timestampValue);case 4:return lA(Mh(n),Mh(e));case 5:return Aw(n.stringValue,e.stringValue);case 6:return(function(s,l){const u=Bs(s),d=Bs(l);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=Ve(u[f],d[f]);if(m!==0)return m}return Ve(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=Ve(At(s.latitude),At(l.latitude));return u!==0?u:Ve(At(s.longitude),At(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return uA(n.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},f=u[nc]?.arrayValue,m=d[nc]?.arrayValue,y=Ve(f?.values?.length||0,m?.values?.length||0);return y!==0?y:uA(f,m)})(n.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Mo.mapValue&&l===Mo.mapValue)return 0;if(s===Mo.mapValue)return 1;if(l===Mo.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const E=Aw(d[y],m[y]);if(E!==0)return E;const C=Jo(u[d[y]],f[m[y]]);if(C!==0)return C}return Ve(d.length,m.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function lA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=js(n),r=js(e),i=Ve(t.seconds,r.seconds);return i!==0?i:Ve(t.nanos,r.nanos)}function uA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Jo(t[i],r[i]);if(s)return s}return Ve(t.length,r.length)}function rc(n){return Ow(n)}function Ow(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=js(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Bs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Ow(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Ow(t.fields[l])}`;return i+"}"})(n.mapValue):Ee(61005,{value:n})}function xm(n){switch(Yo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zg(n);return e?16+xm(e):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+xm(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ca(r.fields,((s,l)=>{i+=s.length+xm(l)})),i})(n.mapValue);default:throw Ee(13486,{value:n})}}function cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Dw(n){return!!n&&"integerValue"in n}function Uh(n){return!!n&&"arrayValue"in n}function cA(n){return!!n&&"nullValue"in n}function dA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nm(n){return!!n&&"mapValue"in n}function ey(n){return(n?.mapValue?.fields||{})[lI]?.stringValue===uI}function mh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ca(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=mh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mh(n.arrayValue.values[t]);return e}return{...n}}function gk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mk}const yk={mapValue:{fields:{[lI]:{stringValue:uI},[nc]:{arrayValue:{}}}}};function t3(n){return"nullValue"in n?km:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cl(Qo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ey(n)?yk:{mapValue:{}}:Ee(35942,{value:n})}function n3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cl(Qo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?yk:"mapValue"in n?ey(n)?{mapValue:{}}:Mo:Ee(61959,{value:n})}function hA(n,e){const t=Jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fA(n,e){const t=Jo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(t)}setAll(e){let t=Pt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=mh(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Nm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ca(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Sn(mh(this.value))}}function _k(n){const e=[];return ca(n.fields,((t,r)=>{const i=new Pt([t]);if(Nm(r)){const s=_k(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new It(e,0,Ce.min(),Ce.min(),Ce.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,i){return new It(e,1,t,Ce.min(),r,i,0)}static newNoDocument(e,t){return new It(e,2,t,Ce.min(),Ce.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,Ce.min(),Ce.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t){this.position=e,this.inclusive=t}}function pA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Jo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!es(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t="asc"){this.field=e,this.dir=t}}function r3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{}class He extends vk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new i3(e,t,r):t==="array-contains"?new a3(e,r):t==="in"?new Rk(e,r):t==="not-in"?new l3(e,r):t==="array-contains-any"?new u3(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new s3(e,r):new o3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&Yo(this.value)===Yo(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ct extends vk{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ct(e,t)}matches(e){return ic(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ic(n){return n.op==="and"}function Lw(n){return n.op==="or"}function cI(n){return wk(n)&&ic(n)}function wk(n){for(const e of n.filters)if(e instanceof ct)return!1;return!0}function Vw(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+rc(n.value);if(cI(n))return n.filters.map((e=>Vw(e))).join(",");{const e=n.filters.map((t=>Vw(t))).join(",");return`${n.op}(${e})`}}function Ek(n,e){return n instanceof He?(function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)})(n,e):n instanceof ct?(function(r,i){return i instanceof ct&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&Ek(l,i.filters[u])),!0):!1})(n,e):void Ee(19439)}function Ik(n,e){const t=n.filters.concat(e);return ct.create(t,n.op)}function Tk(n){return n instanceof He?(function(t){return`${t.field.canonicalString()} ${t.op} ${rc(t.value)}`})(n):n instanceof ct?(function(t){return t.op.toString()+" {"+t.getFilters().map(Tk).join(" ,")+"}"})(n):"Filter"}class i3 extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class s3 extends He{constructor(e,t){super(e,"in",t),this.keys=Sk("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class o3 extends He{constructor(e,t){super(e,"not-in",t),this.keys=Sk("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Sk(n,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class a3 extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uh(t)&&Fh(t.arrayValue,this.value)}}class Rk extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fh(this.value.arrayValue,t)}}class l3 extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fh(this.value.arrayValue,t)}}class u3 extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Fh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function Mw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new c3(n,e,t,r,i,s,l)}function dl(n){const e=we(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Vw(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>rc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>rc(r))).join(",")),e.Te=t}return e.Te}function pf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ek(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mA(n.startAt,e.startAt)&&mA(n.endAt,e.endAt)}function cg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function dg(n,e){return n.filters.filter((t=>t instanceof He&&t.field.isEqual(e)))}function gA(n,e,t){let r=km,i=!0;for(const s of dg(n,e)){let l=km,u=!0;switch(s.op){case"<":case"<=":l=t3(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=km}hA({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];hA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function yA(n,e,t){let r=Mo,i=!0;for(const s of dg(n,e)){let l=Mo,u=!0;switch(s.op){case">=":case">":l=n3(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=Mo}fA({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];fA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ak(n,e,t,r,i,s,l,u){return new Ks(n,e,t,r,i,s,l,u)}function Ac(n){return new Ks(n)}function _A(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dI(n){return n.collectionGroup!==null}function $u(n){const e=we(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new dt(Pt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new $h(s,r))})),t.has(Pt.keyField().canonicalString())||e.Ie.push(new $h(Pt.keyField(),r))}return e.Ie}function Kn(n){const e=we(n);return e.Ee||(e.Ee=d3(e,$u(n))),e.Ee}function d3(n,e){if(n.limitType==="F")return Mw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new $h(i.field,s)}));const t=n.endAt?new Xo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xo(n.startAt.position,n.startAt.inclusive):null;return Mw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Fw(n,e){const t=n.filters.concat([e]);return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hg(n,e,t){return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mf(n,e){return pf(Kn(n),Kn(e))&&n.limitType===e.limitType}function Pk(n){return`${dl(Kn(n))}|lt:${n.limitType}`}function Nu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>Tk(i))).join(", ")}]`),hf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>rc(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>rc(i))).join(",")),`Target(${r})`})(Kn(n))}; limitType=${n.limitType})`}function gf(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of $u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const f=pA(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,$u(r),i)||r.endAt&&!(function(l,u,d){const f=pA(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,$u(r),i))})(n,e)}function Ck(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bk(n){return(e,t)=>{let r=!1;for(const i of $u(n)){const s=h3(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function h3(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(s,l,u){const d=l.data.field(s),f=u.data.field(s);return d!==null&&f!==null?Jo(d,f):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return uk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new yt(_e.comparator);function ir(){return f3}const kk=new yt(_e.comparator);function nh(...n){let e=kk;for(const t of n)e=e.insert(t.key,t);return e}function xk(n){let e=kk;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function zi(){return gh()}function Nk(){return gh()}function gh(){return new Gs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const p3=new yt(_e.comparator),m3=new dt(_e.comparator);function $e(...n){let e=m3;for(const t of n)e=e.add(t);return e}const g3=new dt(Ve);function hI(){return g3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function Ok(n){return{integerValue:""+n}}function Dk(n,e){return X1(e)?Ok(e):fI(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this._=void 0}}function y3(n,e,t){return n instanceof sc?(function(i,s){const l={fields:{[hk]:{stringValue:dk},[pk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xg(s)&&(s=Zg(s)),s&&(l.fields[fk]=s),{mapValue:l}})(t,e):n instanceof hl?Vk(n,e):n instanceof fl?Mk(n,e):(function(i,s){const l=Lk(i,s),u=vA(l)+vA(i.Ae);return Dw(l)&&Dw(i.Ae)?Ok(u):fI(i.serializer,u)})(n,e)}function _3(n,e,t){return n instanceof hl?Vk(n,e):n instanceof fl?Mk(n,e):t}function Lk(n,e){return n instanceof oc?(function(r){return Dw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class sc extends ty{}class hl extends ty{constructor(e){super(),this.elements=e}}function Vk(n,e){const t=Fk(e);for(const r of n.elements)t.some((i=>es(i,r)))||t.push(r);return{arrayValue:{values:t}}}class fl extends ty{constructor(e){super(),this.elements=e}}function Mk(n,e){let t=Fk(e);for(const r of n.elements)t=t.filter((i=>!es(i,r)));return{arrayValue:{values:t}}}class oc extends ty{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vA(n){return At(n.integerValue||n.doubleValue)}function Fk(n){return Uh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.field=e,this.transform=t}}function v3(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof hl&&i instanceof hl||r instanceof fl&&i instanceof fl?Yu(r.elements,i.elements,es):r instanceof oc&&i instanceof oc?es(r.Ae,i.Ae):r instanceof sc&&i instanceof sc})(n.transform,e.transform)}class w3{constructor(e,t){this.version=e,this.transformResults=t}}class Ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Om(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ny{}function Uk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cc(n.key,Ct.none()):new Pc(n.key,n.data,Ct.none());{const t=n.data,r=Sn.empty();let i=new dt(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Qs(n.key,r,new rr(i.toArray()),Ct.none())}}function E3(n,e,t){n instanceof Pc?(function(i,s,l){const u=i.value.clone(),d=EA(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Qs?(function(i,s,l){if(!Om(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=EA(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll($k(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function yh(n,e,t,r){return n instanceof Pc?(function(s,l,u,d){if(!Om(s.precondition,l))return u;const f=s.value.clone(),m=IA(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Qs?(function(s,l,u,d){if(!Om(s.precondition,l))return u;const f=IA(s.fieldTransforms,d,l),m=l.data;return m.setAll($k(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(s,l,u){return Om(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function I3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Lk(r.transform,i||null);s!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,s))}return t||null}function wA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yu(r,i,((s,l)=>v3(s,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pc extends ny{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qs extends ny{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $k(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function EA(n,e,t){const r=new Map;Re(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,_3(l,u,t[i]))}return r}function IA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,y3(s,l,e))}return r}class Cc extends ny{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pI extends ny{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&E3(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Nk();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=Uk(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,((t,r)=>wA(t,r)))&&Yu(this.baseMutations,e.baseMutations,((t,r)=>wA(t,r)))}}class gI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return p3})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new gI(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Je;function jk(n){switch(n){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function Bk(n){if(n===void 0)return Wt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Jt.OK:return te.OK;case Jt.CANCELLED:return te.CANCELLED;case Jt.UNKNOWN:return te.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return te.INTERNAL;case Jt.UNAVAILABLE:return te.UNAVAILABLE;case Jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Jt.NOT_FOUND:return te.NOT_FOUND;case Jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Jt.ABORTED:return te.ABORTED;case Jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Jt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:n})}}(Je=Jt||(Jt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new jo([4294967295,4294967295],0);function TA(n){const e=zk().encode(n),t=new L1;return t.update(e),new Uint8Array(t.digest())}function SA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jo([t,r],0),new jo([i,s],0)]}class _I{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rh(`Invalid padding: ${t}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new rh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=jo.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(jo.fromNumber(r)));return i.compare(S3)===1&&(i=new jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=TA(e),[r,i]=SA(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new _I(s,i,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=TA(e),[r,i]=SA(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _f(Ce.min(),i,new yt(Ve),ir(),$e())}}class vf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vf(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class Wk{constructor(e,t){this.targetId=e,this.Ce=t}}class qk{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RA{constructor(){this.ve=0,this.Fe=AA(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),r=$e();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:s})}})),new vf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=AA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class R3{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.Je=sm(),this.He=sm(),this.Ye=new yt(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(cg(s))if(r===0){const l=new _e(s.path);this.et(t,l,It.newNoDocument(l,Ce.min()))}else Re(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Bs(r).toUint8Array()}catch(d){if(d instanceof ck)return Zi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new _I(l,i,s)}catch(d){return Zi(d instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&cg(u.target)){const d=new _e(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,It.newNoDocument(d,e))}s.Be&&(t.set(l,s.ke()),s.qe())}}));let r=$e();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new _f(e,t,this.Ye,this.je,r);return this.je=ir(),this.Je=sm(),this.He=sm(),this.Ye=new yt(Ve),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new RA,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new dt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new dt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sm(){return new yt(_e.comparator)}function AA(){return new yt(_e.comparator)}const A3={asc:"ASCENDING",desc:"DESCENDING"},P3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C3={and:"AND",or:"OR"};class b3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uw(n,e){return n.useProto3Json||hf(e)?e:{value:e}}function ac(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function k3(n,e){return ac(n,e.toTimestamp())}function qt(n){return Re(!!n,49232),Ce.fromTimestamp((function(t){const r=js(t);return new st(r.seconds,r.nanos)})(n))}function vI(n,e){return $w(n,e).canonicalString()}function $w(n,e){const t=(function(i){return new qe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Kk(n){const e=qe.fromString(n);return Re(rx(e),10190,{key:e.toString()}),e}function jh(n,e){return vI(n.databaseId,e.path)}function Gi(n,e){const t=Kk(e);if(t.get(1)!==n.databaseId.projectId)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Yk(t))}function Gk(n,e){return vI(n.databaseId,e)}function Qk(n){const e=Kk(n);return e.length===4?qe.emptyPath():Yk(e)}function jw(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yk(n){return Re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function PA(n,e,t){return{name:jh(n,e),fields:t.value.mapValue.fields}}function Jk(n,e,t){const r=Gi(n,e.name),i=qt(e.updateTime),s=e.createTime?qt(e.createTime):Ce.min(),l=new Sn({mapValue:{fields:e.fields}}),u=It.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function x3(n,e){return"found"in e?(function(r,i){Re(!!i.found,43571),i.found.name,i.found.updateTime;const s=Gi(r,i.found.name),l=qt(i.found.updateTime),u=i.found.createTime?qt(i.found.createTime):Ce.min(),d=new Sn({mapValue:{fields:i.found.fields}});return It.newFoundDocument(s,l,u,d)})(n,e):"missing"in e?(function(r,i){Re(!!i.missing,3894),Re(!!i.readTime,22933);const s=Gi(r,i.missing),l=qt(i.readTime);return It.newNoDocument(s,l)})(n,e):Ee(7234,{result:e})}function N3(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(Re(m===void 0||typeof m=="string",58123),Ut.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ut.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const m=f.code===void 0?te.UNKNOWN:Bk(f.code);return new le(m,f.message||"")})(l);t=new qk(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gi(n,r.document.name),s=qt(r.document.updateTime),l=r.document.createTime?qt(r.document.createTime):Ce.min(),u=new Sn({mapValue:{fields:r.document.fields}}),d=It.newFoundDocument(i,s,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Dm(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gi(n,r.document),s=r.readTime?qt(r.readTime):Ce.min(),l=It.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Dm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gi(n,r.document),s=r.removedTargetIds||[];t=new Dm([],s,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new T3(i,s),u=r.targetId;t=new Wk(u,l)}}return t}function Bh(n,e){let t;if(e instanceof Pc)t={update:PA(n,e.key,e.value)};else if(e instanceof Cc)t={delete:jh(n,e.key)};else if(e instanceof Qs)t={update:PA(n,e.key,e.data),updateMask:F3(e.fieldMask)};else{if(!(e instanceof pI))return Ee(16599,{Vt:e.type});t={verify:jh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof sc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof oc)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ee(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:k3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee(27497)})(n,e.precondition)),t}function Bw(n,e){const t=e.currentDocument?(function(s){return s.updateTime!==void 0?Ct.updateTime(qt(s.updateTime)):s.exists!==void 0?Ct.exists(s.exists):Ct.none()})(e.currentDocument):Ct.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),d=new sc;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new hl(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new fl(m)}else"increment"in u?d=new oc(l,u.increment):Ee(16584,{proto:u});const f=Pt.fromServerFormat(u.fieldPath);return new yf(f,d)})(n,i))):[];if(e.update){e.update.name;const i=Gi(n,e.update.name),s=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new rr(f.map((m=>Pt.fromServerFormat(m))))})(e.updateMask);return new Qs(i,s,l,t,r)}return new Pc(i,s,t,r)}if(e.delete){const i=Gi(n,e.delete);return new Cc(i,t)}if(e.verify){const i=Gi(n,e.verify);return new pI(i,t)}return Ee(1463,{proto:e})}function O3(n,e){return n&&n.length>0?(Re(e!==void 0,14353),n.map((t=>(function(i,s){let l=i.updateTime?qt(i.updateTime):qt(s);return l.isEqual(Ce.min())&&(l=qt(s)),new w3(l,i.transformResults||[])})(t,e)))):[]}function Xk(n,e){return{documents:[Gk(n,e.path)]}}function Zk(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Gk(n,i);const s=(function(f){if(f.length!==0)return nx(ct.create(f,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(E){return{field:Ou(E.field),direction:L3(E.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Uw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:i}}function ex(n){let e=Qk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=(function(y){const E=tx(y);return E instanceof ct&&cI(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((E=>(function(T){return new $h(Du(T.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(y){let E;return E=typeof y=="object"?y.value:y,hf(E)?null:E})(t.limit));let d=null;t.startAt&&(d=(function(y){const E=!!y.before,C=y.values||[];return new Xo(C,E)})(t.startAt));let f=null;return t.endAt&&(f=(function(y){const E=!y.before,C=y.values||[];return new Xo(C,E)})(t.endAt)),Ak(e,i,l,s,u,"F",d,f)}function D3(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Du(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Du(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Du(t.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Du(t.unaryFilter.field);return He.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return He.create(Du(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ct.create(t.compositeFilter.filters.map((r=>tx(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function L3(n){return A3[n]}function V3(n){return P3[n]}function M3(n){return C3[n]}function Ou(n){return{fieldPath:n.canonicalString()}}function Du(n){return Pt.fromServerFormat(n.fieldPath)}function nx(n){return n instanceof He?(function(t){if(t.op==="=="){if(dA(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NAN"}};if(cA(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dA(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NOT_NAN"}};if(cA(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(t.field),op:V3(t.op),value:t.value}}})(n):n instanceof ct?(function(t){const r=t.getFilters().map((i=>nx(i)));return r.length===1?r[0]:{compositeFilter:{op:M3(t.op),filters:r}}})(n):Ee(54877,{filter:n})}function F3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function rx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,r,i,s=Ce.min(),l=Ce.min(),u=Ut.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.yt=e}}function U3(n,e){let t;if(e.document)t=Jk(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=ml(e.noDocument.readTime);t=It.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=_e.fromSegments(e.unknownDocument.path),i=ml(e.unknownDocument.version);t=It.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const s=new st(i[0],i[1]);return Ce.fromTimestamp(s)})(e.readTime)),t}function CA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:jh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:ac(s,l.version.toTimestamp()),createTime:ac(s,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:pl(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:pl(e.version)}}return r}function fg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ml(n){const e=new st(n.seconds,n.nanoseconds);return Ce.fromTimestamp(e)}function Qa(n,e){const t=(e.baseMutations||[]).map((s=>Bw(n.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Bw(n.yt,s))),i=st.fromMillis(e.localWriteTimeMs);return new mI(e.batchId,i,t,r)}function ih(n){const e=ml(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ml(n.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=(function(s){return s.documents!==void 0})(n.query)?(function(s){const l=s.documents.length;return Re(l===1,1966,{count:l}),Kn(Ac(Qk(s.documents[0])))})(n.query):(function(s){return Kn(ex(s))})(n.query),new Ns(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ut.fromBase64String(n.resumeToken))}function sx(n,e){const t=pl(e.snapshotVersion),r=pl(e.lastLimboFreeSnapshotVersion);let i;i=cg(e.target)?Xk(n.yt,e.target):Zk(n.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wI(n){const e=ex({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hg(e,e.limit,"L"):e}function Lv(n,e){return new yI(e.largestBatchId,Bw(n.yt,e.overlayMutation))}function bA(n,e){const t=e.path.lastSegment();return[n,Un(e.path.popLast()),t]}function kA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:pl(r.readTime),documentKey:Un(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{getBundleMetadata(e,t){return xA(e).get(t).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:ml(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,t){return xA(e).put((function(i){return{bundleId:i.id,createTime:pl(qt(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return NA(e).get(t).next((r=>{if(r)return(function(s){return{name:s.name,query:wI(s.bundledQuery),readTime:ml(s.readTime)}})(r)}))}saveNamedQuery(e,t){return NA(e).put((function(i){return{name:i.name,readTime:pl(qt(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function xA(n){return an(n,Qg)}function NA(n){return an(n,Yg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new ry(e,r)}getOverlay(e,t){return xd(e).get(bA(this.userId,t)).next((r=>r?Lv(this.serializer,r):null))}getOverlays(e,t){const r=zi();return Y.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((s,l)=>{const u=new yI(t,l);i.push(this.St(e,u))})),Y.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((l=>i.add(Un(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(xd(e).Z(kw,u))})),Y.waitFor(s)}getOverlaysForCollection(e,t,r){const i=zi(),s=Un(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xd(e).J(kw,l).next((u=>{for(const d of u){const f=Lv(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const s=zi();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xd(e).ee({index:ik,range:u},((d,f,m)=>{const y=Lv(this.serializer,f);s.size()<i||y.largestBatchId===l?(s.set(y.getKey(),y),l=y.largestBatchId):m.done()})).next((()=>s))}St(e,t){return xd(e).put((function(i,s,l){const[u,d,f]=bA(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Bh(i.yt,l.mutation)}})(this.serializer,this.userId,t))}}function xd(n){return an(n,Jg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{bt(e){return an(e,oI)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Ut.fromUint8Array(r):Ut.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(At(e.integerValue));else if("doubleValue"in e){const r=At(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Oh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=js(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Bs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?gk(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ey(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ee(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const i=nc,s=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(At(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),_e.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ya.Kt=new Ya;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=255;function B3(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function OA(n){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=B3(255&r[s]);if(i+=l,l!==8)break}return i})(n);return Math.ceil(e/8)}class z3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=OA(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=OA(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(yu),this.sn(255)}_n(){this.an(yu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===yu?(this.sn(yu),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===yu?(this.an(yu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class W3{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class q3{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Nd{constructor(){this.cn=new z3,this.ln=new W3(this.cn),this.hn=new q3(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new Ja(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Lm(this.En),directionalValue:Lm(this.dn),orderedDocumentKey:Lm(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function ko(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=DA(n.En,e.En),t!==0?t:(t=DA(n.dn,e.dn),t!==0?t:_e.comparator(n.In,e.In)))}function DA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Lm(n){return Nb()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function LA(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class VA{constructor(e){this.mn=new dt(((t,r)=>Pt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Pw(e);if(t!==void 0&&!this.wn(t))return!1;const r=Ha(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.Sn(u,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new dt(Pt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Pm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Pm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Pm(r.field,r.dir==="asc"?0:1)));return new og(og.UNKNOWN_ID,this.collectionId,t,Nh.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(n){if(Re(n instanceof He||n instanceof ct,20012),n instanceof He){if(n instanceof Rk){const t=n.value.arrayValue?.values?.map((r=>He.create(n.field,"==",r)))||[];return ct.create(t,"or")}return n}const e=n.filters.map((t=>ox(t)));return ct.create(e,n.op)}function H3(n){if(n.getFilters().length===0)return[];const e=qw(ox(n));return Re(ax(e),7391),zw(e)||Ww(e)?[e]:e.getFilters()}function zw(n){return n instanceof He}function Ww(n){return n instanceof ct&&cI(n)}function ax(n){return zw(n)||Ww(n)||(function(t){if(t instanceof ct&&Lw(t)){for(const r of t.getFilters())if(!zw(r)&&!Ww(r))return!1;return!0}return!1})(n)}function qw(n){if(Re(n instanceof He||n instanceof ct,34018),n instanceof He)return n;if(n.filters.length===1)return qw(n.filters[0]);const e=n.filters.map((r=>qw(r)));let t=ct.create(e,n.op);return t=pg(t),ax(t)?t:(Re(t instanceof ct,64498),Re(ic(t),40251),Re(t.filters.length>1,57927),t.filters.reduce(((r,i)=>EI(r,i))))}function EI(n,e){let t;return Re(n instanceof He||n instanceof ct,38388),Re(e instanceof He||e instanceof ct,25473),t=n instanceof He?e instanceof He?(function(i,s){return ct.create([i,s],"and")})(n,e):MA(n,e):e instanceof He?MA(e,n):(function(i,s){if(Re(i.filters.length>0&&s.filters.length>0,48005),ic(i)&&ic(s))return Ik(i,s.getFilters());const l=Lw(i)?i:s,u=Lw(i)?s:i,d=l.filters.map((f=>EI(f,u)));return ct.create(d,"or")})(n,e),pg(t)}function MA(n,e){if(ic(e))return Ik(e,n.getFilters());{const t=e.filters.map((r=>EI(n,r)));return ct.create(t,"or")}}function pg(n){if(Re(n instanceof He||n instanceof ct,11850),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return pg(e[0]);if(wk(n))return n;const t=e.map((i=>pg(i))),r=[];return t.forEach((i=>{i instanceof He?r.push(i):i instanceof ct&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:ct.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.Cn=new II}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ar.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class II{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dt(qe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="IndexedDbIndexManager",om=new Uint8Array(0);class G3{constructor(e,t){this.databaseId=t,this.vn=new II,this.Fn=new Gs((r=>dl(r)),((r,i)=>pf(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const s={collectionId:r,parent:Un(i)};return UA(e).put(s)}return Y.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[z1(t),""],!1,!0);return UA(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==t)break;r.push(Bi(l.parent))}return r}))}addFieldIndex(e,t){const r=Od(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=vu(e);return s.next((u=>{l.put(kA(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const r=Od(e),i=vu(e),s=_u(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Od(e),r=_u(e),i=vu(e);return t.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return Y.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new VA(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,t){const r=_u(e);let i=!0;const s=new Map;return Y.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{i&&(i=!!u),s.set(l,u)})))).next((()=>{if(i){let l=$e();const u=[];return Y.forEach(s,((d,f)=>{de(FA,`Using index ${(function($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map((H=>`${H.fieldPath}:${H.kind}`)).join(",")}`})(d)} to execute ${dl(t)}`);const m=(function($,H){const q=Pw(H);if(q===void 0)return null;for(const U of dg($,q.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null})(f,d),y=(function($,H){const q=new Map;for(const U of Ha(H))for(const O of dg($,U.fieldPath))switch(O.op){case"==":case"in":q.set(U.fieldPath.canonicalString(),O.value);break;case"not-in":case"!=":return q.set(U.fieldPath.canonicalString(),O.value),Array.from(q.values())}return null})(f,d),E=(function($,H){const q=[];let U=!0;for(const O of Ha(H)){const A=O.kind===0?gA($,O.fieldPath,$.startAt):yA($,O.fieldPath,$.startAt);q.push(A.value),U&&(U=A.inclusive)}return new Xo(q,U)})(f,d),C=(function($,H){const q=[];let U=!0;for(const O of Ha(H)){const A=O.kind===0?yA($,O.fieldPath,$.endAt):gA($,O.fieldPath,$.endAt);q.push(A.value),U&&(U=A.inclusive)}return new Xo(q,U)})(f,d),T=this.On(d,f,E),P=this.On(d,f,C),k=this.Nn(d,f,y),j=this.Bn(d.indexId,m,T,E.inclusive,P,C.inclusive,k);return Y.forEach(j,(M=>r.Y(M,t.limit).next(($=>{$.forEach((H=>{const q=_e.fromSegments(H.documentKey);l.has(q)||(l=l.add(q),u.push(q))}))}))))})).next((()=>u))}return Y.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=H3(ct.create(e.filters,"and")).map((r=>Mw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),f=d/(t!=null?t.length:1),m=[];for(let y=0;y<d;++y){const E=t?this.Ln(t[y/f]):om,C=this.kn(e,E,r[y%f],i),T=this.qn(e,E,s[y%f],l),P=u.map((k=>this.kn(e,E,k,!0)));m.push(...this.createRange(C,T,P))}return m}kn(e,t,r,i){const s=new Ja(e,_e.empty(),t,r);return i?s:s.An()}qn(e,t,r,i){const s=new Ja(e,_e.empty(),t,r);return i?s.An():s}xn(e,t){const r=new VA(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const u of s)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const i=this.Mn(t);return Y.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new dt(Pt.comparator),m=!1;for(const y of d.filters)for(const E of y.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?m=!0:f=f.add(E.field));for(const y of d.orderBy)y.field.isKeyField()||(f=f.add(y.field));return f.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&i.length>1&&r===2?1:r))}Qn(e,t){const r=new Nd;for(const i of Ha(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);Ya.Kt.Dt(s,l)}return r.un()}Ln(e){const t=new Nd;return Ya.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Nd;return Ya.Kt.Dt(cl(this.databaseId,t),r.Pn((function(s){const l=Ha(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Nd);let s=0;for(const l of Ha(e)){const u=r[s++];for(const d of i)if(this.Un(t,l.fieldPath)&&Uh(u))i=this.Kn(i,l,u);else{const f=d.Pn(l.kind);Ya.Kt.Dt(u,f)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Nd;d.seed(u.un()),Ya.Kt.Dt(l,d.Pn(t.kind)),s.push(d)}return s}Un(e,t){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Od(e),i=vu(e);return(t?r.J(bw,IDBKeyRange.bound(t,t)):r.J()).next((s=>{const l=[];return Y.forEach(s,(u=>i.get([u.indexId,this.uid]).next((d=>{l.push((function(m,y){const E=y?new Nh(y.sequenceNumber,new Ar(ml(y.readTime),new _e(Bi(y.documentKey)),y.largestBatchId)):Nh.empty(),C=m.fields.map((([T,P])=>new Pm(Pt.fromServerFormat(T),P)));return new og(m.indexId,m.collectionGroup,C,E)})(u,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ve(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=Od(e),s=vu(e);return this.Gn(e).next((l=>i.J(bw,IDBKeyRange.bound(t,t)).next((u=>Y.forEach(u,(d=>s.put(kA(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Y.forEach(t,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Y.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),Y.forEach(u,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(s,d);return f.isEqual(m)?Y.resolve():this.Jn(e,s,d,f,m)})))))))}))}Hn(e,t,r,i){return _u(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return _u(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=_u(e);let s=new dt(ko);return i.ee({index:rk,range:IDBKeyRange.only([r.indexId,this.uid,Lm(this.$n(r,t))])},((l,u)=>{s=s.add(new Ja(r.indexId,t,LA(u.arrayValue),LA(u.directionalValue)))})).next((()=>s))}jn(e,t){let r=new dt(ko);const i=this.Qn(t,e);if(i==null)return r;const s=Pw(t);if(s!=null){const l=e.data.field(s.fieldPath);if(Uh(l))for(const u of l.arrayValue.values||[])r=r.add(new Ja(t.indexId,e.key,this.Ln(u),i))}else r=r.add(new Ja(t.indexId,e.key,om,i));return r}Jn(e,t,r,i,s){de(FA,"Updating index entries for document '%s'",t.key);const l=[];return(function(d,f,m,y,E){const C=d.getIterator(),T=f.getIterator();let P=gu(C),k=gu(T);for(;P||k;){let j=!1,M=!1;if(P&&k){const $=m(P,k);$<0?M=!0:$>0&&(j=!0)}else P!=null?M=!0:j=!0;j?(y(k),k=gu(T)):M?(E(P),P=gu(C)):(P=gu(C),k=gu(T))}})(i,s,ko,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Y.waitFor(l)}Gn(e){let t=1;return vu(e).ee({index:nk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>ko(l,u))).filter(((l,u,d)=>!u||ko(l,d[u-1])!==0));const i=[];i.push(e);for(const l of r){const u=ko(l,e),d=ko(l,t);if(u===0)i[0]=e.An();else if(u>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const u=i[l].Vn(this.uid,om,_e.empty()),d=i[l+1].Vn(this.uid,om,_e.empty());s.push(IDBKeyRange.bound(u,d))}return s}Zn(e,t){return ko(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($A)}getMinOffset(e,t){return Y.mapArray(this.Mn(t),(r=>this.xn(e,r).next((i=>i||Ee(44426))))).next($A)}}function UA(n){return an(n,Vh)}function _u(n){return an(n,ph)}function Od(n){return an(n,sI)}function vu(n){return an(n,fh)}function $A(n){Re(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;nI(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ar(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lx=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n,e,t){const r=n.store(ti),i=n.store(Xu),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.ee({range:l},((m,y,E)=>(u++,E.delete())));s.push(d.next((()=>{Re(u===1,47070,{batchId:t.batchId})})));const f=[];for(const m of t.mutations){const y=Z1(e,m.key.path,t.batchId);s.push(i.delete(y)),f.push(m.key)}return Y.waitFor(s).next((()=>f))}function mg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(lx,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class iy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){Re(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new iy(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xo(e).ee({index:Za,range:r},((i,s,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const s=Lu(e),l=xo(e);return l.add({}).next((u=>{Re(typeof u=="number",49019);const d=new mI(u,t,r,i),f=(function(C,T,P){const k=P.baseMutations.map((M=>Bh(C.yt,M))),j=P.mutations.map((M=>Bh(C.yt,M)));return{userId:T,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:k,mutations:j}})(this.serializer,this.userId,d),m=[];let y=new dt(((E,C)=>Ve(E.canonicalString(),C.canonicalString())));for(const E of i){const C=Z1(this.userId,E.key.path,u);y=y.add(E.key.path.popLast()),m.push(l.put(f)),m.push(s.put(C,C5))}return y.forEach((E=>{m.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[u]=d.keys()})),Y.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,t){return xo(e).get(t).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Qa(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Y.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return xo(e).ee({index:Za,range:i},((l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r,47524,{tr:r}),s=Qa(this.serializer,u)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Bo;return xo(e).ee({index:Za,range:t,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Bo],[this.userId,Number.POSITIVE_INFINITY]);return xo(e).J(Za,t).next((r=>r.map((i=>Qa(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Cm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Lu(e).ee({range:i},((l,u,d)=>{const[f,m,y]=l,E=Bi(m);if(f===this.userId&&t.path.isEqual(E))return xo(e).get(y).next((C=>{if(!C)throw Ee(61480,{nr:l,batchId:y});Re(C.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:C.userId,batchId:y}),s.push(Qa(this.serializer,C))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(Ve);const i=[];return t.forEach((s=>{const l=Cm(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Lu(e).ee({range:u},((f,m,y)=>{const[E,C,T]=f,P=Bi(C);E===this.userId&&s.path.isEqual(P)?r=r.add(T):y.done()}));i.push(d)})),Y.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Cm(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new dt(Ve);return Lu(e).ee({range:l},((d,f,m)=>{const[y,E,C]=d,T=Bi(E);y===this.userId&&r.isPrefixOf(T)?T.length===i&&(u=u.add(C)):m.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],i=[];return t.forEach((s=>{i.push(xo(e).get(s).next((l=>{if(l===null)throw Ee(35274,{batchId:s});Re(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(Qa(this.serializer,l))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return ux(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Y.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Lu(e).ee({range:r},((s,l,u)=>{if(s[0]===this.userId){const d=Bi(s[1]);i.push(d)}else u.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,t){return cx(e,this.userId,t)}_r(e){return dx(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Bo,lastStreamToken:""}))}}function cx(n,e,t){const r=Cm(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Lu(n).ee({range:s,X:!0},((u,d,f)=>{const[m,y,E]=u;m===e&&y===i&&(l=!0),f.done()})).next((()=>l))}function xo(n){return an(n,ti)}function Lu(n){return an(n,Xu)}function dx(n){return an(n,Dh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new gl(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ce.fromTimestamp(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>wu(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let i=0;const s=[];return wu(e).ee(((l,u)=>{const d=ih(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>Y.waitFor(s))).next((()=>i))}forEachTarget(e,t){return wu(e).ee(((r,i)=>{const s=ih(i);t(s)}))}lr(e){return BA(e).get(ug).next((t=>(Re(t!==null,2888),t)))}hr(e,t){return BA(e).put(ug,t)}Pr(e,t){return wu(e).put(sx(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=dl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return wu(e).ee({range:i,index:tk},((l,u,d)=>{const f=ih(u);pf(t,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,t,r){const i=[],s=Vo(e);return t.forEach((l=>{const u=Un(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))})),Y.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vo(e);return Y.forEach(t,(s=>{const l=Un(s.path);return Y.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,t){const r=Vo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vo(e);let s=$e();return i.ee({range:r,X:!0},((l,u,d)=>{const f=Bi(l[1]),m=new _e(f);s=s.add(m)})).next((()=>s))}containsKey(e,t){const r=Un(t.path),i=IDBKeyRange.bound([r],[z1(r)],!1,!0);let s=0;return Vo(e).ee({index:iI,X:!0,range:i},(([l,u],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,t){return wu(e).get(t).next((r=>r?ih(r):null))}}function wu(n){return an(n,Zu)}function BA(n){return an(n,sl)}function Vo(n){return an(n,ec)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="LruGarbageCollector",Y3=1048576;function WA([n,e],[t,r]){const i=Ve(n,t);return i===0?Ve(e,r):i}class J3{constructor(e){this.Ir=e,this.buffer=new dt(WA),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();WA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(zA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?de(zA,"Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.Vr(3e5)}))}}class X3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(nr.ce);const r=new J3(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(jA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jA):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,l,u,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,t)))).next((y=>(s=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),xu()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y}))))}}function fx(n,e){return new X3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.db=e,this.garbageCollector=fx(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,i)=>t(i)))}addReference(e,t,r){return am(e,r)}removeReference(e,t,r){return am(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return am(e,t)}br(e,t){return(function(i,s){let l=!1;return dx(i).te((u=>cx(i,u,s).next((d=>(d&&(l=!0),Y.resolve(!d)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,u)=>{if(u<=t){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Ce.min()),Vo(e).delete((function(y){return[0,Un(y.path)]})(l)))))}));i.push(d)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return am(e,t)}Sr(e,t){const r=Vo(e);let i,s=nr.ce;return r.ee({index:iI},(([l,u],{path:d,sequenceNumber:f})=>{l===0?(s!==nr.ce&&t(new _e(Bi(i)),s),s=f,i=d):s=nr.ce})).next((()=>{s!==nr.ce&&t(new _e(Bi(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function am(n,e){return Vo(n).put((function(r,i){return{targetId:0,path:Un(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.changes=new Gs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ja(e).put(r)}removeEntry(e,t,r){return ja(e).delete((function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],fg(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=It.newInvalidDocument(t);return ja(e).ee({index:bm,range:IDBKeyRange.only(Dd(t))},((i,s)=>{r=this.Cr(t,s)})).next((()=>r))}vr(e,t){let r={size:0,document:It.newInvalidDocument(t)};return ja(e).ee({index:bm,range:IDBKeyRange.only(Dd(t))},((i,s)=>{r={document:this.Cr(t,s),size:mg(s)}})).next((()=>r))}getEntries(e,t){let r=ir();return this.Fr(e,t,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,t){let r=ir(),i=new yt(_e.comparator);return this.Fr(e,t,((s,l)=>{const u=this.Cr(s,l);r=r.insert(s,u),i=i.insert(s,mg(l))})).next((()=>({documents:r,Or:i})))}Fr(e,t,r){if(t.isEmpty())return Y.resolve();let i=new dt(KA);t.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(Dd(i.first()),Dd(i.last())),l=i.getIterator();let u=l.getNext();return ja(e).ee({index:bm,range:s},((d,f,m)=>{const y=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&KA(u,y)<0;)r(u,null),u=l.getNext();u&&u.isEqual(y)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?m.j(Dd(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),fg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ja(e).J(IDBKeyRange.bound(u,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let m=ir();for(const y of f){const E=this.Cr(_e.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);E.isFoundDocument()&&(gf(t,E)||i.has(E.key))&&(m=m.insert(E.key,E))}return m}))}getAllFromCollectionGroup(e,t,r,i){let s=ir();const l=HA(t,r),u=HA(t,Ar.max());return ja(e).ee({index:ek,range:IDBKeyRange.bound(l,u,!0)},((d,f,m)=>{const y=this.Cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(y.key,y),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new t$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return qA(e).get(Cw).next((t=>(Re(!!t,20021),t)))}Dr(e,t){return qA(e).put(Cw,t)}Cr(e,t){if(t){const r=U3(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return It.newInvalidDocument(e)}}function mx(n){return new e$(n)}class t$ extends px{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Gs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new dt(((s,l)=>Ve(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const u=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=CA(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=mg(d);r+=f-u.size,t.push(this.Nr.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=CA(this.Nr.serializer,l.convertToNoDocument(Ce.min()));t.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),t.push(this.Nr.updateMetadata(e,r)),Y.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function qA(n){return an(n,Lh)}function ja(n){return an(n,lg)}function Dd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function HA(n,e){const t=e.documentKey.path.toArray();return[n,fg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function KA(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ve(t[s],r[s]),i)return i;return i=Ve(t.length,r.length),i||(i=Ve(t[t.length-2],r[r.length-2]),i||Ve(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&yh(r.mutation,i,rr.empty(),st.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=$e()){const i=zi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let l=nh();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=zi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,$e())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,i){let s=ir();const l=gh(),u=(function(){return gh()})();return t.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Qs)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),yh(m.mutation,f,m.mutation.getFieldMask(),st.now())):l.set(f.key,rr.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,m)=>l.set(f,m))),t.forEach(((f,m)=>u.set(f,new n$(m,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=gh();let i=new yt(((l,u)=>l-u)),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||rr.empty();m=u.applyToLocalView(f,m),r.set(d,m);const y=(i.get(u.batchId)||$e()).add(d);i=i.insert(u.batchId,y)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,m=d.value,y=Nk();m.forEach((E=>{if(!s.has(E)){const C=Uk(t.get(E),r.get(E));C!==null&&y.set(E,C),s=s.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Y.resolve(zi());let u=Ju,d=s;return l.next((f=>Y.forEach(f,((m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((E=>{d=d.insert(m,E)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,$e()))).next((m=>({batchId:u,changes:xk(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=nh();return this.indexManager.getCollectionParents(e,s).next((u=>Y.forEach(u,(d=>{const f=(function(y,E){return new Ks(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((y,E)=>{l=l.insert(y,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,It.newInvalidDocument(m)))}));let u=nh();return l.forEach(((d,f)=>{const m=s.get(d);m!==void 0&&yh(m.mutation,f,rr.empty(),st.now()),gf(t,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:qt(i.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:wI(i.bundledQuery),readTime:qt(i.readTime)}})(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.overlays=new yt(_e.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zi();return Y.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),Y.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const i=zi(),s=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new yt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=zi(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=zi(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>u.set(f,m))),!(u.size()>=i)););return Y.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new yI(t,r));let s=this.qr.get(t);s===void 0&&(s=$e(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Qr=new dt(dn.$r),this.Ur=new dt(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new dn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new dn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new _e(new qe([])),r=new dn(t,e),i=new dn(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new qe([])),r=new dn(t,e),i=new dn(t,e+1);let s=$e();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const t=new dn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new dt(dn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new mI(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new dn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Bo:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),i=new dn(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(Ve);return t.forEach((i=>{const s=new dn(i,0),l=new dn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new dn(new _e(s),0);let u=new dt(Ve);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Yr)),!0)}),l),Y.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Re(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(t.mutations,(i=>{const s=new dn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new dn(t,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.ri=e,this.docs=(function(){return new yt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let r=ir();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ir();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||nI(G1(m),r)<=0||(i.has(m.key)||gf(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee(9500)}ii(e,t){return Y.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new l$(this)}getSize(e){return Y.resolve(this.size)}}class l$ extends px{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.persistence=e,this.si=new Gs((t=>dl(t)),pf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new TI,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Y.waitFor(s).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t){this.ui={},this.overlays={},this.ci=new nr(0),this.li=!1,this.li=!0,this.hi=new s$,this.referenceDelegate=e(this),this.Pi=new u$(this),this.indexManager=new K3,this.remoteDocumentCache=(function(i){return new a$(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ix(t),this.Ii=new r$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new o$(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const i=new c$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class c$ extends Y1{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Ri=new TI,this.Vi=null}static mi(e){return new sy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=_e.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gg{constructor(e,t){this.persistence=e,this.pi=new Gs((r=>Un(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=fx(this,t)}static mi(e,t){return new gg(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Y.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,s.removeEntry(l,Ce.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xm(e.data.value)),t}br(e,t,r){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e){this.serializer=e}k(e,t,r,i){const s=new Gg("createOrUpgrade",t);r<1&&i>=1&&((function(d){d.createObjectStore(ff)})(e),(function(d){d.createObjectStore(Dh,{keyPath:P5}),d.createObjectStore(ti,{keyPath:iA,autoIncrement:!0}).createIndex(Za,sA,{unique:!0}),d.createObjectStore(Xu)})(e),GA(e),(function(d){d.createObjectStore(Ka)})(e));let l=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(ec),d.deleteObjectStore(Zu),d.deleteObjectStore(sl)})(e),GA(e)),l=l.next((()=>(function(d){const f=d.store(sl),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return f.put(ug,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(ti).J().next((y=>{d.deleteObjectStore(ti),d.createObjectStore(ti,{keyPath:iA,autoIncrement:!0}).createIndex(Za,sA,{unique:!0});const E=f.store(ti),C=y.map((T=>E.put(T)));return Y.waitFor(C)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(tc,{keyPath:V5})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Lh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(Qg,{keyPath:M5})})(e),(function(d){d.createObjectStore(Yg,{keyPath:F5})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(Jg,{keyPath:q5});f.createIndex(kw,H5,{unique:!1}),f.createIndex(ik,K5,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(lg,{keyPath:b5});f.createIndex(bm,k5),f.createIndex(ek,x5)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Ka)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(sI,{keyPath:U5,autoIncrement:!0}).createIndex(bw,$5,{unique:!1}),d.createObjectStore(fh,{keyPath:j5}).createIndex(nk,B5,{unique:!1}),d.createObjectStore(ph,{keyPath:z5}).createIndex(rk,W5,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{t.objectStore(fh).clear()})).next((()=>{t.objectStore(ph).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(oI,{keyPath:G5})})(e)}))),r<18&&i>=18&&Nb()&&(l=l.next((()=>{t.objectStore(fh).clear()})).next((()=>{t.objectStore(ph).clear()}))),l}wi(e){let t=0;return e.store(Ka).ee(((r,i)=>{t+=mg(i)})).next((()=>{const r={byteSize:t};return e.store(Lh).put(Cw,r)}))}yi(e){const t=e.store(Dh),r=e.store(ti);return t.J().next((i=>Y.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,Bo],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Za,l).next((u=>Y.forEach(u,(d=>{Re(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Qa(this.serializer,d);return ux(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(ec),r=e.store(Ka);return e.store(sl).get(ug).next((i=>{const s=[];return r.ee(((l,u)=>{const d=new qe(l),f=(function(y){return[0,Un(y)]})(d);s.push(t.get(f).next((m=>m?Y.resolve():(y=>t.put({targetId:0,path:Un(y),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Y.waitFor(s)))}))}bi(e,t){e.createObjectStore(Vh,{keyPath:L5});const r=t.store(Vh),i=new II,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Un(d)})}};return t.store(Ka).ee({X:!0},((l,u)=>{const d=new qe(l);return s(d.popLast())})).next((()=>t.store(Xu).ee({X:!0},(([l,u,d],f)=>{const m=Bi(u);return s(m.popLast())}))))}Di(e){const t=e.store(Zu);return t.ee(((r,i)=>{const s=ih(i),l=sx(this.serializer,s);return t.put(l)}))}Ci(e,t){const r=t.store(Ka),i=[];return r.ee(((s,l)=>{const u=t.store(lg),d=(function(y){return y.document?new _e(qe.fromString(y.document.name).popFirst(5)):y.noDocument?_e.fromSegments(y.noDocument.path):y.unknownDocument?_e.fromSegments(y.unknownDocument.path):Ee(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))})).next((()=>Y.waitFor(i)))}Fi(e,t){const r=t.store(ti),i=mx(this.serializer),s=new SI(sy.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((d=>{let f=u.get(d.userId)??$e();Qa(this.serializer,d).keys().forEach((m=>f=f.add(m))),u.set(d.userId,f)})),Y.forEach(u,((d,f)=>{const m=new hn(f),y=ry.wt(this.serializer,m),E=s.getIndexManager(m),C=iy.wt(m,this.serializer,E,s.referenceDelegate);return new gx(i,C,y,E).recalculateAndSaveOverlaysForDocumentKeys(new xw(t,nr.ce),d).next()}))}))}}function GA(n){n.createObjectStore(ec,{keyPath:O5}).createIndex(iI,D5,{unique:!0}),n.createObjectStore(Zu,{keyPath:"targetId"}).createIndex(tk,N5,{unique:!0}),n.createObjectStore(sl)}const No="IndexedDbPersistence",Vv=18e5,Mv=5e3,Fv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yx="main";class RI{constructor(e,t,r,i,s,l,u,d,f,m,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=s,this.window=l,this.document=u,this.xi=f,this.Oi=m,this.Ni=y,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!RI.v())throw new le(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Z3(this,i),this.$i=t+yx,this.serializer=new ix(d),this.Ui=new Ki(this.$i,this.Ni,new d$(this.serializer)),this.hi=new j3,this.Pi=new Q3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mx(this.serializer),this.Ii=new $3,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Wt(No,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(te.FAILED_PRECONDITION,Fv);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new nr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>lm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ua(e))return de(No,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(No,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ld(e).get(mu).next((t=>Y.resolve(this.es(t))))}ts(e){return lm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Vv)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=an(t,tc);return r.J().next((i=>{const s=this.ss(i,Vv),l=i.filter((u=>s.indexOf(u)===-1));return Y.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Y.resolve(!0):Ld(e).get(mu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Mv)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new le(te.FAILED_PRECONDITION,Fv);return!1}}return!(!this.networkEnabled||!this.inForeground)||lm(e).J().next((r=>this.ss(r,Mv).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&de(No,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ff,tc],(e=>{const t=new xw(e,nr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>lm(e).J().next((t=>this.ss(t,Vv).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return iy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new G3(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ry.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){de(No,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?J5:d===17?lk:d===16?Y5:d===15?aI:d===14?ak:d===13?ok:d===12?Q5:d===11?sk:void Ee(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(u=>(l=new xw(u,this.ci?this.ci.next():nr.ce),t==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new le(te.FAILED_PRECONDITION,Q1);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return Ld(e).get(mu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Mv)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new le(te.FAILED_PRECONDITION,Fv)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ld(e).put(mu,t)}static v(){return Ki.v()}Zi(e){const t=Ld(e);return t.get(mu).next((r=>this.es(r)?(de(No,"Releasing primary lease."),t.delete(mu)):Y.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;xb()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return de(No,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Wt(No,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ld(n){return an(n,ff)}function lm(n){return an(n,tc)}function AI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=$e(),i=$e();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PI(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xb()?8:J1(Ke())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new h$;return this.Ss(e,t,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(xu()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Nu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(xu()<=je.DEBUG&&de("QueryEngine","Query:",Nu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(xu()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Nu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(t))):Y.resolve())}ys(e,t){if(_A(t))return Y.resolve(null);let r=Kn(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=hg(t,null,"F"),r=Kn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=$e(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(t,u);return this.Cs(t,f,l,d.readTime)?this.ys(e,hg(t,null,"F")):this.vs(e,f,t,d)}))))})))))}ws(e,t,r,i){return _A(t)||i.isEqual(Ce.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(t,s);return this.Cs(t,l,r,i)?Y.resolve(null):(xu()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nu(t)),this.vs(e,l,t,K1(i,Ju)).next((u=>u)))}))}Ds(e,t){let r=new dt(bk(e));return t.forEach(((i,s)=>{gf(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return xu()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Nu(t)),this.ps.getDocumentsMatchingQuery(e,t,Ar.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="LocalStore",f$=3e8;class p${constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new yt(Ve),this.xs=new Gs((s=>dl(s)),pf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function vx(n,e,t,r){return new p$(n,e,t,r)}async function wx(n,e){const t=we(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=$e();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){u.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function m$(n,e){const t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,m){const y=f.batch,E=y.keys();let C=Y.resolve();return E.forEach((T=>{C=C.next((()=>m.getEntry(d,T))).next((P=>{const k=f.docVersions.get(T);Re(k!==null,48541),P.version.compareTo(k)<0&&(y.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),m.addEntry(P)))}))})),C.next((()=>u.mutationQueue.removeMutationBatch(d,y)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=$e();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function Ex(n){const e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function g$(n,e){const t=we(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((m,y)=>{const E=i.get(y);if(!E)return;u.push(t.Pi.removeMatchingKeys(s,m.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(s,m.addedDocuments,y))));let C=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?C=C.withResumeToken(Ut.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(m.resumeToken,r)),i=i.insert(y,C),(function(P,k,j){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=f$?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,C,m)&&u.push(t.Pi.updateTargetData(s,C))}));let d=ir(),f=$e();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(Ix(s,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(Ce.min())){const m=t.Pi.getLastRemoteSnapshotVersion(s).next((y=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return Y.waitFor(u).next((()=>l.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(t.Ms=i,s)))}function Ix(n,e,t){let r=$e(),i=$e();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let l=ir();return t.forEach(((u,d)=>{const f=s.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):de(CI,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function y$(n,e){const t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lc(n,e){const t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,Y.resolve(i)):t.Pi.allocateTargetId(r).next((l=>(i=new Ns(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function uc(n,e,t){const r=we(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ua(l))throw l;de(CI,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function yg(n,e,t){const r=we(n);let i=Ce.min(),s=$e();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const y=we(d),E=y.xs.get(m);return E!==void 0?Y.resolve(y.Ms.get(E)):y.Pi.getTargetData(f,m)})(r,l,Kn(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:Ce.min(),t?s:$e()))).next((u=>(Rx(r,Ck(e),u),{documents:u,Qs:s})))))}function Tx(n,e){const t=we(n),r=we(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function Sx(n,e){const t=we(n),r=t.Os.get(e)||Ce.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.Ns.getAllFromCollectionGroup(i,e,K1(r,Ju),Number.MAX_SAFE_INTEGER))).then((i=>(Rx(t,e,i),i)))}function Rx(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}async function _$(n,e,t,r){const i=we(n);let s=$e(),l=ir();for(const f of t){const m=e.$s(f.metadata.name);f.document&&(s=s.add(m));const y=e.Us(f);y.setReadTime(e.Ks(f.metadata.readTime)),l=l.insert(m,y)}const u=i.Ns.newChangeBuffer({trackRemovals:!0}),d=await lc(i,(function(m){return Kn(Ac(qe.fromString(`__bundle__/docs/${m}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>Ix(f,u,l).next((m=>(u.apply(f),m))).next((m=>i.Pi.removeMatchingKeysForTargetId(f,d.targetId).next((()=>i.Pi.addMatchingKeys(f,s,d.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,m.ks,m.qs))).next((()=>m.ks))))))}async function v$(n,e,t=$e()){const r=await lc(n,Kn(wI(e.bundledQuery))),i=we(n);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const l=qt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ii.saveNamedQuery(s,e);const u=r.withResumeToken(Ut.EMPTY_BYTE_STRING,l);return i.Ms=i.Ms.insert(u.targetId,u),i.Pi.updateTargetData(s,u).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,t,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firestore_clients";function QA(n,e){return`${Ax}_${n}_${e}`}const Px="firestore_mutations";function YA(n,e,t){let r=`${Px}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Cx="firestore_targets";function Uv(n,e){return`${Cx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="SharedClientState";class _g{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new le(i.error.code,i.error.message))),l?new _g(e,t,i.state,s):(Wt(Di,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _h{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new le(r.error.code,r.error.message))),s?new _h(e,r.state,i):(Wt(Di,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=hI();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=X1(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new vg(e,s):(Wt(Di,`Failed to parse client data for instance '${e}': ${t}`),null)}}class bI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new bI(t.clientId,t.onlineState):(Wt(Di,`Failed to parse online state: ${e}`),null)}}class Hw{constructor(){this.activeTargetIds=hI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $v{constructor(e,t,r,i,s){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new yt(Ve),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=QA(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Hw),this.ro=new RegExp(`^${Ax}_${l}_([^_]*)$`),this.io=new RegExp(`^${Px}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Cx}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(QA(this.persistenceKey,r));if(i){const s=vg.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Uv(this.persistenceKey,e));if(i){const s=_h.Ws(e,i);s&&(r=s.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Uv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return de(Di,"READ",e,t),t}setItem(e,t){de(Di,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){de(Di,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(de(Di,"EVENT",t.key,t.newValue),t.key===this.eo)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(s){let l=nr.ce;if(s!=null)try{const u=JSON.parse(s);Re(typeof u=="number",30636,{So:s}),l=u}catch(u){Wt(Di,"Failed to read sequence number from WebStorage",u)}return l})(t.newValue);r!==nr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new _g(this.currentUser,e,t,r),s=YA(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const t=YA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=Uv(this.persistenceKey,e),s=new _h(e,t,r);this.setItem(i,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return vg.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return _g.Ws(new hn(s),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return _h.Ws(i,t)}uo(e){return bI.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);de(Di,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],u=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||u.push(d)})),this.syncEngine.Fo(l,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=hI();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class bx{constructor(){this.Mo=new Hw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="ConnectivityMonitor";class XA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(JA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(JA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um=null;function Kw(){return um===null?um=(function(){return 268435456+Math.round(2147483648*Math.random())})():um++,"0x"+um.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="RestConnection",E$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Nw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const l=Kw(),u=this.zo(e,t.toUriEncodedString());de(jv,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(u),m=Hs(f);return this.Jo(e,u,d,r,m).then((y=>(de(jv,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Zi(jv,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,t,r,i,s,l){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=E$[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class S$ extends I${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const l=Kw();return new Promise(((u,d)=>{const f=new V1;f.setWithCredentials(!0),f.listenOnce(M1.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Am.NO_ERROR:const y=f.getResponseJson();de(Dn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case Am.TIMEOUT:de(Dn,`RPC '${e}' ${l} timed out`),d(new le(te.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const E=f.getStatus();if(de(Dn,`RPC '${e}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const T=C?.error;if(T&&T.status&&T.message){const P=(function(j){const M=j.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(M)>=0?M:te.UNKNOWN})(T.status);d(new le(P,T.message))}else d(new le(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new le(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{de(Dn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);de(Dn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)}))}T_(e,t,r){const i=Kw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$1(),u=U1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");de(Dn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);this.I_(y);let E=!1,C=!1;const T=new T$({Yo:k=>{C?de(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(E||(de(Dn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),E=!0),de(Dn,`RPC '${e}' stream ${i} sending:`,k),y.send(k))},Zo:()=>y.close()}),P=(k,j,M)=>{k.listen(j,($=>{try{M($)}catch(H){setTimeout((()=>{throw H}),0)}}))};return P(y,th.EventType.OPEN,(()=>{C||(de(Dn,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),P(y,th.EventType.CLOSE,(()=>{C||(C=!0,de(Dn,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(y))})),P(y,th.EventType.ERROR,(k=>{C||(C=!0,Zi(Dn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),T.a_(new le(te.UNAVAILABLE,"The operation could not be completed")))})),P(y,th.EventType.MESSAGE,(k=>{if(!C){const j=k.data[0];Re(!!j,16349);const M=j,$=M?.error||M[0]?.error;if($){de(Dn,`RPC '${e}' stream ${i} received error:`,$);const H=$.status;let q=(function(A){const b=Jt[A];if(b!==void 0)return Bk(b)})(H),U=$.message;q===void 0&&(q=te.INTERNAL,U="Unknown error status: "+H+" with message "+$.message),C=!0,T.a_(new le(q,U)),y.close()}else de(Dn,`RPC '${e}' stream ${i} received:`,j),T.u_(j)}})),P(u,F1.STAT_EVENT,(k=>{k.stat===Rw.PROXY?de(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Rw.NOPROXY&&de(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof window<"u"?window:null}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){return new b3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="PersistentStream";class xx{constructor(e,t,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new le(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(ZA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(ZA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R$ extends xx{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=N3(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ce.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?qt(l.readTime):Ce.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=jw(this.serializer),t.addTarget=(function(s,l){let u;const d=l.target;if(u=cg(d)?{documents:Xk(s,d)}:{query:Zk(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Hk(s,l.resumeToken);const f=Uw(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ce.min())>0){u.readTime=ac(s,l.snapshotVersion.toTimestamp());const f=Uw(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=D3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=jw(this.serializer),t.removeTarget=e,this.q_(t)}}class A$ extends xx{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=O3(e.writeResults,e.commitTime),r=qt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=jw(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Bh(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${}class C$ extends P${constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,$w(t,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(te.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,$w(t,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class b${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wt(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class k${constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{da(this)&&(de(yl,"Restarting streams for network reachability change."),await(async function(d){const f=we(d);f.Ea.add(4),await bc(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Ef(f)})(this))}))})),this.Ra=new b$(r,i)}}async function Ef(n){if(da(n))for(const e of n.da)await e(!0)}async function bc(n){for(const e of n.da)await e(!1)}function oy(n,e){const t=we(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),OI(t)?NI(t):xc(t).O_()&&xI(t,e))}function cc(n,e){const t=we(n),r=xc(t);t.Ia.delete(e),r.O_()&&Nx(t,e),t.Ia.size===0&&(r.O_()?r.L_():da(t)&&t.Ra.set("Unknown"))}function xI(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(n).Y_(e)}function Nx(n,e){n.Va.Ue(e),xc(n).Z_(e)}function NI(n){n.Va=new R3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.Ra.ua()}function OI(n){return da(n)&&!xc(n).x_()&&n.Ia.size>0}function da(n){return we(n).Ea.size===0}function Ox(n){n.Va=void 0}async function x$(n){n.Ra.set("Online")}async function N$(n){n.Ia.forEach(((e,t)=>{xI(n,e)}))}async function O$(n,e){Ox(n),OI(n)?(n.Ra.ha(e),NI(n)):n.Ra.set("Unknown")}async function D$(n,e,t){if(n.Ra.set("Online"),e instanceof qk&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(r){de(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wg(n,r)}else if(e instanceof Dm?n.Va.Ze(e):e instanceof Wk?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await Ex(n.localStore);t.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(Ut.EMPTY_BYTE_STRING,m.snapshotVersion)),Nx(s,d);const y=new Ns(m.target,d,f,m.sequenceNumber);xI(s,y)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){de(yl,"Failed to raise snapshot:",r),await wg(n,r)}}async function wg(n,e,t){if(!ua(e))throw e;n.Ea.add(1),await bc(n),n.Ra.set("Offline"),t||(t=()=>Ex(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(yl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ef(n)}))}function Dx(n,e){return e().catch((t=>wg(n,t,e)))}async function kc(n){const e=we(n),t=Zo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bo;for(;L$(e);)try{const i=await y$(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,V$(e,i)}catch(i){await wg(e,i)}Lx(e)&&Vx(e)}function L$(n){return da(n)&&n.Ta.length<10}function V$(n,e){n.Ta.push(e);const t=Zo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Lx(n){return da(n)&&!Zo(n).x_()&&n.Ta.length>0}function Vx(n){Zo(n).start()}async function M$(n){Zo(n).ra()}async function F$(n){const e=Zo(n);for(const t of n.Ta)e.ea(t.mutations)}async function U$(n,e,t){const r=n.Ta.shift(),i=gI.from(r,e,t);await Dx(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await kc(n)}async function $$(n,e){e&&Zo(n).X_&&await(async function(r,i){if((function(l){return jk(l)&&l!==te.ABORTED})(i.code)){const s=r.Ta.shift();Zo(r).B_(),await Dx(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await kc(r)}})(n,e),Lx(n)&&Vx(n)}async function eP(n,e){const t=we(n);t.asyncQueue.verifyOperationInProgress(),de(yl,"RemoteStore received new credentials");const r=da(t);t.Ea.add(3),await bc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ef(t)}async function Gw(n,e){const t=we(n);e?(t.Ea.delete(2),await Ef(t)):e||(t.Ea.add(2),await bc(t),t.Ra.set("Unknown"))}function xc(n){return n.ma||(n.ma=(function(t,r,i){const s=we(t);return s.sa(),new R$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:x$.bind(null,n),t_:N$.bind(null,n),r_:O$.bind(null,n),H_:D$.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),OI(n)?NI(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ox(n))}))),n.ma}function Zo(n){return n.fa||(n.fa=(function(t,r,i){const s=we(t);return s.sa(),new A$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:M$.bind(null,n),r_:$$.bind(null,n),ta:F$.bind(null,n),na:U$.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await kc(n)):(await n.fa.stop(),n.Ta.length>0&&(de(yl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new DI(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),ua(n))return new le(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static emptySet(e){return new ju(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=nh(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ju)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ju;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.ga=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class dc{constructor(e,t,r,i,s,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new dc(e,t,ju.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class B${constructor(){this.queries=nP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=we(t),s=i.queries;i.queries=nP(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new le(te.ABORTED,"Firestore shutting down"))}}function nP(){return new Gs((n=>Pk(n)),mf)}async function LI(n,e){const t=we(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new j$,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Nc(l,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&MI(t)}async function VI(n,e){const t=we(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function z$(n,e){const t=we(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&MI(t)}function W$(n,e,t){const r=we(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function MI(n){n.Ca.forEach((e=>{e.next()}))}var Qw,rP;(rP=Qw||(Qw={})).Ma="default",rP.Cache="cache";class FI{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.serializer=e}$s(e){return Gi(this.serializer,e)}Us(e){return e.metadata.exists?Jk(this.serializer,e.document,!1):It.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return qt(e)}}class H${constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Mx(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=qe.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new iP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||$e()).add(s);t.set(l,u)}}return t}async ja(e){const t=await _$(e,new iP(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await v$(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function Mx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.key=e}}class Ux{constructor(e){this.key=e}}class $x{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=bk(e),this.tu=new ju(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new tP,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,y)=>{const E=i.get(m),C=gf(this.query,y)?y:null,T=!!E&&this.mutatedKeys.has(E.key),P=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;E&&C?E.data.isEqual(C.data)?T!==P&&(r.track({type:3,doc:C}),k=!0):this.su(E,C)||(r.track({type:2,doc:C}),k=!0,(d&&this.eu(C,d)>0||f&&this.eu(C,f)<0)&&(u=!0)):!E&&C?(r.track({type:0,doc:C}),k=!0):E&&!C&&(r.track({type:1,doc:E}),k=!0,(d||f)&&(u=!0)),k&&(C?(l=l.add(C),s=P?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(C,T){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return P(C)-P(T)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new dc(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Ux(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Fx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ha="SyncEngine";class K${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class G${constructor(e){this.key=e,this.hu=!1}}class Q${constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Gs((u=>Pk(u)),mf),this.Iu=new Map,this.Eu=new Set,this.du=new yt(_e.comparator),this.Au=new Map,this.Ru=new TI,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y$(n,e,t=!0){const r=ay(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await jx(r,e,t,!0),i}async function J$(n,e){const t=ay(n);await jx(t,e,!0,!1)}async function jx(n,e,t,r){const i=await lc(n.localStore,Kn(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await UI(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&oy(n.remoteStore,i),u}async function UI(n,e,t,r,i){n.pu=(y,E,C)=>(async function(P,k,j,M){let $=k.view.ru(j);$.Cs&&($=await yg(P.localStore,k.query,!1).then((({documents:O})=>k.view.ru(O,$))));const H=M&&M.targetChanges.get(k.targetId),q=M&&M.targetMismatches.get(k.targetId)!=null,U=k.view.applyChanges($,P.isPrimaryClient,H,q);return Yw(P,k.targetId,U.au),U.snapshot})(n,y,E,C);const s=await yg(n.localStore,e,!0),l=new $x(e,s.Qs),u=l.ru(s.documents),d=vf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);Yw(n,t,f.au);const m=new K$(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function X$(n,e,t){const r=we(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!mf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&cc(r.remoteStore,i.targetId),hc(r,i.targetId)})).catch(la)):(hc(r,i.targetId),await uc(r.localStore,i.targetId,!0))}async function Z$(n,e){const t=we(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),cc(t.remoteStore,r.targetId))}async function ej(n,e,t){const r=zI(n);try{const i=await(function(l,u){const d=we(l),f=st.now(),m=u.reduce(((C,T)=>C.add(T.key)),$e());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let T=ir(),P=$e();return d.Ns.getEntries(C,m).next((k=>{T=k,T.forEach(((j,M)=>{M.isValidDocument()||(P=P.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(C,T))).next((k=>{y=k;const j=[];for(const M of u){const $=I3(M,y.get(M.key).overlayedDocument);$!=null&&j.push(new Qs(M.key,$,_k($.value.mapValue),Ct.exists(!0)))}return d.mutationQueue.addMutationBatch(C,f,j,u)})).next((k=>{E=k;const j=k.applyToLocalDocumentSet(y,P);return d.documentOverlayCache.saveOverlays(C,k.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:xk(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new yt(Ve)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,t),await Ys(r,i.changes),await kc(r.remoteStore)}catch(i){const s=Nc(i,"Failed to persist write");t.reject(s)}}async function Bx(n,e){const t=we(n);try{const r=await g$(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=t.Au.get(s);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Re(l.hu,14607):i.removedDocuments.size>0&&(Re(l.hu,42227),l.hu=!1))})),await Ys(t,r,e)}catch(r){await la(r)}}function sP(n,e,t){const r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=we(l);d.onlineState=u;let f=!1;d.queries.forEach(((m,y)=>{for(const E of y.Sa)E.va(u)&&(f=!0)})),f&&MI(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tj(n,e,t){const r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new yt(_e.comparator);l=l.insert(s,It.newNoDocument(s,Ce.min()));const u=$e().add(s),d=new _f(Ce.min(),new Map,new yt(Ve),l,u);await Bx(r,d),r.du=r.du.remove(s),r.Au.delete(e),BI(r)}else await uc(r.localStore,e,!1).then((()=>hc(r,e,t))).catch(la)}async function nj(n,e){const t=we(n),r=e.batch.batchId;try{const i=await m$(t.localStore,e);jI(t,r,null),$I(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ys(t,i)}catch(i){await la(i)}}async function rj(n,e,t){const r=we(n);try{const i=await(function(l,u){const d=we(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next((y=>(Re(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);jI(r,e,t),$I(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ys(r,i)}catch(i){await la(i)}}async function ij(n,e){const t=we(n);da(t.remoteStore)||de(ha,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(l){const u=we(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(t.localStore);if(r===Bo)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=Nc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function $I(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function jI(n,e,t){const r=we(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||zx(n,r)}))}function zx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(cc(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),BI(n))}function Yw(n,e,t){for(const r of t)r instanceof Fx?(n.Ru.addReference(r.key,e),sj(n,r)):r instanceof Ux?(de(ha,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||zx(n,r.key)):Ee(19791,{wu:r})}function sj(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(ha,"New document in limbo: "+t),n.Eu.add(r),BI(n))}function BI(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(qe.fromString(e)),r=n.fu.next();n.Au.set(r,new G$(t)),n.du=n.du.insert(t,r),oy(n.remoteStore,new Ns(Kn(Ac(t.path)),r,"TargetPurposeLimboResolution",nr.ce))}}async function Ys(n,e,t){const r=we(n),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const m=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=PI.As(d.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=we(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Y.forEach(f,(E=>Y.forEach(E.Es,(C=>m.persistence.referenceDelegate.addReference(y,E.targetId,C))).next((()=>Y.forEach(E.ds,(C=>m.persistence.referenceDelegate.removeReference(y,E.targetId,C)))))))))}catch(y){if(!ua(y))throw y;de(CI,"Failed to update sequence numbers: "+y)}for(const y of f){const E=y.targetId;if(!y.fromCache){const C=m.Ms.get(E),T=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(E,P)}}})(r.localStore,s))}async function oj(n,e){const t=we(n);if(!t.currentUser.isEqual(e)){de(ha,"User change. New user:",e.toKey());const r=await wx(t.localStore,e);t.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new le(te.CANCELLED,l))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ys(t,r.Ls)}}function aj(n,e){const t=we(n),r=t.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let i=$e();const s=t.Iu.get(e);if(!s)return i;for(const l of s){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}async function lj(n,e){const t=we(n),r=await yg(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&Yw(t,e.targetId,i.au),i}async function uj(n,e){const t=we(n);return Sx(t.localStore,e).then((r=>Ys(t,r)))}async function cj(n,e,t,r){const i=we(n),s=await(function(u,d){const f=we(u),m=we(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(y=>m.er(y,d).next((E=>E?f.localDocuments.getDocuments(y,E):Y.resolve(null)))))})(i.localStore,e);s!==null?(t==="pending"?await kc(i.remoteStore):t==="acknowledged"||t==="rejected"?(jI(i,e,r||null),$I(i,e),(function(u,d){we(we(u).mutationQueue).ir(d)})(i.localStore,e)):Ee(6720,"Unknown batchState",{Su:t}),await Ys(i,s)):de(ha,"Cannot apply mutation batch with id: "+e)}async function dj(n,e){const t=we(n);if(ay(t),zI(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await oP(t,r.toArray());t.gu=!0,await Gw(t.remoteStore,!0);for(const s of i)oy(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach(((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(hc(t,l),uc(t.localStore,l,!0)))),cc(t.remoteStore,l)})),await i,await oP(t,r),(function(l){const u=we(l);u.Au.forEach(((d,f)=>{cc(u.remoteStore,f)})),u.Ru.Jr(),u.Au=new Map,u.du=new yt(_e.comparator)})(t),t.gu=!1,await Gw(t.remoteStore,!1)}}async function oP(n,e,t){const r=we(n),i=[],s=[];for(const l of e){let u;const d=r.Iu.get(l);if(d&&d.length!==0){u=await lc(r.localStore,Kn(d[0]));for(const f of d){const m=r.Tu.get(f),y=await lj(r,m);y.snapshot&&s.push(y.snapshot)}}else{const f=await Tx(r.localStore,l);u=await lc(r.localStore,f),await UI(r,Wx(f),l,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(s),i}function Wx(n){return Ak(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hj(n){return(function(t){return we(we(t).persistence).Ts()})(we(n).localStore)}async function fj(n,e,t,r){const i=we(n);if(i.gu)return void de(ha,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await Sx(i.localStore,Ck(s[0])),u=_f.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ut.EMPTY_BYTE_STRING);await Ys(i,l,u);break}case"rejected":await uc(i.localStore,e,!0),hc(i,e,r);break;default:Ee(64155,t)}}async function pj(n,e,t){const r=ay(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){de(ha,"Adding an already active target "+i);continue}const s=await Tx(r.localStore,i),l=await lc(r.localStore,s);await UI(r,Wx(s),l.targetId,!1,l.resumeToken),oy(r.remoteStore,l)}for(const i of t)r.Iu.has(i)&&await uc(r.localStore,i,!1).then((()=>{cc(r.remoteStore,i),hc(r,i)})).catch(la)}}function ay(n){const e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tj.bind(null,e),e.Pu.H_=z$.bind(null,e.eventManager),e.Pu.yu=W$.bind(null,e.eventManager),e}function zI(n){const e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rj.bind(null,e),e}function mj(n,e,t){const r=we(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await(function(C,T){const P=we(C),k=qt(T.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",(j=>P.Ii.getBundleMetadata(j,T.id))).then((j=>!!j&&j.createTime.compareTo(k)>=0))})(s.localStore,d))return await l.close(),u._completeWith((function(C){return{taskState:"Success",documentsLoaded:C.totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}})(d)),Promise.resolve(new Set);u._updateProgress(Mx(d));const f=new H$(d,l.serializer);let m=await l.bu();for(;m;){const E=await f.Ga(m);E&&u._updateProgress(E),m=await l.bu()}const y=await f.ja(s.localStore);return await Ys(s,y.Ha,void 0),await(function(C,T){const P=we(C);return P.persistence.runTransaction("Save bundle","readwrite",(k=>P.Ii.saveBundleMetadata(k,T)))})(s.localStore,d),u._completeWith(y.progress),Promise.resolve(y.Ja)}catch(d){return Zi(ha,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return vx(this.persistence,new _x,e.initialUser,this.serializer)}Cu(e){return new SI(sy.mi,this.serializer)}Du(e){return new bx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class gj extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Re(this.persistence.referenceDelegate instanceof gg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hx(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new SI((r=>gg.mi(r,t)),this.serializer)}}class qx extends zh{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await zI(this.xu.syncEngine),await kc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return vx(this.persistence,new _x,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new hx(r,e.asyncQueue,t)}Mu(e,t){const r=new R5(t,this.persistence);return new S5(e.asyncQueue,r)}Cu(e){const t=AI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new RI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,kx(),Vm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new bx}}class yj extends qx{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof $v&&(this.sharedClientState.syncEngine={Co:cj.bind(null,t),vo:fj.bind(null,t),Fo:pj.bind(null,t),Ts:hj.bind(null,t),Do:uj.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await dj(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=kx();if(!$v.v(t))throw new le(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=AI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $v(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Wh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oj.bind(null,this.syncEngine),await Gw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new B$})()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),r=(function(s){return new S$(s)})(e.databaseInfo);return(function(s,l,u,d){return new C$(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,l,u){return new k$(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>sP(this.syncEngine,t,0)),(function(){return XA.v()?new XA:new w$})())}createSyncEngine(e,t){return(function(i,s,l,u,d,f,m){const y=new Q$(i,s,l,u,d,f);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=we(t);de(yl,"RemoteStore shutting down."),r.Ea.add(5),await bc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wh.provider={build:()=>new Wh};function aP(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Rn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const i=await this.$u(r);return new q$(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,s){const l=we(i),u={documents:s.map((y=>jh(l.serializer,y)))},d=await l.Ho("BatchGetDocuments",l.serializer.databaseId,qe.emptyPath(),u,s.length),f=new Map;d.forEach((y=>{const E=x3(l.serializer,y);f.set(E.key.toString(),E)}));const m=[];return s.forEach((y=>{const E=f.get(y.toString());Re(!!E,55234,{key:y}),m.push(E)})),m})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new pI(i,this.precondition(i)))})),await(async function(r,i){const s=we(r),l={writes:i.map((u=>Bh(s.serializer,u)))};await s.Go("Commit",s.serializer.databaseId,qe.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Gu:e.constructor.name});t=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new le(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ce.min())?Ct.exists(!1):Ct.updateTime(t):Ct.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ce.min()))throw new le(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ct.updateTime(t)}return Ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new kI(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new vj(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!hf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!jk(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class Ej{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=eI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{de(ea,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(ea,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Nc(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bv(n,e){n.asyncQueue.verifyOperationInProgress(),de(ea,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await wx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function lP(n,e){n.asyncQueue.verifyOperationInProgress();const t=await WI(n);de(ea,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>eP(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>eP(e.remoteStore,i))),n._onlineComponents=e}async function WI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(ea,"Using user provided OfflineComponentProvider");try{await Bv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Zi("Error using user provided cache. Falling back to memory cache: "+t),await Bv(n,new zh)}}else de(ea,"Using default OfflineComponentProvider"),await Bv(n,new gj(void 0));return n._offlineComponents}async function uy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(ea,"Using user provided OnlineComponentProvider"),await lP(n,n._uninitializedComponentsProvider._online)):(de(ea,"Using default OnlineComponentProvider"),await lP(n,new Wh))),n._onlineComponents}function Hx(n){return WI(n).then((e=>e.persistence))}function qI(n){return WI(n).then((e=>e.localStore))}function Kx(n){return uy(n).then((e=>e.remoteStore))}function HI(n){return uy(n).then((e=>e.syncEngine))}function Ij(n){return uy(n).then((e=>e.datastore))}async function fc(n){const e=await uy(n),t=e.eventManager;return t.onListen=Y$.bind(null,e.syncEngine),t.onUnlisten=X$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Z$.bind(null,e.syncEngine),t}function Tj(n){return n.asyncQueue.enqueue((async()=>{const e=await Hx(n),t=await Kx(n);return e.setNetworkEnabled(!0),(function(i){const s=we(i);return s.Ea.delete(0),Ef(s)})(t)}))}function Sj(n){return n.asyncQueue.enqueue((async()=>{const e=await Hx(n),t=await Kx(n);return e.setNetworkEnabled(!1),(async function(i){const s=we(i);s.Ea.add(0),await bc(s),s.Ra.set("Offline")})(t)}))}function Rj(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,l){try{const u=await(function(f,m){const y=we(f);return y.persistence.runTransaction("read document","readonly",(E=>y.localDocuments.getDocument(E,m)))})(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new le(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Nc(u,`Failed to get document '${s} from cache`);l.reject(d)}})(await qI(n),e,t))),t.promise}function Gx(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,f){const m=new ly({next:E=>{m.Nu(),l.enqueueAndForget((()=>VI(s,y)));const C=E.docs.has(u);!C&&E.fromCache?f.reject(new le(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&d&&d.source==="server"?f.reject(new le(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),y=new FI(Ac(u.path),m,{includeMetadataChanges:!0,qa:!0});return LI(s,y)})(await fc(n),n.asyncQueue,e,t,r))),r.promise}function Aj(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,l){try{const u=await yg(i,s,!0),d=new $x(s,u.Qs),f=d.ru(u.documents),m=d.applyChanges(f,!1);l.resolve(m.snapshot)}catch(u){const d=Nc(u,`Failed to execute query '${s} against cache`);l.reject(d)}})(await qI(n),e,t))),t.promise}function Qx(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,f){const m=new ly({next:E=>{m.Nu(),l.enqueueAndForget((()=>VI(s,y))),E.fromCache&&d.source==="server"?f.reject(new le(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),y=new FI(u,m,{includeMetadataChanges:!0,qa:!0});return LI(s,y)})(await fc(n),n.asyncQueue,e,t,r))),r.promise}function Pj(n,e){const t=new ly(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,s){we(i).Ca.add(s),s.next()})(await fc(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,s){we(i).Ca.delete(s)})(await fc(n),t)))}}function Cj(n,e,t,r){const i=(function(l,u){let d;return d=typeof l=="string"?zk().encode(l):l,(function(m,y){return new _j(m,y)})((function(m,y){if(m instanceof Uint8Array)return aP(m,y);if(m instanceof ArrayBuffer)return aP(new Uint8Array(m),y);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),u)})(t,wf(e));n.asyncQueue.enqueueAndForget((async()=>{mj(await HI(n),i,r)}))}function bj(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const s=we(r);return s.persistence.runTransaction("Get named query","readonly",(l=>s.Ii.getNamedQuery(l,i)))})(await qI(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firestore.googleapis.com",cP=!0;class dP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jx,this.ssl=cP}else this.host=e.host,this.ssl=e.ssl??cP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y3)throw new le(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new h5;switch(r.type){case"firstParty":return new g5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=uP.get(t);r&&(de("ComponentProvider","Removing Datastore"),uP.delete(t),r.terminate())})(this),Promise.resolve()}}function kj(n,e,t,r={}){n=tt(n,If);const i=Hs(e),s=n._getSettings(),l={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(VE(`https://${u}`),ME("Firestore",!0)),s.host!==Jx&&s.host!==u&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!ai(d,l)&&(n._setSettings(d),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=hn.MOCK_USER;else{f=yM(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new le(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new hn(y)}n._authCredentials=new f5(new B1(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gn=class Xx{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xx(this.firestore,e,this._query)}},gt=class sh{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sh(this.firestore,e,this._key)}toJSON(){return{type:sh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(df(t,sh._jsonSchema))return new sh(e,r||null,new _e(qe.fromString(t.referencePath)))}};gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:en("string",gt._jsonSchemaVersion),referencePath:en("string")};let zo=class Zx extends Gn{constructor(e,t,r){super(e,t,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new _e(e))}withConverter(e){return new Zx(this.firestore,e,this._path)}};function eN(n,e,...t){if(n=be(n),tI("collection","path",e),n instanceof If){const r=qe.fromString(e,...t);return ZR(r),new zo(n,null,r)}{if(!(n instanceof gt||n instanceof zo))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return ZR(r),new zo(n.firestore,null,r)}}function xj(n,e){if(n=tt(n,If),tI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gn(n,null,(function(r){return new Ks(qe.emptyPath(),r)})(e))}function Eg(n,e,...t){if(n=be(n),arguments.length===1&&(e=eI.newId()),tI("doc","path",e),n instanceof If){const r=qe.fromString(e,...t);return XR(r),new gt(n,null,new _e(r))}{if(!(n instanceof gt||n instanceof zo))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return XR(r),new gt(n.firestore,n instanceof zo?n.converter:null,new _e(r))}}function tN(n,e){return n=be(n),e=be(e),(n instanceof gt||n instanceof zo)&&(e instanceof gt||e instanceof zo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nN(n,e){return n=be(n),e=be(e),n instanceof Gn&&e instanceof Gn&&n.firestore===e.firestore&&mf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="AsyncQueue";class fP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kI(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&de(hP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Rn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ua(e))throw e;de(hP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wt("INTERNAL UNHANDLED ERROR: ",pP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=DI.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:pP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function pP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class Nj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=-1;let Ht=class extends If{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fP(e),this._firestoreClient=void 0,await e}}};function $n(n){if(n._terminated)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rN(n),n._firestoreClient}function rN(n){const e=n._freezeSettings(),t=(function(i,s,l,u){return new e3(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Yx(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Ej(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}function Dj(n,e){Zi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return iN(n,Wh.provider,{build:r=>new qx(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function Lj(n){Zi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();iN(n,Wh.provider,{build:t=>new yj(t,e.cacheSizeBytes)})}function iN(n,e,t){if((n=tt(n,Ht))._firestoreClient||n._terminated)throw new le(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new le(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},rN(n)}function Vj(n){if(n._initialized&&!n._terminated)throw new le(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ki.v())return Promise.resolve();const i=r+yx;await Ki.delete(i)})(AI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function Mj(n){return(function(t){const r=new Rn;return t.asyncQueue.enqueueAndForget((async()=>ij(await HI(t),r))),r.promise})($n(n=tt(n,Ht)))}function Fj(n){return Tj($n(n=tt(n,Ht)))}function Uj(n){return Sj($n(n=tt(n,Ht)))}function $j(n,e){const t=$n(n=tt(n,Ht)),r=new Nj;return Cj(t,n._databaseId,e,r),r}function jj(n,e){return bj($n(n=tt(n,Ht)),e).then((t=>t?new Gn(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ut.fromBase64String(e))}catch(t){throw new le(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(df(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:en("string",Mn._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(df(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:en("string",si._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(df(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qi(e.vectorValues);throw new le(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:en("string",Qi._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=/^__.*__$/;class zj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class sN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class cy{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ig(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oN(this.Ac)&&Bj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Wj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wf(e)}Cc(e,t,r,i=!1){return new cy({Ac:e,methodName:t,Dc:r,path:Pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Al(n){const e=n._freezeSettings(),t=wf(n._databaseId);return new Wj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dy(n,e,t,r,i,s={}){const l=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);ZI("Data must be an object, but it was:",l,r);const u=uN(r,l);let d,f;if(s.merge)d=new rr(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const y of s.mergeFields){const E=Xw(e,y,t);if(!l.contains(E))throw new le(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);dN(m,E)||m.push(E)}d=new rr(m),f=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=l.fieldTransforms;return new zj(new Sn(u),d,f)}class Tf extends Rl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function aN(n,e,t){return new cy({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class KI extends Rl{_toFieldTransform(e){return new yf(e.path,new sc)}isEqual(e){return e instanceof KI}}class GI extends Rl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=aN(this,e,!0),r=this.vc.map((s=>Pl(s,t))),i=new hl(r);return new yf(e.path,i)}isEqual(e){return e instanceof GI&&ai(this.vc,e.vc)}}class QI extends Rl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=aN(this,e,!0),r=this.vc.map((s=>Pl(s,t))),i=new fl(r);return new yf(e.path,i)}isEqual(e){return e instanceof QI&&ai(this.vc,e.vc)}}class YI extends Rl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new oc(e.serializer,Dk(e.serializer,this.Fc));return new yf(e.path,t)}isEqual(e){return e instanceof YI&&this.Fc===e.Fc}}function JI(n,e,t,r){const i=n.Cc(1,e,t);ZI("Data must be an object, but it was:",i,r);const s=[],l=Sn.empty();ca(r,((d,f)=>{const m=eT(e,d,t);f=be(f);const y=i.yc(m);if(f instanceof Tf)s.push(m);else{const E=Pl(f,y);E!=null&&(s.push(m),l.set(m,E))}}));const u=new rr(s);return new sN(l,u,i.fieldTransforms)}function XI(n,e,t,r,i,s){const l=n.Cc(1,e,t),u=[Xw(e,r,t)],d=[i];if(s.length%2!=0)throw new le(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)u.push(Xw(e,s[E])),d.push(s[E+1]);const f=[],m=Sn.empty();for(let E=u.length-1;E>=0;--E)if(!dN(f,u[E])){const C=u[E];let T=d[E];T=be(T);const P=l.yc(C);if(T instanceof Tf)f.push(C);else{const k=Pl(T,P);k!=null&&(f.push(C),m.set(C,k))}}const y=new rr(f);return new sN(m,y,l.fieldTransforms)}function lN(n,e,t,r=!1){return Pl(t,n.Cc(r?4:3,e))}function Pl(n,e){if(cN(n=be(n)))return ZI("Unsupported field value:",e,n),uN(n,e);if(n instanceof Rl)return(function(r,i){if(!oN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=Pl(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:ac(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ac(i.serializer,s)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:Hk(i.serializer,r._byteString)};if(r instanceof gt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qi)return(function(l,u){return{mapValue:{fields:{[lI]:{stringValue:uI},[nc]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return fI(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Kg(r)}`)})(n,e)}function uN(n,e){const t={};return uk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(n,((r,i)=>{const s=Pl(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function cN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof si||n instanceof Mn||n instanceof gt||n instanceof Rl||n instanceof Qi)}function ZI(n,e,t){if(!cN(t)||!q1(t)){const r=Kg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Xw(n,e,t){if((e=be(e))instanceof ta)return e._internalPath;if(typeof e=="string")return eT(n,e);throw Ig("Field path arguments must be of type string or ",n,!1,void 0,t)}const qj=new RegExp("[~\\*/\\[\\]]");function eT(n,e,t){if(e.search(qj)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ta(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ig(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new le(te.INVALID_ARGUMENT,u+n+d)}function dN(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hj extends qh{data(){return super.data()}}function hy(n,e){return typeof e=="string"?eT(n,e):e instanceof ta?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tT{}class Sf extends tT{}function Oo(n,e,...t){let r=[];e instanceof tT&&r.push(e),r=r.concat(t),(function(s){const l=s.filter((d=>d instanceof nT)).length,u=s.filter((d=>d instanceof fy)).length;if(l>1||l>0&&u>0)throw new le(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class fy extends Sf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fy(e,t,r)}_apply(e){const t=this._parse(e);return pN(e._query,t),new Gn(e.firestore,e.converter,Fw(e._query,t))}_parse(e){const t=Al(e.firestore);return(function(s,l,u,d,f,m,y){let E;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new le(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){gP(y,m);const T=[];for(const P of y)T.push(mP(d,s,P));E={arrayValue:{values:T}}}else E=mP(d,s,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||gP(y,m),E=lN(u,l,y,m==="in"||m==="not-in");return He.create(f,m,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Kj(n,e,t){const r=e,i=hy("where",n);return fy._create(i,r,t)}class nT extends tT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nT(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ct.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)pN(l,d),l=Fw(l,d)})(e._query,t),new Gn(e.firestore,e.converter,Fw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rT extends Sf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rT(e,t)}_apply(e){const t=(function(i,s,l){if(i.startAt!==null)throw new le(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $h(s,l)})(e._query,this._field,this._direction);return new Gn(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Ks(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function Gj(n,e="asc"){const t=e,r=hy("orderBy",n);return rT._create(r,t)}class py extends Sf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new py(e,t,r)}_apply(e){return new Gn(e.firestore,e.converter,hg(e._query,this._limit,this._limitType))}}function Qj(n){return H1("limit",n),py._create("limit",n,"F")}function Yj(n){return H1("limitToLast",n),py._create("limitToLast",n,"L")}class my extends Sf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new my(e,t,r)}_apply(e){const t=fN(e,this.type,this._docOrFields,this._inclusive);return new Gn(e.firestore,e.converter,(function(i,s){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,t))}}function Jj(...n){return my._create("startAt",n,!0)}function Xj(...n){return my._create("startAfter",n,!1)}class gy extends Sf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gy(e,t,r)}_apply(e){const t=fN(e,this.type,this._docOrFields,this._inclusive);return new Gn(e.firestore,e.converter,(function(i,s){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,t))}}function Zj(...n){return gy._create("endBefore",n,!1)}function e6(...n){return gy._create("endAt",n,!0)}function fN(n,e,t,r){if(t[0]=be(t[0]),t[0]instanceof qh)return(function(s,l,u,d,f){if(!d)throw new le(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const y of $u(s))if(y.field.isKeyField())m.push(cl(l,d.key));else{const E=d.data.field(y.field);if(Xg(E))throw new le(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const C=y.field.canonicalString();throw new le(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}m.push(E)}return new Xo(m,f)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Al(n.firestore);return(function(l,u,d,f,m,y){const E=l.explicitOrderBy;if(m.length>E.length)throw new le(te.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let T=0;T<m.length;T++){const P=m[T];if(E[T].field.isKeyField()){if(typeof P!="string")throw new le(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof P}`);if(!dI(l)&&P.indexOf("/")!==-1)throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${P}' contains a slash.`);const k=l.path.child(qe.fromString(P));if(!_e.isDocumentKey(k))throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const j=new _e(k);C.push(cl(u,j))}else{const k=lN(d,f,P);C.push(k)}}return new Xo(C,y)})(n._query,n.firestore._databaseId,i,e,t,r)}}function mP(n,e,t){if(typeof(t=be(t))=="string"){if(t==="")throw new le(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dI(e)&&t.indexOf("/")!==-1)throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cl(n,new _e(r))}if(t instanceof gt)return cl(n,t._key);throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kg(t)}.`)}function gP(n,e){if(!Array.isArray(n)||n.length===0)throw new le(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pN(n,e){const t=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class iT{convertValue(e,t="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ca(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[nc].arrayValue?.values?.map((r=>At(r.doubleValue)));return new Qi(t)}convertGeoPoint(e){return new si(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mh(e));default:return null}}convertTimestamp(e){const t=js(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Re(rx(r),9688,{name:e});const i=new Qo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class t6 extends iT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let $r=class mN extends qh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=mN._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};$r._jsonSchemaVersion="firestore/documentSnapshot/1.0",$r._jsonSchema={type:en("string",$r._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};let vh=class extends $r{data(e={}){return super.data(e)}},oi=class gN{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new el(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new vh(this._firestore,this._userDataWriter,r.key,r,new el(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new el(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new el(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:n6(u.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gN._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function n6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}function yN(n,e){return n instanceof $r&&e instanceof $r?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof oi&&e instanceof oi&&n._firestore===e._firestore&&nN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n){n=tt(n,gt);const e=tt(n.firestore,Ht);return Gx($n(e),n._key).then((t=>sT(e,n,t)))}oi._jsonSchemaVersion="firestore/querySnapshot/1.0",oi._jsonSchema={type:en("string",oi._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class Cl extends iT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}}function i6(n){n=tt(n,gt);const e=tt(n.firestore,Ht),t=$n(e),r=new Cl(e);return Rj(t,n._key).then((i=>new $r(e,r,n._key,i,new el(i!==null&&i.hasLocalMutations,!0),n.converter)))}function s6(n){n=tt(n,gt);const e=tt(n.firestore,Ht);return Gx($n(e),n._key,{source:"server"}).then((t=>sT(e,n,t)))}function o6(n){n=tt(n,Gn);const e=tt(n.firestore,Ht),t=$n(e),r=new Cl(e);return hN(n._query),Qx(t,n._query).then((i=>new oi(e,r,n,i)))}function a6(n){n=tt(n,Gn);const e=tt(n.firestore,Ht),t=$n(e),r=new Cl(e);return Aj(t,n._query).then((i=>new oi(e,r,n,i)))}function l6(n){n=tt(n,Gn);const e=tt(n.firestore,Ht),t=$n(e),r=new Cl(e);return Qx(t,n._query,{source:"server"}).then((i=>new oi(e,r,n,i)))}function yP(n,e,t){n=tt(n,gt);const r=tt(n.firestore,Ht),i=yy(n.converter,e,t);return Rf(r,[dy(Al(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ct.none())])}function _P(n,e,t,...r){n=tt(n,gt);const i=tt(n.firestore,Ht),s=Al(i);let l;return l=typeof(e=be(e))=="string"||e instanceof ta?XI(s,"updateDoc",n._key,e,t,r):JI(s,"updateDoc",n._key,e),Rf(i,[l.toMutation(n._key,Ct.exists(!0))])}function u6(n){return Rf(tt(n.firestore,Ht),[new Cc(n._key,Ct.none())])}function c6(n,e){const t=tt(n.firestore,Ht),r=Eg(n),i=yy(n.converter,e);return Rf(t,[dy(Al(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ct.exists(!1))]).then((()=>r))}function _N(n,...e){n=be(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Jw(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Jw(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(n instanceof gt)l=tt(n.firestore,Ht),u=Ac(n._key.path),s={next:d=>{e[r]&&e[r](sT(l,n,d))},error:e[r+1],complete:e[r+2]};else{const d=tt(n,Gn);l=tt(d.firestore,Ht),u=d._query;const f=new Cl(l);s={next:m=>{e[r]&&e[r](new oi(l,f,d,m))},error:e[r+1],complete:e[r+2]},hN(n._query)}return(function(f,m,y,E){const C=new ly(E),T=new FI(m,C,y);return f.asyncQueue.enqueueAndForget((async()=>LI(await fc(f),T))),()=>{C.Nu(),f.asyncQueue.enqueueAndForget((async()=>VI(await fc(f),T)))}})($n(l),u,i,s)}function d6(n,e){return Pj($n(n=tt(n,Ht)),Jw(e)?e:{next:e})}function Rf(n,e){return(function(r,i){const s=new Rn;return r.asyncQueue.enqueueAndForget((async()=>ej(await HI(r),i,s))),s.promise})($n(n),e)}function sT(n,e,t){const r=t.docs.get(e._key),i=new Cl(n);return new $r(n,i,e._key,r,new el(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f6=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,t,r){this._verifyNotCommitted();const i=Fo(e,this._firestore),s=yy(i.converter,t,r),l=dy(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ct.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Fo(e,this._firestore);let l;return l=typeof(t=be(t))=="string"||t instanceof ta?XI(this._dataReader,"WriteBatch.update",s._key,t,r,i):JI(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fo(e,this._firestore);return this._mutations=this._mutations.concat(new Cc(t._key,Ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Fo(n,e){if((n=be(n)).firestore!==e)throw new le(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Al(e)}get(e){const t=Fo(e,this._firestore),r=new t6(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return Ee(24041);const s=i[0];if(s.isFoundDocument())return new qh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new qh(this._firestore,r,t._key,null,t.converter);throw Ee(18433,{doc:s})}))}set(e,t,r){const i=Fo(e,this._firestore),s=yy(i.converter,t,r),l=dy(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=Fo(e,this._firestore);let l;return l=typeof(t=be(t))=="string"||t instanceof ta?XI(this._dataReader,"Transaction.update",s._key,t,r,i):JI(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Fo(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m6=class extends p6{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fo(e,this._firestore),r=new Cl(this._firestore);return super.get(e).then((i=>new $r(this._firestore,r,t._key,i._document,new el(!1,!1),t.converter)))}};function g6(n,e,t){n=tt(n,Ht);const r={...h6,...t};return(function(s){if(s.maxAttempts<1)throw new le(te.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,l,u){const d=new Rn;return s.asyncQueue.enqueueAndForget((async()=>{const f=await Ij(s);new wj(s.asyncQueue,f,u,l,d).ju()})),d.promise})($n(n),(i=>e(new m6(n,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){return new Tf("deleteField")}function _6(){return new KI("serverTimestamp")}function v6(...n){return new GI("arrayUnion",n)}function w6(...n){return new QI("arrayRemove",n)}function E6(n){return new YI("increment",n)}(function(e,t=!0){(function(i){Rc=i})(Pr),Xi(new jr("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Ht(new p5(r.getProvider("auth-internal")),new y5(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new le(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),sr(GR,QR,e),sr(GR,QR,"esm2020")})();const I6="@firebase/firestore-compat",T6="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function wP(){if(!X5())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}let vN=class Zw{constructor(e){this._delegate=e}static fromBase64String(e){return wP(),new Zw(Mn.fromBase64String(e))}static fromUint8Array(e){return vP(),new Zw(Mn.fromUint8Array(e))}toBase64(){return wP(),this._delegate.toBase64()}toUint8Array(){return vP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){return S6(n,["next","error","complete"])}function S6(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{enableIndexedDbPersistence(e,t){return Dj(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Lj(e._delegate)}clearIndexedDbPersistence(e){return Vj(e._delegate)}}class wN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){kj(this._delegate,e,t,r)}enableNetwork(){return Fj(this._delegate)}disableNetwork(){return Uj(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,W1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Mj(this._delegate)}onSnapshotsInSync(e){return d6(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pc(this,eN(this._delegate,e))}catch(t){throw Hn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fr(this,Eg(this._delegate,e))}catch(t){throw Hn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qn(this,xj(this._delegate,e))}catch(t){throw Hn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return g6(this._delegate,t=>e(new EN(this,t)))}batch(){return $n(this._delegate),new IN(new f6(this._delegate,e=>Rf(this._delegate,e)))}loadBundle(e){return $j(this._delegate,e)}namedQuery(e){return jj(this._delegate,e).then(t=>t?new qn(this,t):null)}}class _y extends iT{constructor(e){super(),this.firestore=e}convertBytes(e){return new vN(new Mn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fr.forKey(t,this.firestore,null)}}function A6(n){c5(n)}class EN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _y(e)}get(e){const t=tl(e);return this._delegate.get(t).then(r=>new Hh(this._firestore,new $r(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=tl(e);return r?(oT("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=tl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=tl(e);return this._delegate.delete(t),this}}class IN{constructor(e){this._delegate=e}set(e,t,r){const i=tl(e);return r?(oT("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=tl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=tl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _l{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new vh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=_l.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new _l(e,new _y(e),t),i.set(t,s)),s}}_l.INSTANCES=new WeakMap;class Fr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _y(e)}static forPath(e,t,r){if(e.length%2!==0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fr(t,new gt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Fr(t,new gt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new pc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pc(this.firestore,eN(this._delegate,e))}catch(t){throw Hn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=be(e),e instanceof gt?tN(this._delegate,e):!1}set(e,t){t=oT("DocumentReference.set",t);try{return t?yP(this._delegate,e,t):yP(this._delegate,e)}catch(r){throw Hn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?_P(this._delegate,e):_P(this._delegate,e,t,...r)}catch(i){throw Hn(i,"updateDoc()","DocumentReference.update()")}}delete(){return u6(this._delegate)}onSnapshot(...e){const t=TN(e),r=SN(e,i=>new Hh(this.firestore,new $r(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _N(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=i6(this._delegate):e?.source==="server"?t=s6(this._delegate):t=r6(this._delegate),t.then(r=>new Hh(this.firestore,new $r(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fr(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Hn(n,e,t){return n.message=n.message.replace(e,t),n}function TN(n){for(const e of n)if(typeof e=="object"&&!eE(e))return e;return{}}function SN(n,e){let t;return eE(n[0])?t=n[0]:eE(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Hh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yN(this._delegate,e._delegate)}}class Kh extends Hh{data(e){const t=this._delegate.data(e);return this._delegate._converter||d5(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class qn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _y(e)}where(e,t,r){try{return new qn(this.firestore,Oo(this._delegate,Kj(e,t,r)))}catch(i){throw Hn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qn(this.firestore,Oo(this._delegate,Gj(e,t)))}catch(r){throw Hn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qn(this.firestore,Oo(this._delegate,Qj(e)))}catch(t){throw Hn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qn(this.firestore,Oo(this._delegate,Yj(e)))}catch(t){throw Hn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qn(this.firestore,Oo(this._delegate,Jj(...e)))}catch(t){throw Hn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qn(this.firestore,Oo(this._delegate,Xj(...e)))}catch(t){throw Hn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qn(this.firestore,Oo(this._delegate,Zj(...e)))}catch(t){throw Hn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qn(this.firestore,Oo(this._delegate,e6(...e)))}catch(t){throw Hn(t,"endAt()","Query.endAt()")}}isEqual(e){return nN(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=a6(this._delegate):e?.source==="server"?t=l6(this._delegate):t=o6(this._delegate),t.then(r=>new tE(this.firestore,new oi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=TN(e),r=SN(e,i=>new tE(this.firestore,new oi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _N(this._delegate,t,r)}withConverter(e){return new qn(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class P6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Kh(this._firestore,r))})}isEqual(e){return yN(this._delegate,e._delegate)}}class pc extends qn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fr(this.firestore,e):null}doc(e){try{return e===void 0?new Fr(this.firestore,Eg(this._delegate)):new Fr(this.firestore,Eg(this._delegate,e))}catch(t){throw Hn(t,"doc()","CollectionReference.doc()")}}add(e){return c6(this._delegate,e).then(t=>new Fr(this.firestore,t))}isEqual(e){return tN(this._delegate,e._delegate)}withConverter(e){return new pc(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tl(n){return tt(n,gt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(...e){this._delegate=new ta(...e)}static documentId(){return new aT(Pt.keyField().canonicalString())}isEqual(e){return e=be(e),e instanceof ta?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static serverTimestamp(){const e=_6();return e._methodName="FieldValue.serverTimestamp",new Xa(e)}static delete(){const e=y6();return e._methodName="FieldValue.delete",new Xa(e)}static arrayUnion(...e){const t=v6(...e);return t._methodName="FieldValue.arrayUnion",new Xa(t)}static arrayRemove(...e){const t=w6(...e);return t._methodName="FieldValue.arrayRemove",new Xa(t)}static increment(e){const t=E6(e);return t._methodName="FieldValue.increment",new Xa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={Firestore:wN,GeoPoint:si,Timestamp:st,Blob:vN,Transaction:EN,WriteBatch:IN,DocumentReference:Fr,DocumentSnapshot:Hh,Query:qn,QueryDocumentSnapshot:Kh,QuerySnapshot:tE,CollectionReference:pc,FieldPath:aT,FieldValue:Xa,setLogLevel:A6,CACHE_SIZE_UNLIMITED:Oj};function b6(n,e){n.INTERNAL.registerComponent(new jr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...C6}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(n){b6(n,(e,t)=>new wN(e,t,new R6)),n.registerVersion(I6,T6)}k6(Sc);const Vd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Eu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function RN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N6=x6,O6=RN,AN=new is("auth","Firebase",RN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new of("@firebase/auth");function D6(n,...e){Tg.logLevel<=je.WARN&&Tg.warn(`Auth (${Pr}): ${n}`,...e)}function Mm(n,...e){Tg.logLevel<=je.ERROR&&Tg.error(`Auth (${Pr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n,...e){throw uT(n,...e)}function on(n,...e){return uT(n,...e)}function lT(n,e,t){const r={...O6(),[e]:t};return new is("auth","Firebase",r).create(e,{appName:n.name})}function pn(n){return lT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&An(n,"argument-error"),lT(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return AN.create(n,...e)}function pe(n,e,...t){if(!n)throw uT(e,...t)}function Wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mm(e),new Error(e)}function ui(n,e){n||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(){return typeof self<"u"&&self.location?.href||""}function cT(){return EP()==="http:"||EP()==="https:"}function EP(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cT()||FE()||"connection"in navigator)?navigator.onLine:!0}function V6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.shortDelay=e,this.longDelay=t,ui(t>e,"Short delay should be less than long delay!"),this.isMobile=Cb()||$g()}get(){return L6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n,e){ui(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U6=new Af(3e4,6e4);function $t(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function jt(n,e,t,r,i={}){return CN(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=ci({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...s};return kb()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(f.credentials="include"),PN.fetch()(await bN(n,n.config.apiHost,t,u),f)})}async function CN(n,e,t){n._canInitEmulator=!1;const r={...M6,...e};try{const i=new j6(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw oh(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw oh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw oh(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw lT(n,m,f);An(n,m)}}catch(i){if(i instanceof fn)throw i;An(n,"network-request-failed",{message:String(i)})}}async function Js(n,e,t,r,i={}){const s=await jt(n,e,t,r,i);return"mfaPendingCredential"in s&&An(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function bN(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?dT(n.config,i):`${n.config.apiScheme}://${i}`;return F6.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function $6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),U6.get())})}}function oh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=on(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){return n!==void 0&&n.getResponse!==void 0}function TP(n){return n!==void 0&&n.enterprise!==void 0}class kN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B6(n){return(await jt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function xN(n,e){return jt(n,"GET","/v2/recaptchaConfig",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(n,e){return jt(n,"POST","/v1/accounts:delete",e)}async function W6(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function Sg(n,e){return jt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q6(n,e=!1){const t=be(n),r=await t.getIdToken(e),i=vy(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:wh(zv(i.auth_time)),issuedAtTime:wh(zv(i.iat)),expirationTime:wh(zv(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function zv(n){return Number(n)*1e3}function vy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mg(t);return i?JSON.parse(i):(Mm("Failed to decode base64 JWT payload"),null)}catch(i){return Mm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SP(n){const e=vy(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fn&&H6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function H6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(n){const e=n.auth,t=await n.getIdToken(),r=await zs(n,Sg(e,{idToken:t}));pe(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?NN(i.providerUserInfo):[],l=Q6(n.providerData,s),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!l?.length,f=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new nE(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function G6(n){const e=be(n);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NN(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(n,e){const t=await CN(n,{},async()=>{const r=ci({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await bN(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(d.credentials="include"),PN.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function J6(n,e){return jt(n,"POST","/v2/accounts:revokeToken",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=SP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Y6(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Bu;return r&&(pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new K6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await zs(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return q6(this,e)}reload(){return G6(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ye(this.auth.app))return Promise.reject(pn(this.auth));const e=await this.getIdToken();return await zs(this,z6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:C,providerData:T,stsTokenManager:P}=t;pe(y&&P,e,"internal-error");const k=Bu.fromJSON(this.name,P);pe(typeof y=="string",e,"internal-error"),Do(r,e.name),Do(i,e.name),pe(typeof E=="boolean",e,"internal-error"),pe(typeof C=="boolean",e,"internal-error"),Do(s,e.name),Do(l,e.name),Do(u,e.name),Do(d,e.name),Do(f,e.name),Do(m,e.name);const j=new ii({uid:y,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:C,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:k,createdAt:f,lastLoginAt:m});return T&&Array.isArray(T)&&(j.providerData=T.map(M=>({...M}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new Bu;i.updateFromServerResponse(t);const s=new ii({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?NN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new Bu;u.updateFromIdToken(r);const d=new ii({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Map;function Ir(n){ui(n instanceof Function,"Expected a class definition");let e=RP.get(n);return e?(ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ON.type="NONE";const mc=ON;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n,e,t){return`firebase:${n}:${e}:${t}`}class zu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ol(this.userKey,i.apiKey,s),this.fullPersistenceKey=ol("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sg(this.auth,{idToken:e}).catch(()=>{});return t?ii._fromGetAccountInfoResponse(this.auth,t,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zu(Ir(mc),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Ir(mc);const l=ol(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const E=await Sg(e,{idToken:m}).catch(()=>{});if(!E)break;y=await ii._fromGetAccountInfoResponse(e,E,m)}else y=ii._fromJSON(e,m);f!==s&&(u=y),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new zu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new zu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FN(e))return"Blackberry";if(UN(e))return"Webos";if(LN(e))return"Safari";if((e.includes("chrome/")||VN(e))&&!e.includes("edge/"))return"Chrome";if(Pf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function DN(n=Ke()){return/firefox\//i.test(n)}function LN(n=Ke()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VN(n=Ke()){return/crios\//i.test(n)}function MN(n=Ke()){return/iemobile/i.test(n)}function Pf(n=Ke()){return/android/i.test(n)}function FN(n=Ke()){return/blackberry/i.test(n)}function UN(n=Ke()){return/webos/i.test(n)}function Cf(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function X6(n=Ke()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Z6(n=Ke()){return Cf(n)&&!!window.navigator?.standalone}function eB(){return UE()&&document.documentMode===10}function $N(n=Ke()){return Cf(n)||Pf(n)||UN(n)||FN(n)||/windows phone/i.test(n)||MN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e=[]){let t;switch(n){case"Browser":t=AP(Ke());break;case"Worker":t=`${AP(Ke())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(n,e={}){return jt(n,"GET","/v2/passwordPolicy",$t(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=6;class iB{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??rB,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PP(this),this.idTokenSubscription=new PP(this),this.beforeStateQueue=new tB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sg(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ye(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ye(this.app))return Promise.reject(pn(this));const t=e?be(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ye(this.app)?Promise.reject(pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ye(this.app)?Promise.reject(pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nB(this),t=new iB(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new is("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await J6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await zu.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ye(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ot(n){return be(n)}class PP{constructor(e){this.auth=e,this.observer=null,this.addObserver=$E(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oB(n){bf=n}function hT(n){return bf.loadJS(n)}function aB(){return bf.recaptchaV2Script}function lB(){return bf.recaptchaEnterpriseScript}function uB(){return bf.gapiScript}function BN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=500,dB=6e4,cm=1e12;class hB{constructor(e){this.auth=e,this.counter=cm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new mB(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||cm;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||cm;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||cm;return this._widgets.get(t)?.execute(),""}}class fB{constructor(){this.enterprise=new pB}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pB{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mB{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=gB(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},dB)},cB))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function gB(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const yB="recaptcha-enterprise",Eh="NO_RECAPTCHA";class zN{constructor(e){this.type=yB,this.auth=Ot(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{xN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new kN(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;TP(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(Eh)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fB().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&TP(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=lB();d.length!==0&&(d+=u),hT(d).then(()=>{i(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Md(n,e,t,r=!1,i=!1){const s=new zN(n);let l;if(i)l=Eh;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Wo(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Md(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Md(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const s=await Md(n,e,t);return r(n,s).catch(async l=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const u=await Md(n,e,t,!1,!0);return r(n,u)}return Promise.reject(l)})}else{const s=await Md(n,e,t,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}async function _B(n){const e=Ot(n),t=await xN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new kN(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new zN(e).verify()}function vB(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ir);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function wB(n,e,t){const r=Ot(n);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=WN(e),{host:l,port:u}=EB(e),d=u===null?"":`:${u}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(ai(f,r.config.emulator)&&ai(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Hs(l)?(VE(`${s}//${l}${d}`),ME("Auth",!0)):i||IB()}function WN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EB(n){const e=WN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:CP(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:CP(l)}}}function CP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IB(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(n,e){return jt(n,"POST","/v1/accounts:resetPassword",$t(n,e))}async function TB(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function SB(n,e){return jt(n,"POST","/v1/accounts:signUp",e)}async function RB(n,e){return jt(n,"POST","/v1/accounts:update",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AB(n,e){return Js(n,"POST","/v1/accounts:signInWithPassword",$t(n,e))}async function wy(n,e){return jt(n,"POST","/v1/accounts:sendOobCode",$t(n,e))}async function PB(n,e){return wy(n,e)}async function CB(n,e){return wy(n,e)}async function bB(n,e){return wy(n,e)}async function kB(n,e){return wy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(n,e){return Js(n,"POST","/v1/accounts:signInWithEmailLink",$t(n,e))}async function NB(n,e){return Js(n,"POST","/v1/accounts:signInWithEmailLink",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Dc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wo(e,t,"signInWithPassword",AB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return xB(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wo(e,r,"signUpPassword",SB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NB(e,{idToken:t,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(n,e){return Js(n,"POST","/v1/accounts:signInWithIdp",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="http://localhost";class ts extends Dc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):An("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const l=new ts(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ms(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ms(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ms(e,t)}buildRequest(){const e={requestUri:OB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ci(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e){return jt(n,"POST","/v1/accounts:sendVerificationCode",$t(n,e))}async function DB(n,e){return Js(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,e))}async function LB(n,e){const t=await Js(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,e));if(t.temporaryProof)throw oh(n,"account-exists-with-different-credential",t);return t}const VB={USER_NOT_FOUND:"user-not-found"};async function MB(n,e){const t={...e,operation:"REAUTH"};return Js(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,t),VB)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Dc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new al({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new al({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return DB(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return LB(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return MB(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new al({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UB(n){const e=ri(ji(n)).link,t=e?ri(ji(e)).deep_link_id:null,r=ri(ji(n)).deep_link_id;return(r?ri(ji(r)).link:null)||r||t||e||n}class Ey{constructor(e){const t=ri(ji(e)),r=t.apiKey??null,i=t.oobCode??null,s=FB(t.mode??null);pe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=UB(e);try{return new Ey(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,t){return Yh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ey.parseLink(t);return pe(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}fa.PROVIDER_ID="password";fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wu extends Lc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return pe("providerId"in t&&"signInMethod"in t,"argument-error"),ts._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return pe(e.idToken||e.accessToken,"argument-error"),ts._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Wu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new Wu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Lc{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ts._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Lc{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="http://localhost";class gc extends Dc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ms(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ms(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ms(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new gc(r,s)}static _create(e,t){return new gc(e,t)}buildRequest(){return{requestUri:$B,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="saml.";class Rg extends Xs{constructor(e){pe(e.startsWith(jB),"argument-error"),super(e)}static credentialFromResult(e){return Rg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Rg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gc.fromJSON(e);return pe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return gc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Lc{constructor(){super("twitter.com")}static credential(e,t){return ts._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){return Js(n,"POST","/v1/accounts:signUp",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await ii._fromIdTokenResponse(e,r,i),l=kP(r);return new Br({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=kP(r);return new Br({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function kP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(n){if(Ye(n.app))return Promise.reject(pn(n));const e=Ot(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Br({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await HN(e,{returnSecureToken:!0}),r=await Br._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends fn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ag.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ag(e,t,r,i)}}function KN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ag._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(n,e){const t=be(n);await Iy(!0,t,e);const{providerUserInfo:r}=await W6(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=GN(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function fT(n,e,t=!1){const r=await zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Br._forOperation(n,"link",r)}async function Iy(n,e,t){await Qh(e);const r=GN(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";pe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,e,t=!1){const{auth:r}=n;if(Ye(r.app))return Promise.reject(pn(r));const i="reauthenticate";try{const s=await zs(n,KN(r,i,e,n),t);pe(s.idToken,r,"internal-error");const l=vy(s.idToken);pe(l,r,"internal-error");const{sub:u}=l;return pe(n.uid===u,r,"user-mismatch"),Br._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&An(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e,t=!1){if(Ye(n.app))return Promise.reject(pn(n));const r="signIn",i=await KN(n,r,e),s=await Br._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Ty(n,e){return YN(Ot(n),e)}async function JN(n,e){const t=be(n);return await Iy(!1,t,e.providerId),fT(t,e)}async function XN(n,e){return QN(be(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(n,e){return Js(n,"POST","/v1/accounts:signInWithCustomToken",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qB(n,e){if(Ye(n.app))return Promise.reject(pn(n));const t=Ot(n),r=await WB(t,{token:e,returnSecureToken:!0}),i=await Br._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?pT._fromServerResponse(e,t):"totpInfo"in t?mT._fromServerResponse(e,t):An(e,"internal-error")}}class pT extends kf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new pT(t)}}class mT extends kf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new mT(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n,e,t){pe(t.url?.length>0,n,"invalid-continue-uri"),pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),pe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(pe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(pe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(n){const e=Ot(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HB(n,e,t){const r=Ot(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Sy(r,i,t),await Wo(r,i,"getOobCode",CB,"EMAIL_PASSWORD_PROVIDER")}async function KB(n,e,t){await qN(be(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gT(n),r})}async function GB(n,e){await RB(be(n),{oobCode:e})}async function ZN(n,e){const t=be(n),r=await qN(t,{oobCode:e}),i=r.requestType;switch(pe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(r.mfaInfo,t,"internal-error");default:pe(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=kf._fromServerResponse(Ot(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function QB(n,e){const{data:t}=await ZN(be(n),e);return t.email}async function YB(n,e,t){if(Ye(n.app))return Promise.reject(pn(n));const r=Ot(n),l=await Wo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HN,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&gT(n),d}),u=await Br._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function JB(n,e,t){return Ye(n.app)?Promise.reject(pn(n)):Ty(be(n),fa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(n,e,t){const r=Ot(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){pe(u.handleCodeInApp,r,"argument-error"),u&&Sy(r,l,u)}s(i,t),await Wo(r,i,"getOobCode",bB,"EMAIL_PASSWORD_PROVIDER")}function ZB(n,e){return Ey.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function e9(n,e,t){if(Ye(n.app))return Promise.reject(pn(n));const r=be(n),i=fa.credentialWithLink(e,t||Gh());return pe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ty(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(n,e){return jt(n,"POST","/v1/accounts:createAuthUri",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(n,e){const t=cT()?Gh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await t9(be(n),r);return i||[]}async function r9(n,e){const t=be(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Sy(t.auth,i,e);const{email:s}=await PB(t.auth,i);s!==n.email&&await n.reload()}async function i9(n,e,t){const r=be(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Sy(r.auth,s,t);const{email:l}=await kB(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(n,e){return jt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=be(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await zs(r,s9(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function a9(n,e){const t=be(n);return Ye(t.auth.app)?Promise.reject(pn(t.auth)):eO(t,e,null)}function l9(n,e){return eO(be(n),null,e)}async function eO(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await zs(n,TB(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const i=vy(n.idToken)?.firebase?.sign_in_provider;if(i){const s=i!=="anonymous"&&i!=="custom"?i:null;return new qu(r,s)}}if(!e)return null;switch(e){case"facebook.com":return new c9(r,t);case"github.com":return new d9(r,t);case"google.com":return new h9(r,t);case"twitter.com":return new f9(r,t,n.screenName||null);case"custom":case"anonymous":return new qu(r,null);default:return new qu(r,e,t)}}class qu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class tO extends qu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class c9 extends qu{constructor(e,t){super(e,"facebook.com",t)}}class d9 extends tO{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class h9 extends qu{constructor(e,t){super(e,"google.com",t)}}class f9 extends tO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function p9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:u9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new nl("enroll",e,t)}static _fromMfaPendingCredential(e){return new nl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return nl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return nl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ot(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>kf._fromServerResponse(r,u));pe(i.mfaPendingCredential,r,"internal-error");const l=nl._fromMfaPendingCredential(i.mfaPendingCredential);return new yT(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:d.idToken,refreshToken:d.refreshToken};switch(t.operationType){case"signIn":const m=await Br._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return pe(t.user,r,"internal-error"),Br._forOperation(t.user,t.operationType,f);default:An(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function m9(n,e){const t=be(n),r=e;return pe(e.customData.operationType,t,"argument-error"),pe(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),yT._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:start",$t(n,e))}function g9(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",$t(n,e))}function y9(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(n,e))}class _T{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>kf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new _T(e)}async getSession(){return nl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await zs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await zs(this.user,y9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Wv=new WeakMap;function _9(n){const e=be(n);return Wv.has(e)||Wv.set(e,_T._fromUser(e)),Wv.get(e)}const Pg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pg,"1"),this.storage.removeItem(Pg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=1e3,w9=10;class rO extends nO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$N(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);eB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,w9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},v9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rO.type="LOCAL";const vT=rO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends nO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iO.type="SESSION";const vl=iO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ry(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),d=await E9(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ry.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=xf("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const E=y;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(E.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function T9(n){Xt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function S9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R9(){return navigator?.serviceWorker?.controller||null}function A9(){return wT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="firebaseLocalStorageDb",P9=1,Cg="firebaseLocalStorage",oO="fbase_key";class Nf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ay(n,e){return n.transaction([Cg],e?"readwrite":"readonly").objectStore(Cg)}function C9(){const n=indexedDB.deleteDatabase(sO);return new Nf(n).toPromise()}function rE(){const n=indexedDB.open(sO,P9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Cg,{keyPath:oO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Cg)?e(r):(r.close(),await C9(),e(await rE()))})})}async function NP(n,e,t){const r=Ay(n,!0).put({[oO]:e,value:t});return new Nf(r).toPromise()}async function b9(n,e){const t=Ay(n,!1).get(e),r=await new Nf(t).toPromise();return r===void 0?null:r.value}function OP(n,e){const t=Ay(n,!0).delete(e);return new Nf(t).toPromise()}const k9=800,x9=3;class aO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>x9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ry._getInstance(A9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await S9(),!this.activeServiceWorker)return;this.sender=new I9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rE();return await NP(e,Pg,"1"),await OP(e,Pg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>NP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>b9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>OP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ay(i,!1).getAll();return new Nf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aO.type="LOCAL";const Jh=aO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:start",$t(n,e))}function N9(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:finalize",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=BN("rcb"),O9=new Af(3e4,6e4);class D9{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xt().grecaptcha?.render}load(e,t=""){return pe(L9(t),e,"argument-error"),this.shouldResolveImmediately(t)&&IP(Xt().grecaptcha)?Promise.resolve(Xt().grecaptcha):new Promise((r,i)=>{const s=Xt().setTimeout(()=>{i(on(e,"network-request-failed"))},O9.get());Xt()[qv]=()=>{Xt().clearTimeout(s),delete Xt()[qv];const u=Xt().grecaptcha;if(!u||!IP(u)){i(on(e,"internal-error"));return}const d=u.render;u.render=(f,m)=>{const y=d(f,m);return this.counter++,y},this.hostLanguage=t,r(u)};const l=`${aB()}?${ci({onload:qv,render:"explicit",hl:t})}`;hT(l).catch(()=>{clearTimeout(s),i(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Xt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function L9(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class V9{async load(e){return new hB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="recaptcha",M9={theme:"light",type:"image"};let F9=class{constructor(e,t,r={...M9}){this.parameters=r,this.type=Ih,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ot(e),this.isInvisible=this.parameters.size==="invisible",pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;pe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V9:new D9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Xt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pe(cT()&&!wT(),this.auth,"internal-error"),await U9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await B6(this.auth);pe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function U9(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=al._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function $9(n,e,t){if(Ye(n.app))return Promise.reject(pn(n));const r=Ot(n),i=await Py(r,e,be(t));return new ET(i,s=>Ty(r,s))}async function j9(n,e,t){const r=be(n);await Iy(!1,r,"phone");const i=await Py(r.auth,e,be(t));return new ET(i,s=>JN(r,s))}async function B9(n,e,t){const r=be(n);if(Ye(r.auth.app))return Promise.reject(pn(r.auth));const i=await Py(r.auth,e,be(t));return new ET(i,s=>XN(r,s))}async function Py(n,e,t){if(!n._getRecaptchaConfig())try{await _B(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const i=r.session;if("phoneNumber"in r){pe(i.type==="enroll",n,"internal-error");const s={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Wo(n,s,"mfaSmsEnrollment",async(f,m)=>{if(m.phoneEnrollmentInfo.captchaResponse===Eh){pe(t?.type===Ih,f,"argument-error");const y=await Hv(f,m,t);return xP(f,y)}return xP(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{pe(i.type==="signin",n,"internal-error");const s=r.multiFactorHint?.uid||r.multiFactorUid;pe(s,n,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Wo(n,l,"mfaSmsSignIn",async(m,y)=>{if(y.phoneSignInInfo.captchaResponse===Eh){pe(t?.type===Ih,m,"argument-error");const E=await Hv(m,y,t);return DP(m,E)}return DP(m,y)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Wo(n,i,"sendVerificationCode",async(d,f)=>{if(f.captchaResponse===Eh){pe(t?.type===Ih,d,"argument-error");const m=await Hv(d,f,t);return bP(d,m)}return bP(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t?._reset()}}async function z9(n,e){const t=be(n);if(Ye(t.auth.app))return Promise.reject(pn(t.auth));await fT(t,e)}async function Hv(n,e,t){pe(t.type===Ih,n,"argument-error");const r=await t.verify();pe(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl=class Fm{constructor(e){this.providerId=Fm.PROVIDER_ID,this.auth=Ot(e)}verifyPhoneNumber(e,t){return Py(this.auth,e,be(t))}static credential(e,t){return al._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fm.credentialFromTaggedObject(t)}static credentialFromError(e){return Fm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?al._fromTokenResponse(t,r):null}};wl.PROVIDER_ID="phone";wl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n,e){return e?Ir(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Dc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W9(n){return YN(n.auth,new IT(n),n.bypassAuthState)}function q9(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),QN(t,new IT(n),n.bypassAuthState)}async function H9(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),fT(t,new IT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W9;case"linkViaPopup":case"linkViaRedirect":return H9;case"reauthViaPopup":case"reauthViaRedirect":return q9;default:An(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Af(2e3,1e4);async function G9(n,e,t){if(Ye(n.app))return Promise.reject(on(n,"operation-not-supported-in-this-environment"));const r=Ot(n);Oc(n,e,Xs);const i=bl(r,t);return new Os(r,"signInViaPopup",e,i).executeNotNull()}async function Q9(n,e,t){const r=be(n);if(Ye(r.auth.app))return Promise.reject(on(r.auth,"operation-not-supported-in-this-environment"));Oc(r.auth,e,Xs);const i=bl(r.auth,t);return new Os(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Y9(n,e,t){const r=be(n);Oc(r.auth,e,Xs);const i=bl(r.auth,t);return new Os(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Os extends lO{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K9.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="pendingRedirect",Th=new Map;class X9 extends lO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await Z9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z9(n,e){const t=cO(e),r=uO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function TT(n,e){return uO(n)._set(cO(e),"true")}function ez(){Th.clear()}function ST(n,e){Th.set(n._key(),e)}function uO(n){return Ir(n._redirectPersistence)}function cO(n){return ol(J9,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(n,e,t){return nz(n,e,t)}async function nz(n,e,t){if(Ye(n.app))return Promise.reject(pn(n));const r=Ot(n);Oc(n,e,Xs),await r._initializationPromise;const i=bl(r,t);return await TT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function rz(n,e,t){return iz(n,e,t)}async function iz(n,e,t){const r=be(n);if(Oc(r.auth,e,Xs),Ye(r.auth.app))return Promise.reject(pn(r.auth));await r.auth._initializationPromise;const i=bl(r.auth,t);await TT(i,r.auth);const s=await dO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function sz(n,e,t){return oz(n,e,t)}async function oz(n,e,t){const r=be(n);Oc(r.auth,e,Xs),await r.auth._initializationPromise;const i=bl(r.auth,t);await Iy(!1,r,e.providerId),await TT(i,r.auth);const s=await dO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function az(n,e){return await Ot(n)._initializationPromise,Cy(n,e,!1)}async function Cy(n,e,t=!1){if(Ye(n.app))return Promise.reject(pn(n));const r=Ot(n),i=bl(r,e),l=await new X9(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function dO(n){const e=xf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=600*1e3;class hO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fO(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(on(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lz&&this.cachedEventUids.clear(),this.cachedEventUids.has(LP(e))}saveEventToCache(e){this.cachedEventUids.add(LP(e)),this.lastProcessedEventTime=Date.now()}}function LP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function uz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(n,e={}){return jt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dz=/^https?/;async function hz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pO(n);for(const t of e)try{if(fz(t))return}catch{}An(n,"unauthorized-domain")}function fz(n){const e=Gh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!dz.test(t))return!1;if(cz.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=new Af(3e4,6e4);function VP(){const n=Xt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mz(n){return new Promise((e,t)=>{function r(){VP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VP(),t(on(n,"network-request-failed"))},timeout:pz.get()})}if(Xt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xt().gapi?.load)r();else{const i=BN("iframefcb");return Xt()[i]=()=>{gapi.load?r():t(on(n,"network-request-failed"))},hT(`${uB()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw Um=null,e})}let Um=null;function gz(n){return Um=Um||mz(n),Um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new Af(5e3,15e3),_z="__/auth/iframe",vz="emulator/auth/iframe",wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iz(n){const e=n.config;pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dT(e,vz):`https://${n.config.authDomain}/${_z}`,r={apiKey:e.apiKey,appName:n.name,v:Pr},i=Ez.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ci(r).slice(1)}`}async function Tz(n){const e=await gz(n),t=Xt().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:Iz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=on(n,"network-request-failed"),u=Xt().setTimeout(()=>{s(l)},yz.get());function d(){Xt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rz=500,Az=600,Pz="_blank",Cz="http://localhost";class MP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bz(n,e,t,r=Rz,i=Az){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...Sz,width:r.toString(),height:i.toString(),top:s,left:l},f=Ke().toLowerCase();t&&(u=VN(f)?Pz:t),DN(f)&&(e=e||Cz,d.scrollbars="yes");const m=Object.entries(d).reduce((E,[C,T])=>`${E}${C}=${T},`,"");if(Z6(f)&&u!=="_self")return kz(e||"",u),new MP(null);const y=window.open(e||"",u,m);pe(y,n,"popup-blocked");try{y.focus()}catch{}return new MP(y)}function kz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz="__/auth/handler",Nz="emulator/auth/handler",Oz=encodeURIComponent("fac");async function iE(n,e,t,r,i,s){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pr,eventId:i};if(e instanceof Xs){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Ob(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries(s||{}))l[m]=y}if(e instanceof Lc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${Oz}=${encodeURIComponent(d)}`:"";return`${Dz(n)}?${ci(u).slice(1)}${f}`}function Dz({config:n}){return n.emulator?dT(n,Nz):`https://${n.authDomain}/${xz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="webStorageSupport";class Lz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vl,this._completeRedirectFn=Cy,this._overrideRedirectResult=ST}async _openPopup(e,t,r,i){ui(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await iE(e,t,r,Gh(),i);return bz(e,s,xf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await iE(e,t,r,Gh(),i);return T9(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Tz(e),r=new hO(e);return t.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kv,{type:Kv},i=>{const s=i?.[0]?.[Kv];s!==void 0&&t(!!s),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $N()||LN()||Cf()}}const Vz=Lz;class Mz{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Wi("unexpected MultiFactorSessionType")}}}class RT extends Mz{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new RT(e)}_finalizeEnroll(e,t,r){return g9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return N9(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mO{constructor(){}static assertion(e){return RT._fromCredential(e)}}mO.FACTOR_ID="phone";var FP="@firebase/auth",UP="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $z(n){Xi(new jr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jN(n)},f=new sB(r,i,s,d);return vB(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xi(new jr("auth-internal",e=>{const t=Ot(e.getProvider("auth").getImmediate());return(r=>new Fz(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(FP,UP,Uz(n)),sr(FP,UP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=300;LE("authIdTokenMaxAge");function Bz(){return document.getElementsByTagName("head")?.[0]??document}oB({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=on("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$z("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=2e3;async function Wz(n,e,t){const{BuildInfo:r}=El();ui(e.sessionId,"AuthEvent did not contain a session ID");const i=await Qz(e.sessionId),s={};return Cf()?s.ibi=r.packageName:Pf()?s.apn=r.packageName:An(n,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,iE(n,t,e.type,void 0,e.eventId??void 0,s)}async function qz(n){const{BuildInfo:e}=El(),t={};Cf()?t.iosBundleId=e.packageName:Pf()?t.androidPackageName=e.packageName:An(n,"operation-not-supported-in-this-environment"),await pO(n,t)}function Hz(n){const{cordova:e}=El();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,X6()?"_blank":"_system","location=yes"),t(i)})})}async function Kz(n,e,t){const{cordova:r}=El();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){s();const y=r.plugins.browsertab?.close;typeof y=="function"&&y(),typeof t?.close=="function"&&t.close()}function f(){u||(u=window.setTimeout(()=>{l(on(n,"redirect-cancelled-by-user"))},zz))}function m(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Pf()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function Gz(n){const e=El();pe(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Qz(n){const e=Yz(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Yz(n){if(ui(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=20;class Xz extends hO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Zz(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:nW(),postBody:null,tenantId:n.tenantId,error:on(n,"no-auth-event")}}function eW(n,e){return sE()._set(oE(n),e)}async function $P(n){const e=await sE()._get(oE(n));return e&&await sE()._remove(oE(n)),e}function tW(n,e){const t=iW(e);if(t.includes("/__/auth/callback")){const r=$m(t),s=(r.firebaseError?rW(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],l=s?on(s):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function nW(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Jz;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function sE(){return Ir(vT)}function oE(n){return ol("authEvent",n.config.apiKey,n.name)}function rW(n){try{return JSON.parse(n)}catch{return null}}function iW(n){const e=$m(n),t=e.link?decodeURIComponent(e.link):void 0,r=$m(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return $m(i).link||i||r||t||n}function $m(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return ri(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=500;class oW{constructor(){this._redirectPersistence=vl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cy,this._overrideRedirectResult=ST}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new Xz(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){An(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){Gz(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),ez(),await this._originValidation(e);const l=Zz(e,r,i);await eW(e,l);const u=await Wz(e,l,t),d=await Hz(u);return Kz(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qz(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=El(),l=setTimeout(async()=>{await $P(e),t.onEvent(jP())},sW),u=async m=>{clearTimeout(l);const y=await $P(e);let E=null;y&&m?.url&&(E=tW(y,m.url)),t.onEvent(E||jP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,f=`${s.packageName.toLowerCase()}://`;El().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&u({url:m}),typeof d=="function")try{d(m)}catch(y){console.error(y)}}}}const aW=oW;function jP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(n,e){Ot(n)._logFramework(e)}var uW="@firebase/auth-compat",cW="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=1e3;function Sh(){return self?.location?.protocol||null}function hW(){return Sh()==="http:"||Sh()==="https:"}function gO(n=Ke()){return!!((Sh()==="file:"||Sh()==="ionic:"||Sh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function fW(){return $g()||Ug()}function pW(){return UE()&&document?.documentMode===11}function mW(n=Ke()){return/Edge\/\d+/.test(n)}function gW(n=Ke()){return pW()||mW(n)}function yO(){try{const n=self.localStorage,e=xf();if(n)return n.setItem(e,"1"),n.removeItem(e),gW()?Ch():!0}catch{return AT()&&Ch()}return!1}function AT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gv(){return(hW()||FE()||gO())&&!fW()&&yO()&&!AT()}function _O(){return gO()&&typeof document<"u"}async function yW(){return _O()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},dW);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function _W(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={LOCAL:"local",NONE:"none",SESSION:"session"},Fd=pe,vO="persistence";function vW(n,e){if(Fd(Object.values(wr).includes(e),n,"invalid-persistence-type"),$g()){Fd(e!==wr.SESSION,n,"unsupported-persistence-type");return}if(Ug()){Fd(e===wr.NONE,n,"unsupported-persistence-type");return}if(AT()){Fd(e===wr.NONE||e===wr.LOCAL&&Ch(),n,"unsupported-persistence-type");return}Fd(e===wr.NONE||yO(),n,"unsupported-persistence-type")}async function aE(n){await n._initializationPromise;const e=wO(),t=ol(vO,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function wW(n,e){const t=wO();if(!t)return[];const r=ol(vO,n,e);switch(t.getItem(r)){case wr.NONE:return[mc];case wr.LOCAL:return[Jh,vl];case wr.SESSION:return[vl];default:return[]}}function wO(){try{return _W()?.sessionStorage||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=pe;class Uo{constructor(){this.browserResolver=Ir(Vz),this.cordovaResolver=Ir(aW),this.underlyingResolver=null,this._redirectPersistence=vl,this._completeRedirectFn=Cy,this._overrideRedirectResult=ST}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _O()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return EW(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await yW();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){return n.unwrap()}function IW(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(n){return IO(n)}function SW(n,e){const t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new RW(n,m9(n,e))}else if(t){const r=IO(e),i=e;r&&(i.credential=r,i.tenantId=t.tenantId||void 0,i.email=t.email||void 0,i.phoneNumber=t.phoneNumber||void 0)}}function IO(n){const{_tokenResponse:e}=n instanceof fn?n.customData:n;if(!e)return null;if(!(n instanceof fn)&&"temporaryProof"in e&&"phoneNumber"in e)return wl.credentialFromResult(n);const t=e.providerId;if(!t||t===Vd.PASSWORD)return null;let r;switch(t){case Vd.GOOGLE:r=Fi;break;case Vd.FACEBOOK:r=Mi;break;case Vd.GITHUB:r=Ui;break;case Vd.TWITTER:r=$i;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?gc._create(t,u):ts._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new Wu(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof fn?r.credentialFromError(n):r.credentialFromResult(n)}function tr(n,e){return e.catch(t=>{throw t instanceof fn&&SW(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:TW(t),additionalUserInfo:p9(t),user:Ds.getOrCreate(i)}})}async function lE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>tr(n,t.confirm(r))}}class RW{constructor(e,t){this.resolver=t,this.auth=IW(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tr(EO(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._delegate=e,this.multiFactor=_9(e)}static getOrCreate(e){return Ds.USER_MAP.has(e)||Ds.USER_MAP.set(e,new Ds(e)),Ds.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tr(this.auth,JN(this._delegate,e))}async linkWithPhoneNumber(e,t){return lE(this.auth,j9(this._delegate,e,t))}async linkWithPopup(e){return tr(this.auth,Y9(this._delegate,e,Uo))}async linkWithRedirect(e){return await aE(Ot(this.auth)),sz(this._delegate,e,Uo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tr(this.auth,XN(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return lE(this.auth,B9(this._delegate,e,t))}reauthenticateWithPopup(e){return tr(this.auth,Q9(this._delegate,e,Uo))}async reauthenticateWithRedirect(e){return await aE(Ot(this.auth)),rz(this._delegate,e,Uo)}sendEmailVerification(e){return r9(this._delegate,e)}async unlink(e){return await zB(this._delegate,e),this}updateEmail(e){return a9(this._delegate,e)}updatePassword(e){return l9(this._delegate,e)}updatePhoneNumber(e){return z9(this._delegate,e)}updateProfile(e){return o9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return i9(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ds.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=pe;let uE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ud(r,"invalid-api-key",{appName:e.name}),Ud(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Uo:void 0;this._delegate=t.initialize({options:{persistence:AW(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(N6),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){wB(this._delegate,e,t)}applyActionCode(e){return GB(this._delegate,e)}checkActionCode(e){return ZN(this._delegate,e)}confirmPasswordReset(e,t){return KB(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return tr(this._delegate,YB(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return n9(this._delegate,e)}isSignInWithEmailLink(e){return ZB(this._delegate,e)}async getRedirectResult(){Ud(Gv(),this._delegate,"operation-not-supported-in-this-environment");const e=await az(this._delegate,Uo);return e?tr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){lW(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=BP(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=BP(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return XB(this._delegate,e,t)}sendPasswordResetEmail(e,t){return HB(this._delegate,e,t||void 0)}async setPersistence(e){vW(this._delegate,e);let t;switch(e){case wr.SESSION:t=vl;break;case wr.LOCAL:t=await Ir(Jh)._isAvailable()?Jh:vT;break;case wr.NONE:t=mc;break;default:return An("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tr(this._delegate,BB(this._delegate))}signInWithCredential(e){return tr(this._delegate,Ty(this._delegate,e))}signInWithCustomToken(e){return tr(this._delegate,qB(this._delegate,e))}signInWithEmailAndPassword(e,t){return tr(this._delegate,JB(this._delegate,e,t))}signInWithEmailLink(e,t){return tr(this._delegate,e9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return lE(this._delegate,$9(this._delegate,e,t))}async signInWithPopup(e){return Ud(Gv(),this._delegate,"operation-not-supported-in-this-environment"),tr(this._delegate,G9(this._delegate,e,Uo))}async signInWithRedirect(e){return Ud(Gv(),this._delegate,"operation-not-supported-in-this-environment"),await aE(this._delegate),tz(this._delegate,e,Uo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return QB(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};uE.Persistence=wr;function BP(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&Ds.getOrCreate(l)),error:e,complete:t}}function AW(n,e){const t=wW(n,e);if(typeof self<"u"&&!t.includes(Jh)&&t.push(Jh),typeof window<"u")for(const r of[vT,vl])t.includes(r)||t.push(r);return t.includes(mc)||t.push(mc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static credential(e,t){return wl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new wl(EO(Sc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}PT.PHONE_SIGN_IN_METHOD=wl.PHONE_SIGN_IN_METHOD;PT.PROVIDER_ID=wl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=pe;class CW{constructor(e,t,r=Sc.app()){PW(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new F9(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW="auth-compat";function kW(n){n.INTERNAL.registerComponent(new jr(bW,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new uE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Eu.EMAIL_SIGNIN,PASSWORD_RESET:Eu.PASSWORD_RESET,RECOVER_EMAIL:Eu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Eu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Eu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Eu.VERIFY_EMAIL}},EmailAuthProvider:fa,FacebookAuthProvider:Mi,GithubAuthProvider:Ui,GoogleAuthProvider:Fi,OAuthProvider:Wu,SAMLAuthProvider:Rg,PhoneAuthProvider:PT,PhoneMultiFactorGenerator:mO,RecaptchaVerifier:CW,TwitterAuthProvider:$i,Auth:uE,AuthCredential:Dc,Error:fn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(uW,cW)}kW(Sc);var xW="firebase",NW="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sc.registerVersion(xW,NW,"app-compat");const OW={apiKey:"AIzaSyCz8JXH46yd4ZQSNKkqdfD7Ag_yWn8CQKc",authDomain:"clone-2025-a2ce5.firebaseapp.com",projectId:"clone-2025-a2ce5",storageBucket:"clone-2025-a2ce5.firebasestorage.app",messagingSenderId:"957302968491",appId:"1:957302968491:web:84a8393da5628a1e74a7ee"},TO=Sc.initializeApp(OW),bg=t5(TO),SO=TO.firestore(),DW=()=>{const[{user:n,basket:e},t]=G.useContext(qs),r=e?.reduce((i,s)=>s.amount+i,0);return D.jsxs(D.Fragment,{children:[" ",D.jsxs("section",{className:Cs.fixed,children:[D.jsx("section",{children:D.jsxs("div",{className:Cs.header_container,children:[D.jsxs("div",{className:Cs.logo_container,children:[D.jsx(ni,{to:"/",children:D.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),D.jsxs("div",{className:Cs.delivery,children:[D.jsx("span",{children:D.jsx(tM,{})}),D.jsxs("div",{children:[D.jsx("p",{children:"Deliver to"}),D.jsx("span",{children:"USA"})]})]})]}),D.jsxs("div",{className:Cs.search,children:[D.jsx("select",{name:"",id:"",children:D.jsx("option",{value:"",children:"All"})}),D.jsx("input",{type:"text"}),D.jsx(nM,{size:35})]}),D.jsxs("div",{className:Cs.order_container,children:[D.jsxs(ni,{to:"",className:Cs.language,children:[D.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),D.jsx("select",{name:"",id:"",children:D.jsx("option",{value:"",children:"EN"})})]}),D.jsx(ni,{to:!n&&"/auth",children:D.jsx("div",{children:n?D.jsxs(D.Fragment,{children:[D.jsxs("p",{children:["Hello ",n?.email?.split("@")[0]]}),D.jsx("span",{onClick:()=>bg.signOut(),children:"Sign Out"})]}):D.jsxs(D.Fragment,{children:[D.jsx("p",{children:"Hello , Sign In"}),D.jsx("span",{children:"Account & Lists"})]})})}),D.jsxs(ni,{to:"/orders",children:[D.jsx("p",{children:"returns"}),D.jsx("span",{children:"& Orders"})]}),D.jsxs(ni,{to:"/cart",className:Cs.cart,children:[D.jsx(rM,{size:35}),D.jsx("span",{children:r})]})]})]})}),D.jsx(sM,{})]})]})};var Qv={},$d={},dm={},hm={},Yv={exports:{}},Jv,zP;function LW(){if(zP)return Jv;zP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jv=n,Jv}var Xv,WP;function VW(){if(WP)return Xv;WP=1;var n=LW();function e(){}function t(){}return t.resetWarningCache=e,Xv=function(){function r(l,u,d,f,m,y){if(y!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Xv}var qP;function RO(){return qP||(qP=1,Yv.exports=VW()()),Yv.exports}var HP;function MW(){return HP||(HP=1,(function(n){(function(e,t){t(n,ia(),RO())})(hm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=T;var i=l(t),s=l(r);function l(M){return M&&M.__esModule?M:{default:M}}var u=Object.assign||function(M){for(var $=1;$<arguments.length;$++){var H=arguments[$];for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(M[q]=H[q])}return M};function d(M,$){var H={};for(var q in M)$.indexOf(q)>=0||Object.prototype.hasOwnProperty.call(M,q)&&(H[q]=M[q]);return H}function f(M,$){if(!(M instanceof $))throw new TypeError("Cannot call a class as a function")}var m=(function(){function M($,H){for(var q=0;q<H.length;q++){var U=H[q];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty($,U.key,U)}}return function($,H,q){return H&&M($.prototype,H),q&&M($,q),$}})();function y(M,$){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:M}function E(M,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);M.prototype=Object.create($&&$.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(M,$):M.__proto__=$)}var C=!1;function T(M){C=M}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){T(!0)}}))}catch{}function P(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return C?M:M.capture}function k(M){if("touches"in M){var $=M.touches[0],H=$.pageX,q=$.pageY;return{x:H,y:q}}var U=M.screenX,O=M.screenY;return{x:U,y:O}}var j=(function(M){E($,M);function $(){var H;f(this,$);for(var q=arguments.length,U=Array(q),O=0;O<q;O++)U[O]=arguments[O];var A=y(this,(H=$.__proto__||Object.getPrototypeOf($)).call.apply(H,[this].concat(U)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m($,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,P({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,P({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(q){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(q))}},{key:"_onMouseMove",value:function(q){this.mouseDown&&this._handleSwipeMove(q)}},{key:"_onMouseUp",value:function(q){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(q)}},{key:"_handleSwipeStart",value:function(q){var U=k(q),O=U.x,A=U.y;this.moveStart={x:O,y:A},this.props.onSwipeStart(q)}},{key:"_handleSwipeMove",value:function(q){if(this.moveStart){var U=k(q),O=U.x,A=U.y,b=O-this.moveStart.x,V=A-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:b,y:V},q);x&&q.cancelable&&q.preventDefault(),this.movePosition={deltaX:b,deltaY:V}}}},{key:"_handleSwipeEnd",value:function(q){this.props.onSwipeEnd(q);var U=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-U?this.props.onSwipeLeft(1,q):this.movePosition.deltaX>U&&this.props.onSwipeRight(1,q),this.movePosition.deltaY<-U?this.props.onSwipeUp(1,q):this.movePosition.deltaY>U&&this.props.onSwipeDown(1,q)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(q){this.swiper=q,this.props.innerRef(q)}},{key:"render",value:function(){var q=this.props;q.tagName;var U=q.className,O=q.style,A=q.children;q.allowMouseEvents,q.onSwipeUp,q.onSwipeDown,q.onSwipeLeft,q.onSwipeRight,q.onSwipeStart,q.onSwipeMove,q.onSwipeEnd,q.innerRef,q.tolerance;var b=d(q,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:U,style:O},b),A)}}]),$})(t.Component);j.displayName="ReactSwipe",j.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},j.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=j})})(hm)),hm}var KP;function AO(){return KP||(KP=1,(function(n){(function(e,t){t(n,MW())})(dm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(dm)),dm}var jd={},Zv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var GP;function FW(){return GP||(GP=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Zv)),Zv.exports}var QP;function PO(){if(QP)return jd;QP=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.default=void 0;var n=e(FW());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return jd.default=r,jd}var Bd={},zd={},YP;function UW(){if(YP)return zd;YP=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return zd.outerWidth=n,zd}var Wd={},JP;function CT(){if(JP)return Wd;JP=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return Wd.default=n,Wd}var qd={},XP;function CO(){if(XP)return qd;XP=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.default=void 0;var n=function(){return window};return qd.default=n,qd}var ZP;function bO(){if(ZP)return Bd;ZP=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.default=void 0;var n=d(ia()),e=l(PO()),t=UW(),r=l(CT()),i=l(AO()),s=l(CO());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||f(A)!=="object"&&typeof A!="function")return{default:A};var b=u();if(b&&b.has(A))return b.get(A);var V={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in A)if(Object.prototype.hasOwnProperty.call(A,w)){var S=x?Object.getOwnPropertyDescriptor(A,w):null;S&&(S.get||S.set)?Object.defineProperty(V,w,S):V[w]=A[w]}return V.default=A,b&&b.set(A,V),V}function f(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(V){return typeof V}:f=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},f(A)}function m(){return m=Object.assign||function(A){for(var b=1;b<arguments.length;b++){var V=arguments[b];for(var x in V)Object.prototype.hasOwnProperty.call(V,x)&&(A[x]=V[x])}return A},m.apply(this,arguments)}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function E(A,b){for(var V=0;V<b.length;V++){var x=b[V];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function C(A,b,V){return b&&E(A.prototype,b),A}function T(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),b&&P(A,b)}function P(A,b){return P=Object.setPrototypeOf||function(x,w){return x.__proto__=w,x},P(A,b)}function k(A){var b=$();return function(){var x=H(A),w;if(b){var S=H(this).constructor;w=Reflect.construct(x,arguments,S)}else w=x.apply(this,arguments);return j(this,w)}}function j(A,b){return b&&(f(b)==="object"||typeof b=="function")?b:M(A)}function M(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(A){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},H(A)}function q(A,b,V){return b in A?Object.defineProperty(A,b,{value:V,enumerable:!0,configurable:!0,writable:!0}):A[b]=V,A}var U=function(b){return b.hasOwnProperty("key")},O=(function(A){T(V,A);var b=k(V);function V(x){var w;return y(this,V),w=b.call(this,x),q(M(w),"itemsWrapperRef",void 0),q(M(w),"itemsListRef",void 0),q(M(w),"thumbsRef",void 0),q(M(w),"setItemsWrapperRef",function(S){w.itemsWrapperRef=S}),q(M(w),"setItemsListRef",function(S){w.itemsListRef=S}),q(M(w),"setThumbsRef",function(S,z){w.thumbsRef||(w.thumbsRef=[]),w.thumbsRef[z]=S}),q(M(w),"updateSizes",function(){if(!(!w.props.children||!w.itemsWrapperRef||!w.thumbsRef)){var S=n.Children.count(w.props.children),z=w.itemsWrapperRef.clientWidth,L=w.props.thumbWidth?w.props.thumbWidth:(0,t.outerWidth)(w.thumbsRef[0]),oe=Math.floor(z/L),ae=oe<S,Q=ae?S-oe:0;w.setState(function(fe,ue){return{itemSize:L,visibleItems:oe,firstItem:ae?w.getFirstItem(ue.selectedItem):0,lastPosition:Q,showArrows:ae}})}}),q(M(w),"handleClickItem",function(S,z,L){if(!U(L)||L.key==="Enter"){var oe=w.props.onSelectItem;typeof oe=="function"&&oe(S,z)}}),q(M(w),"onSwipeStart",function(){w.setState({swiping:!0})}),q(M(w),"onSwipeEnd",function(){w.setState({swiping:!1})}),q(M(w),"onSwipeMove",function(S){var z=S.x;if(!w.state.itemSize||!w.itemsWrapperRef||!w.state.visibleItems)return!1;var L=0,oe=n.Children.count(w.props.children),ae=-(w.state.firstItem*100)/w.state.visibleItems,Q=Math.max(oe-w.state.visibleItems,0),fe=-Q*100/w.state.visibleItems;ae===L&&z>0&&(z=0),ae===fe&&z<0&&(z=0);var ue=w.itemsWrapperRef.clientWidth,W=ae+100/(ue/z);return w.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){w.itemsListRef.style[ie]=(0,r.default)(W,"%",w.props.axis)}),!0}),q(M(w),"slideRight",function(S){w.moveTo(w.state.firstItem-(typeof S=="number"?S:1))}),q(M(w),"slideLeft",function(S){w.moveTo(w.state.firstItem+(typeof S=="number"?S:1))}),q(M(w),"moveTo",function(S){S=S<0?0:S,S=S>=w.state.lastPosition?w.state.lastPosition:S,w.setState({firstItem:S})}),w.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},w}return C(V,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(w){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==w.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(w){var S=w;return w>=this.state.lastPosition&&(S=this.state.lastPosition),w<this.state.firstItem+this.state.visibleItems&&(S=this.state.firstItem),w<this.state.firstItem&&(S=w),S}},{key:"renderItems",value:function(){var w=this;return this.props.children.map(function(S,z){var L=e.default.ITEM(!1,z===w.state.selectedItem),oe={key:z,ref:function(Q){return w.setThumbsRef(Q,z)},className:L,onClick:w.handleClickItem.bind(w,z,w.props.children[z]),onKeyDown:w.handleClickItem.bind(w,z,w.props.children[z]),"aria-label":"".concat(w.props.labels.item," ").concat(z+1),style:{width:w.props.thumbWidth}};return n.default.createElement("li",m({},oe,{role:"button",tabIndex:0}),S)})}},{key:"render",value:function(){var w=this;if(!this.props.children)return null;var S=n.Children.count(this.props.children)>1,z=this.state.showArrows&&this.state.firstItem>0,L=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,oe={},ae=-this.state.firstItem*(this.state.itemSize||0),Q=(0,r.default)(ae,"px",this.props.axis),fe=this.props.transitionTime+"ms";return oe={WebkitTransform:Q,MozTransform:Q,MsTransform:Q,OTransform:Q,transform:Q,msTransform:Q,WebkitTransitionDuration:fe,MozTransitionDuration:fe,MsTransitionDuration:fe,OTransitionDuration:fe,transitionDuration:fe,msTransitionDuration:fe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!z),onClick:function(){return w.slideRight()},"aria-label":this.props.labels.leftArrow}),S?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:oe,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(W){return w.setItemsListRef(W)},style:oe},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!L),onClick:function(){return w.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),V})(n.Component);return Bd.default=O,q(O,"displayName","Thumbs"),q(O,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Bd}var Hd={},eC;function $W(){if(eC)return Hd;eC=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.default=void 0;var n=function(){return document};return Hd.default=n,Hd}var _r={},tC;function kO(){if(tC)return _r;tC=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.setPosition=_r.getPosition=_r.isKeyboardEvent=_r.defaultStatusFormatter=_r.noop=void 0;var n=ia(),e=t(CT());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};_r.noop=r;var i=function(f,m){return"".concat(f," of ").concat(m)};_r.defaultStatusFormatter=i;var s=function(f){return f?f.hasOwnProperty("key"):!1};_r.isKeyboardEvent=s;var l=function(f,m){if(m.infiniteLoop&&++f,f===0)return 0;var y=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var E=-f*m.centerSlidePercentage,C=y-1;return f&&(f!==C||m.infiniteLoop)?E+=(100-m.centerSlidePercentage)/2:f===C&&(E+=100-m.centerSlidePercentage),E}return-f*100};_r.getPosition=l;var u=function(f,m){var y={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(E){y[E]=(0,e.default)(f,"%",m)}),y};return _r.setPosition=u,_r}var ei={},nC;function jW(){if(nC)return ei;nC=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.fadeAnimationHandler=ei.slideStopSwipingHandler=ei.slideSwipeAnimationHandler=ei.slideAnimationHandler=void 0;var n=ia(),e=r(CT()),t=kO();function r(y){return y&&y.__esModule?y:{default:y}}function i(y,E){var C=Object.keys(y);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(y);E&&(T=T.filter(function(P){return Object.getOwnPropertyDescriptor(y,P).enumerable})),C.push.apply(C,T)}return C}function s(y){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?i(Object(C),!0).forEach(function(T){l(y,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(C)):i(Object(C)).forEach(function(T){Object.defineProperty(y,T,Object.getOwnPropertyDescriptor(C,T))})}return y}function l(y,E,C){return E in y?Object.defineProperty(y,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[E]=C,y}var u=function(E,C){var T={},P=C.selectedItem,k=P,j=n.Children.count(E.children)-1,M=E.infiniteLoop&&(P<0||P>j);if(M)return k<0?E.centerMode&&E.centerSlidePercentage&&E.axis==="horizontal"?T.itemListStyle=(0,t.setPosition)(-(j+2)*E.centerSlidePercentage-(100-E.centerSlidePercentage)/2,E.axis):T.itemListStyle=(0,t.setPosition)(-(j+2)*100,E.axis):k>j&&(T.itemListStyle=(0,t.setPosition)(0,E.axis)),T;var $=(0,t.getPosition)(P,E),H=(0,e.default)($,"%",E.axis),q=E.transitionTime+"ms";return T.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},C.swiping||(T.itemListStyle=s(s({},T.itemListStyle),{},{WebkitTransitionDuration:q,MozTransitionDuration:q,OTransitionDuration:q,transitionDuration:q,msTransitionDuration:q})),T};ei.slideAnimationHandler=u;var d=function(E,C,T,P){var k={},j=C.axis==="horizontal",M=n.Children.count(C.children),$=0,H=(0,t.getPosition)(T.selectedItem,C),q=C.infiniteLoop?(0,t.getPosition)(M-1,C)-100:(0,t.getPosition)(M-1,C),U=j?E.x:E.y,O=U;H===$&&U>0&&(O=0),H===q&&U<0&&(O=0);var A=H+100/(T.itemSize/O),b=Math.abs(U)>C.swipeScrollTolerance;return C.infiniteLoop&&b&&(T.selectedItem===0&&A>-100?A-=M*100:T.selectedItem===M-1&&A<-M*100&&(A+=M*100)),(!C.preventMovementUntilSwipeScrollTolerance||b||T.swipeMovementStarted)&&(T.swipeMovementStarted||P({swipeMovementStarted:!0}),k.itemListStyle=(0,t.setPosition)(A,C.axis)),b&&!T.cancelClick&&P({cancelClick:!0}),k};ei.slideSwipeAnimationHandler=d;var f=function(E,C){var T=(0,t.getPosition)(C.selectedItem,E),P=(0,t.setPosition)(T,E.axis);return{itemListStyle:P}};ei.slideStopSwipingHandler=f;var m=function(E,C){var T=E.transitionTime+"ms",P="ease-in-out",k={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:P,msTransitionTimingFunction:P,MozTransitionTimingFunction:P,WebkitTransitionTimingFunction:P,OTransitionTimingFunction:P};return C.swiping||(k=s(s({},k),{},{WebkitTransitionDuration:T,MozTransitionDuration:T,OTransitionDuration:T,transitionDuration:T,msTransitionDuration:T})),{slideStyle:k,selectedStyle:s(s({},k),{},{opacity:1,position:"relative"}),prevStyle:s({},k)}};return ei.fadeAnimationHandler=m,ei}var rC;function BW(){if(rC)return $d;rC=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.default=void 0;var n=m(ia()),e=d(AO()),t=d(PO()),r=d(bO()),i=d($W()),s=d(CO()),l=kO(),u=jW();function d(x){return x&&x.__esModule?x:{default:x}}function f(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return f=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||y(x)!=="object"&&typeof x!="function")return{default:x};var w=f();if(w&&w.has(x))return w.get(x);var S={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in x)if(Object.prototype.hasOwnProperty.call(x,L)){var oe=z?Object.getOwnPropertyDescriptor(x,L):null;oe&&(oe.get||oe.set)?Object.defineProperty(S,L,oe):S[L]=x[L]}return S.default=x,w&&w.set(x,S),S}function y(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(S){return typeof S}:y=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},y(x)}function E(){return E=Object.assign||function(x){for(var w=1;w<arguments.length;w++){var S=arguments[w];for(var z in S)Object.prototype.hasOwnProperty.call(S,z)&&(x[z]=S[z])}return x},E.apply(this,arguments)}function C(x,w){var S=Object.keys(x);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(x);w&&(z=z.filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable})),S.push.apply(S,z)}return S}function T(x){for(var w=1;w<arguments.length;w++){var S=arguments[w]!=null?arguments[w]:{};w%2?C(Object(S),!0).forEach(function(z){b(x,z,S[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(S)):C(Object(S)).forEach(function(z){Object.defineProperty(x,z,Object.getOwnPropertyDescriptor(S,z))})}return x}function P(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function k(x,w){for(var S=0;S<w.length;S++){var z=w[S];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(x,z.key,z)}}function j(x,w,S){return w&&k(x.prototype,w),x}function M(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),w&&$(x,w)}function $(x,w){return $=Object.setPrototypeOf||function(z,L){return z.__proto__=L,z},$(x,w)}function H(x){var w=O();return function(){var z=A(x),L;if(w){var oe=A(this).constructor;L=Reflect.construct(z,arguments,oe)}else L=z.apply(this,arguments);return q(this,L)}}function q(x,w){return w&&(y(w)==="object"||typeof w=="function")?w:U(x)}function U(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},A(x)}function b(x,w,S){return w in x?Object.defineProperty(x,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[w]=S,x}var V=(function(x){M(S,x);var w=H(S);function S(z){var L;P(this,S),L=w.call(this,z),b(U(L),"thumbsRef",void 0),b(U(L),"carouselWrapperRef",void 0),b(U(L),"listRef",void 0),b(U(L),"itemsRef",void 0),b(U(L),"timer",void 0),b(U(L),"animationHandler",void 0),b(U(L),"setThumbsRef",function(ae){L.thumbsRef=ae}),b(U(L),"setCarouselWrapperRef",function(ae){L.carouselWrapperRef=ae}),b(U(L),"setListRef",function(ae){L.listRef=ae}),b(U(L),"setItemsRef",function(ae,Q){L.itemsRef||(L.itemsRef=[]),L.itemsRef[Q]=ae}),b(U(L),"autoPlay",function(){n.Children.count(L.props.children)<=1||(L.clearAutoPlay(),L.props.autoPlay&&(L.timer=setTimeout(function(){L.increment()},L.props.interval)))}),b(U(L),"clearAutoPlay",function(){L.timer&&clearTimeout(L.timer)}),b(U(L),"resetAutoPlay",function(){L.clearAutoPlay(),L.autoPlay()}),b(U(L),"stopOnHover",function(){L.setState({isMouseEntered:!0},L.clearAutoPlay)}),b(U(L),"startOnLeave",function(){L.setState({isMouseEntered:!1},L.autoPlay)}),b(U(L),"isFocusWithinTheCarousel",function(){return L.carouselWrapperRef?!!((0,i.default)().activeElement===L.carouselWrapperRef||L.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),b(U(L),"navigateWithKeyboard",function(ae){if(L.isFocusWithinTheCarousel()){var Q=L.props.axis,fe=Q==="horizontal",ue={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},W=fe?ue.ArrowRight:ue.ArrowDown,ie=fe?ue.ArrowLeft:ue.ArrowUp;W===ae.keyCode?L.increment():ie===ae.keyCode&&L.decrement()}}),b(U(L),"updateSizes",function(){if(!(!L.state.initialized||!L.itemsRef||L.itemsRef.length===0)){var ae=L.props.axis==="horizontal",Q=L.itemsRef[0];if(Q){var fe=ae?Q.clientWidth:Q.clientHeight;L.setState({itemSize:fe}),L.thumbsRef&&L.thumbsRef.updateSizes()}}}),b(U(L),"setMountState",function(){L.setState({hasMount:!0}),L.updateSizes()}),b(U(L),"handleClickItem",function(ae,Q){if(n.Children.count(L.props.children)!==0){if(L.state.cancelClick){L.setState({cancelClick:!1});return}L.props.onClickItem(ae,Q),ae!==L.state.selectedItem&&L.setState({selectedItem:ae})}}),b(U(L),"handleOnChange",function(ae,Q){n.Children.count(L.props.children)<=1||L.props.onChange(ae,Q)}),b(U(L),"handleClickThumb",function(ae,Q){L.props.onClickThumb(ae,Q),L.moveTo(ae)}),b(U(L),"onSwipeStart",function(ae){L.setState({swiping:!0}),L.props.onSwipeStart(ae)}),b(U(L),"onSwipeEnd",function(ae){L.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),L.props.onSwipeEnd(ae),L.clearAutoPlay(),L.state.autoPlay&&L.autoPlay()}),b(U(L),"onSwipeMove",function(ae,Q){L.props.onSwipeMove(Q);var fe=L.props.swipeAnimationHandler(ae,L.props,L.state,L.setState.bind(U(L)));return L.setState(T({},fe)),!!Object.keys(fe).length}),b(U(L),"decrement",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;L.moveTo(L.state.selectedItem-(typeof ae=="number"?ae:1))}),b(U(L),"increment",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;L.moveTo(L.state.selectedItem+(typeof ae=="number"?ae:1))}),b(U(L),"moveTo",function(ae){if(typeof ae=="number"){var Q=n.Children.count(L.props.children)-1;ae<0&&(ae=L.props.infiniteLoop?Q:0),ae>Q&&(ae=L.props.infiniteLoop?0:Q),L.selectItem({selectedItem:ae}),L.state.autoPlay&&L.state.isMouseEntered===!1&&L.resetAutoPlay()}}),b(U(L),"onClickNext",function(){L.increment(1)}),b(U(L),"onClickPrev",function(){L.decrement(1)}),b(U(L),"onSwipeForward",function(){L.increment(1),L.props.emulateTouch&&L.setState({cancelClick:!0})}),b(U(L),"onSwipeBackwards",function(){L.decrement(1),L.props.emulateTouch&&L.setState({cancelClick:!0})}),b(U(L),"changeItem",function(ae){return function(Q){(!(0,l.isKeyboardEvent)(Q)||Q.key==="Enter")&&L.moveTo(ae)}}),b(U(L),"selectItem",function(ae){L.setState(T({previousItem:L.state.selectedItem},ae),function(){L.setState(L.animationHandler(L.props,L.state))}),L.handleOnChange(ae.selectedItem,n.Children.toArray(L.props.children)[ae.selectedItem])}),b(U(L),"getInitialImage",function(){var ae=L.props.selectedItem,Q=L.itemsRef&&L.itemsRef[ae],fe=Q&&Q.getElementsByTagName("img")||[];return fe[0]}),b(U(L),"getVariableItemHeight",function(ae){var Q=L.itemsRef&&L.itemsRef[ae];if(L.state.hasMount&&Q&&Q.children.length){var fe=Q.children[0].getElementsByTagName("img")||[];if(fe.length>0){var ue=fe[0];if(!ue.complete){var W=function ve(){L.forceUpdate(),ue.removeEventListener("load",ve)};ue.addEventListener("load",W)}}var ie=fe[0]||Q.children[0],ke=ie.clientHeight;return ke>0?ke:null}return null});var oe={initialized:!1,previousItem:z.selectedItem,selectedItem:z.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:z.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return L.animationHandler=typeof z.animationHandler=="function"&&z.animationHandler||z.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,L.state=T(T({},oe),L.animationHandler(z,oe)),L}return j(S,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(L,oe){!L.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!L.autoFocus&&this.props.autoFocus&&this.forceFocus(),oe.swiping&&!this.state.swiping&&this.setState(T({},this.props.stopSwipingHandler(this.props,this.state))),(L.selectedItem!==this.props.selectedItem||L.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),L.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var L=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var oe=L.getInitialImage();oe&&!oe.complete?oe.addEventListener("load",L.setMountState):L.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var L=this.carouselWrapperRef;this.props.stopOnHover&&L&&(L.addEventListener("mouseenter",this.stopOnHover),L.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var L=this.carouselWrapperRef;this.props.stopOnHover&&L&&(L.removeEventListener("mouseenter",this.stopOnHover),L.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var L=this.getInitialImage();L&&L.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var L;(L=this.carouselWrapperRef)===null||L===void 0||L.focus()}},{key:"renderItems",value:function(L){var oe=this;return this.props.children?n.Children.map(this.props.children,function(ae,Q){var fe=Q===oe.state.selectedItem,ue=Q===oe.state.previousItem,W=fe&&oe.state.selectedStyle||ue&&oe.state.prevStyle||oe.state.slideStyle||{};oe.props.centerMode&&oe.props.axis==="horizontal"&&(W=T(T({},W),{},{minWidth:oe.props.centerSlidePercentage+"%"})),oe.state.swiping&&oe.state.swipeMovementStarted&&(W=T(T({},W),{},{pointerEvents:"none"}));var ie={ref:function(ve){return oe.setItemsRef(ve,Q)},key:"itemKey"+Q+(L?"clone":""),className:t.default.ITEM(!0,Q===oe.state.selectedItem,Q===oe.state.previousItem),onClick:oe.handleClickItem.bind(oe,Q,ae),style:W};return n.default.createElement("li",ie,oe.props.renderItem(ae,{isSelected:Q===oe.state.selectedItem,isPrevious:Q===oe.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var L=this,oe=this.props,ae=oe.showIndicators,Q=oe.labels,fe=oe.renderIndicator,ue=oe.children;return ae?n.default.createElement("ul",{className:"control-dots"},n.Children.map(ue,function(W,ie){return fe&&fe(L.changeItem(ie),ie===L.state.selectedItem,ie,Q.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var L=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var oe=this.props.swipeable&&n.Children.count(this.props.children)>1,ae=this.props.axis==="horizontal",Q=this.props.showArrows&&n.Children.count(this.props.children)>1,fe=Q&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,ue=Q&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,W=this.renderItems(!0),ie=W.shift(),ke=W.pop(),ve={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},De={};if(ae){if(ve.onSwipeLeft=this.onSwipeForward,ve.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Me=this.getVariableItemHeight(this.state.selectedItem);De.height=Me||"auto"}}else ve.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ve.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ve.style=T(T({},ve.style),{},{height:this.state.itemSize}),De.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,fe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:De},oe?n.default.createElement(e.default,E({tagName:"ul",innerRef:this.setListRef},ve,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ke,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(We){return L.setListRef(We)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ke,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,ue,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),S})(n.default.Component);return $d.default=V,b(V,"displayName","Carousel"),b(V,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(w,S,z){return n.default.createElement("button",{type:"button","aria-label":z,className:t.default.ARROW_PREV(!S),onClick:w})},renderArrowNext:function(w,S,z){return n.default.createElement("button",{type:"button","aria-label":z,className:t.default.ARROW_NEXT(!S),onClick:w})},renderIndicator:function(w,S,z,L){return n.default.createElement("li",{className:t.default.DOT(S),onClick:w,onKeyDown:w,value:z,key:z,role:"button",tabIndex:0,"aria-label":"".concat(L," ").concat(z+1)})},renderItem:function(w){return w},renderThumbs:function(w){var S=n.Children.map(w,function(z){var L=z;if(z.type!=="img"&&(L=n.Children.toArray(z.props.children).find(function(oe){return oe.type==="img"})),!!L)return L});return S.filter(function(z){return z}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):S},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),$d}var iC={},sC;function zW(){return sC||(sC=1),iC}var oC;function WW(){return oC||(oC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(BW()),t=zW(),r=i(bO());function i(s){return s&&s.__esModule?s:{default:s}}})(Qv)),Qv}var qW=WW();const HW="/Amazon-Clone-2025/assets/10001-bl35EseN.jpg",KW="/Amazon-Clone-2025/assets/10002-CO6XiwvK.jpg",GW="/Amazon-Clone-2025/assets/10003-CKEg0SWO.jpg",QW="/Amazon-Clone-2025/assets/10004-Fp0oaH3y.jpg",YW="/Amazon-Clone-2025/assets/10005-DFW8ojyC.jpg",JW=[HW,KW,GW,QW,YW],XW="_hero_img_k9ybs_1",ZW={hero_img:XW};function e8(){return D.jsxs("div",{children:[D.jsx(qW.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:JW.map(n=>D.jsx("img",{src:n},n))}),D.jsx("div",{className:ZW.hero_img})]})}const t8=[{title:"Electronics",name:"electronics",imglink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imglink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304_CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imglink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imglink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],n8="_category_zrg6q_1",r8="_category_container_zrg6q_115",xO={category:n8,category_container:r8};function i8({data:n}){return D.jsx("div",{className:xO.category,children:D.jsxs(ni,{to:`category/${n.name}`,children:[D.jsx("span",{children:D.jsx("h2",{children:n?.title})}),D.jsx("img",{src:n?.imglink,alt:n.title||"Category"}),D.jsx("p",{children:"Shop now"})]})})}function s8(){return D.jsx("section",{className:xO.category_container,children:t8.map((n,e)=>D.jsx(i8,{data:n},e))})}function NO(n,e){return function(){return n.apply(e,arguments)}}const{toString:o8}=Object.prototype,{getPrototypeOf:bT}=Object,{iterator:by,toStringTag:OO}=Symbol,ky=(n=>e=>{const t=o8.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),di=n=>(n=n.toLowerCase(),e=>ky(e)===n),xy=n=>e=>typeof e===n,{isArray:Vc}=Array,yc=xy("undefined");function Of(n){return n!==null&&!yc(n)&&n.constructor!==null&&!yc(n.constructor)&&or(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const DO=di("ArrayBuffer");function a8(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&DO(n.buffer),e}const l8=xy("string"),or=xy("function"),LO=xy("number"),Df=n=>n!==null&&typeof n=="object",u8=n=>n===!0||n===!1,jm=n=>{if(ky(n)!=="object")return!1;const e=bT(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(OO in n)&&!(by in n)},c8=n=>{if(!Df(n)||Of(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},d8=di("Date"),h8=di("File"),f8=di("Blob"),p8=di("FileList"),m8=n=>Df(n)&&or(n.pipe),g8=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||or(n.append)&&((e=ky(n))==="formdata"||e==="object"&&or(n.toString)&&n.toString()==="[object FormData]"))},y8=di("URLSearchParams"),[_8,v8,w8,E8]=["ReadableStream","Request","Response","Headers"].map(di),I8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Vc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Of(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function VO(n,e){if(Of(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const rl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MO=n=>!yc(n)&&n!==rl;function cE(){const{caseless:n,skipUndefined:e}=MO(this)&&this||{},t={},r=(i,s)=>{const l=n&&VO(t,s)||s;jm(t[l])&&jm(i)?t[l]=cE(t[l],i):jm(i)?t[l]=cE({},i):Vc(i)?t[l]=i.slice():(!e||!yc(i))&&(t[l]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Lf(arguments[i],r);return t}const T8=(n,e,t,{allOwnKeys:r}={})=>(Lf(e,(i,s)=>{t&&or(i)?n[s]=NO(i,t):n[s]=i},{allOwnKeys:r}),n),S8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),R8=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},A8=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&bT(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},P8=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},C8=n=>{if(!n)return null;if(Vc(n))return n;let e=n.length;if(!LO(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},b8=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&bT(Uint8Array)),k8=(n,e)=>{const r=(n&&n[by]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},x8=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},N8=di("HTMLFormElement"),O8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),aC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),D8=di("RegExp"),FO=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Lf(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},L8=n=>{FO(n,(e,t)=>{if(or(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},V8=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Vc(n)?r(n):r(String(n).split(e)),t},M8=()=>{},F8=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function U8(n){return!!(n&&or(n.append)&&n[OO]==="FormData"&&n[by])}const $8=n=>{const e=new Array(10),t=(r,i)=>{if(Df(r)){if(e.indexOf(r)>=0)return;if(Of(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Vc(r)?[]:{};return Lf(r,(l,u)=>{const d=t(l,i+1);!yc(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},j8=di("AsyncFunction"),B8=n=>n&&(Df(n)||or(n))&&or(n.then)&&or(n.catch),UO=((n,e)=>n?setImmediate:e?((t,r)=>(rl.addEventListener("message",({source:i,data:s})=>{i===rl&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),rl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",or(rl.postMessage)),z8=typeof queueMicrotask<"u"?queueMicrotask.bind(rl):typeof process<"u"&&process.nextTick||UO,W8=n=>n!=null&&or(n[by]),re={isArray:Vc,isArrayBuffer:DO,isBuffer:Of,isFormData:g8,isArrayBufferView:a8,isString:l8,isNumber:LO,isBoolean:u8,isObject:Df,isPlainObject:jm,isEmptyObject:c8,isReadableStream:_8,isRequest:v8,isResponse:w8,isHeaders:E8,isUndefined:yc,isDate:d8,isFile:h8,isBlob:f8,isRegExp:D8,isFunction:or,isStream:m8,isURLSearchParams:y8,isTypedArray:b8,isFileList:p8,forEach:Lf,merge:cE,extend:T8,trim:I8,stripBOM:S8,inherits:R8,toFlatObject:A8,kindOf:ky,kindOfTest:di,endsWith:P8,toArray:C8,forEachEntry:k8,matchAll:x8,isHTMLForm:N8,hasOwnProperty:aC,hasOwnProp:aC,reduceDescriptors:FO,freezeMethods:L8,toObjectSet:V8,toCamelCase:O8,noop:M8,toFiniteNumber:F8,findKey:VO,global:rl,isContextDefined:MO,isSpecCompliantForm:U8,toJSONObject:$8,isAsyncFn:j8,isThenable:B8,setImmediate:UO,asap:z8,isIterable:W8};function Ue(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const $O=Ue.prototype,jO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{jO[n]={value:n}});Object.defineProperties(Ue,jO);Object.defineProperty($O,"isAxiosError",{value:!0});Ue.from=(n,e,t,r,i,s)=>{const l=Object.create($O);re.toFlatObject(n,l,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const u=n&&n.message?n.message:"Error",d=e==null&&n?n.code:e;return Ue.call(l,u,d,t,r,i),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",s&&Object.assign(l,s),l};const q8=null;function dE(n){return re.isPlainObject(n)||re.isArray(n)}function BO(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function lC(n,e,t){return n?n.concat(e).map(function(i,s){return i=BO(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function H8(n){return re.isArray(n)&&!n.some(dE)}const K8=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Ny(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,k){return!re.isUndefined(k[P])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function f(T){if(T===null)return"";if(re.isDate(T))return T.toISOString();if(re.isBoolean(T))return T.toString();if(!d&&re.isBlob(T))throw new Ue("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(T)||re.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function m(T,P,k){let j=T;if(T&&!k&&typeof T=="object"){if(re.endsWith(P,"{}"))P=r?P:P.slice(0,-2),T=JSON.stringify(T);else if(re.isArray(T)&&H8(T)||(re.isFileList(T)||re.endsWith(P,"[]"))&&(j=re.toArray(T)))return P=BO(P),j.forEach(function($,H){!(re.isUndefined($)||$===null)&&e.append(l===!0?lC([P],H,s):l===null?P:P+"[]",f($))}),!1}return dE(T)?!0:(e.append(lC(k,P,s),f(T)),!1)}const y=[],E=Object.assign(K8,{defaultVisitor:m,convertValue:f,isVisitable:dE});function C(T,P){if(!re.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+P.join("."));y.push(T),re.forEach(T,function(j,M){(!(re.isUndefined(j)||j===null)&&i.call(e,j,re.isString(M)?M.trim():M,P,E))===!0&&C(j,P?P.concat(M):[M])}),y.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return C(n),e}function uC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function kT(n,e){this._pairs=[],n&&Ny(n,this,e)}const zO=kT.prototype;zO.append=function(e,t){this._pairs.push([e,t])};zO.toString=function(e){const t=e?function(r){return e.call(this,r,uC)}:uC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function G8(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function WO(n,e,t){if(!e)return n;const r=t&&t.encode||G8;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new kT(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class cC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const qO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q8=typeof URLSearchParams<"u"?URLSearchParams:kT,Y8=typeof FormData<"u"?FormData:null,J8=typeof Blob<"u"?Blob:null,X8={isBrowser:!0,classes:{URLSearchParams:Q8,FormData:Y8,Blob:J8},protocols:["http","https","file","blob","url","data"]},xT=typeof window<"u"&&typeof document<"u",hE=typeof navigator=="object"&&navigator||void 0,Z8=xT&&(!hE||["ReactNative","NativeScript","NS"].indexOf(hE.product)<0),eq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tq=xT&&window.location.href||"http://localhost",nq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xT,hasStandardBrowserEnv:Z8,hasStandardBrowserWebWorkerEnv:eq,navigator:hE,origin:tq},Symbol.toStringTag,{value:"Module"})),Fn={...nq,...X8};function rq(n,e){return Ny(n,new Fn.classes.URLSearchParams,{visitor:function(t,r,i,s){return Fn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function iq(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sq(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function HO(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=sq(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(iq(r),i,t,0)}),t}return null}function oq(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Vf={transitional:qO,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(HO(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rq(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ny(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),oq(e)):e}],transformResponse:[function(e){const t=this.transitional||Vf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Ue.from(u,Ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Vf.headers[n]={}});const aq=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&aq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},dC=Symbol("internals");function Kd(n){return n&&String(n).trim().toLowerCase()}function Bm(n){return n===!1||n==null?n:re.isArray(n)?n.map(Bm):String(n)}function uq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const cq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ew(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function dq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function hq(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let ar=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,f){const m=Kd(d);if(!m)throw new Error("header name must be a non-empty string");const y=re.findKey(i,m);(!y||i[y]===void 0||f===!0||f===void 0&&i[y]!==!1)&&(i[y||d]=Bm(u))}const l=(u,d)=>re.forEach(u,(f,m)=>s(f,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!cq(e))l(lq(e),t);else if(re.isObject(e)&&re.isIterable(e)){let u={},d,f;for(const m of e){if(!re.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(d=u[f])?re.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Kd(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return uq(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kd(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||ew(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=Kd(l),l){const u=re.findKey(r,l);u&&(!t||ew(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||ew(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=Bm(i),delete t[s];return}const u=e?dq(s):String(s).trim();u!==s&&delete t[s],t[u]=Bm(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[dC]=this[dC]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=Kd(l);r[u]||(hq(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(ar.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(ar);function tw(n,e){const t=this||Vf,r=e||t,i=ar.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function KO(n){return!!(n&&n.__CANCEL__)}function Mc(n,e,t){Ue.call(this,n??"canceled",Ue.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Mc,Ue,{__CANCEL__:!0});function GO(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ue("Request failed with status code "+t.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),m=r[s];l||(l=f),t[i]=d,r[i]=f;let y=s,E=0;for(;y!==i;)E+=t[y++],y=y%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),f-l<e)return;const C=m&&f-m;return C?Math.round(E*1e3/C):void 0}}function mq(n,e){let t=0,r=1e3/e,i,s;const l=(f,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n(...f)};return[(...f)=>{const m=Date.now(),y=m-t;y>=r?l(f,m):(i=f,s||(s=setTimeout(()=>{s=null,l(i)},r-y)))},()=>i&&l(i)]}const kg=(n,e,t=3)=>{let r=0;const i=pq(50,250);return mq(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,f=i(d),m=l<=u;r=l;const y={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(y)},t)},hC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},fC=n=>(...e)=>re.asap(()=>n(...e)),gq=Fn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Fn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,yq=Fn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _q(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function vq(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function QO(n,e,t){let r=!_q(e);return n&&(r||t==!1)?vq(n,e):e}const pC=n=>n instanceof ar?{...n}:n;function Il(n,e){e=e||{};const t={};function r(f,m,y,E){return re.isPlainObject(f)&&re.isPlainObject(m)?re.merge.call({caseless:E},f,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(f,m,y,E){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f,y,E)}else return r(f,m,y,E)}function s(f,m){if(!re.isUndefined(m))return r(void 0,m)}function l(f,m){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,y){if(y in e)return r(f,m);if(y in n)return r(void 0,f)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,y)=>i(pC(f),pC(m),y,!0)};return re.forEach(Object.keys({...n,...e}),function(m){const y=d[m]||i,E=y(n[m],e[m],m);re.isUndefined(E)&&y!==u||(t[m]=E)}),t}const YO=n=>{const e=Il({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;if(e.headers=l=ar.from(l),e.url=WO(QO(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),re.isFormData(t)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(re.isFunction(t.getHeaders)){const d=t.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,y])=>{f.includes(m.toLowerCase())&&l.set(m,y)})}}if(Fn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&gq(e.url))){const d=i&&s&&yq.read(s);d&&l.set(i,d)}return e},wq=typeof XMLHttpRequest<"u",Eq=wq&&function(n){return new Promise(function(t,r){const i=YO(n);let s=i.data;const l=ar.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=i,m,y,E,C,T;function P(){C&&C(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function j(){if(!k)return;const $=ar.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),q={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:$,config:n,request:k};GO(function(O){t(O),P()},function(O){r(O),P()},q),k=null}"onloadend"in k?k.onloadend=j:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(j)},k.onabort=function(){k&&(r(new Ue("Request aborted",Ue.ECONNABORTED,n,k)),k=null)},k.onerror=function(H){const q=H&&H.message?H.message:"Network Error",U=new Ue(q,Ue.ERR_NETWORK,n,k);U.event=H||null,r(U),k=null},k.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const q=i.transitional||qO;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Ue(H,q.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,n,k)),k=null},s===void 0&&l.setContentType(null),"setRequestHeader"in k&&re.forEach(l.toJSON(),function(H,q){k.setRequestHeader(q,H)}),re.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),u&&u!=="json"&&(k.responseType=i.responseType),f&&([E,T]=kg(f,!0),k.addEventListener("progress",E)),d&&k.upload&&([y,C]=kg(d),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(m=$=>{k&&(r(!$||$.type?new Mc(null,n,k):$),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const M=fq(i.url);if(M&&Fn.protocols.indexOf(M)===-1){r(new Ue("Unsupported protocol "+M+":",Ue.ERR_BAD_REQUEST,n));return}k.send(s||null)})},Iq=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(f){if(!i){i=!0,u();const m=f instanceof Error?f:this.reason;r.abort(m instanceof Ue?m:new Mc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),n=null)};n.forEach(f=>f.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},Tq=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Sq=async function*(n,e){for await(const t of Rq(n))yield*Tq(t,e)},Rq=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},mC=(n,e,t,r)=>{const i=Sq(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await i.next();if(f){u(),d.close();return}let y=m.byteLength;if(t){let E=s+=y;t(E)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},gC=64*1024,{isFunction:fm}=re,Aq=(({Request:n,Response:e})=>({Request:n,Response:e}))(re.global),{ReadableStream:yC,TextEncoder:_C}=re.global,vC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Pq=n=>{n=re.merge.call({skipUndefined:!0},Aq,n);const{fetch:e,Request:t,Response:r}=n,i=e?fm(e):typeof fetch=="function",s=fm(t),l=fm(r);if(!i)return!1;const u=i&&fm(yC),d=i&&(typeof _C=="function"?(T=>P=>T.encode(P))(new _C):async T=>new Uint8Array(await new t(T).arrayBuffer())),f=s&&u&&vC(()=>{let T=!1;const P=new t(Fn.origin,{body:new yC,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!P}),m=l&&u&&vC(()=>re.isReadableStream(new r("").body)),y={stream:m&&(T=>T.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!y[T]&&(y[T]=(P,k)=>{let j=P&&P[T];if(j)return j.call(P);throw new Ue(`Response type '${T}' is not supported`,Ue.ERR_NOT_SUPPORT,k)})});const E=async T=>{if(T==null)return 0;if(re.isBlob(T))return T.size;if(re.isSpecCompliantForm(T))return(await new t(Fn.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(re.isArrayBufferView(T)||re.isArrayBuffer(T))return T.byteLength;if(re.isURLSearchParams(T)&&(T=T+""),re.isString(T))return(await d(T)).byteLength},C=async(T,P)=>{const k=re.toFiniteNumber(T.getContentLength());return k??E(P)};return async T=>{let{url:P,method:k,data:j,signal:M,cancelToken:$,timeout:H,onDownloadProgress:q,onUploadProgress:U,responseType:O,headers:A,withCredentials:b="same-origin",fetchOptions:V}=YO(T),x=e||fetch;O=O?(O+"").toLowerCase():"text";let w=Iq([M,$&&$.toAbortSignal()],H),S=null;const z=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let L;try{if(U&&f&&k!=="get"&&k!=="head"&&(L=await C(A,j))!==0){let W=new t(P,{method:"POST",body:j,duplex:"half"}),ie;if(re.isFormData(j)&&(ie=W.headers.get("content-type"))&&A.setContentType(ie),W.body){const[ke,ve]=hC(L,kg(fC(U)));j=mC(W.body,gC,ke,ve)}}re.isString(b)||(b=b?"include":"omit");const oe=s&&"credentials"in t.prototype,ae={...V,signal:w,method:k.toUpperCase(),headers:A.normalize().toJSON(),body:j,duplex:"half",credentials:oe?b:void 0};S=s&&new t(P,ae);let Q=await(s?x(S,V):x(P,ae));const fe=m&&(O==="stream"||O==="response");if(m&&(q||fe&&z)){const W={};["status","statusText","headers"].forEach(De=>{W[De]=Q[De]});const ie=re.toFiniteNumber(Q.headers.get("content-length")),[ke,ve]=q&&hC(ie,kg(fC(q),!0))||[];Q=new r(mC(Q.body,gC,ke,()=>{ve&&ve(),z&&z()}),W)}O=O||"text";let ue=await y[re.findKey(y,O)||"text"](Q,T);return!fe&&z&&z(),await new Promise((W,ie)=>{GO(W,ie,{data:ue,headers:ar.from(Q.headers),status:Q.status,statusText:Q.statusText,config:T,request:S})})}catch(oe){throw z&&z(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,T,S),{cause:oe.cause||oe}):Ue.from(oe,oe&&oe.code,T,S)}}},Cq=new Map,JO=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:i}=e,s=[r,i,t];let l=s.length,u=l,d,f,m=Cq;for(;u--;)d=s[u],f=m.get(d),f===void 0&&m.set(d,f=u?new Map:Pq(e)),m=f;return f};JO();const fE={http:q8,xhr:Eq,fetch:{get:JO}};re.forEach(fE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const wC=n=>`- ${n}`,bq=n=>re.isFunction(n)||n===null||n===!1,XO={getAdapter:(n,e)=>{n=re.isArray(n)?n:[n];const{length:t}=n;let r,i;const s={};for(let l=0;l<t;l++){r=n[l];let u;if(i=r,!bq(r)&&(i=fE[(u=String(r)).toLowerCase()],i===void 0))throw new Ue(`Unknown adapter '${u}'`);if(i&&(re.isFunction(i)||(i=i.get(e))))break;s[u||"#"+l]=i}if(!i){const l=Object.entries(s).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(wC).join(`
`):" "+wC(l[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:fE};function nw(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Mc(null,n)}function EC(n){return nw(n),n.headers=ar.from(n.headers),n.data=tw.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),XO.getAdapter(n.adapter||Vf.adapter,n)(n).then(function(r){return nw(n),r.data=tw.call(n,n.transformResponse,r),r.headers=ar.from(r.headers),r},function(r){return KO(r)||(nw(n),r&&r.response&&(r.response.data=tw.call(n,n.transformResponse,r.response),r.response.headers=ar.from(r.response.headers))),Promise.reject(r)})}const ZO="1.12.2",Oy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Oy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const IC={};Oy.transitional=function(e,t,r){function i(s,l){return"[Axios v"+ZO+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new Ue(i(l," has been removed"+(t?" in "+t:"")),Ue.ERR_DEPRECATED);return t&&!IC[l]&&(IC[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};Oy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function kq(n,e,t){if(typeof n!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new Ue("option "+s+" must be "+d,Ue.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ue("Unknown option "+s,Ue.ERR_BAD_OPTION)}}const zm={assertOptions:kq,validators:Oy},xi=zm.validators;let ll=class{constructor(e){this.defaults=e||{},this.interceptors={request:new cC,response:new cC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Il(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&zm.assertOptions(r,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:zm.assertOptions(i,{encode:xi.function,serialize:xi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),zm.assertOptions(t,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),t.headers=ar.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(t)===!1||(d=d&&P.synchronous,u.unshift(P.fulfilled,P.rejected))});const f=[];this.interceptors.response.forEach(function(P){f.push(P.fulfilled,P.rejected)});let m,y=0,E;if(!d){const T=[EC.bind(this),void 0];for(T.unshift(...u),T.push(...f),E=T.length,m=Promise.resolve(t);y<E;)m=m.then(T[y++],T[y++]);return m}E=u.length;let C=t;for(;y<E;){const T=u[y++],P=u[y++];try{C=T(C)}catch(k){P.call(this,k);break}}try{m=EC.call(this,C)}catch(T){return Promise.reject(T)}for(y=0,E=f.length;y<E;)m=m.then(f[y++],f[y++]);return m}getUri(e){e=Il(this.defaults,e);const t=QO(e.baseURL,e.url,e.allowAbsoluteUrls);return WO(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){ll.prototype[e]=function(t,r){return this.request(Il(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(Il(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}ll.prototype[e]=t(),ll.prototype[e+"Form"]=t(!0)});let xq=class eD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new Mc(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new eD(function(i){e=i}),cancel:e}}};function Nq(n){return function(t){return n.apply(null,t)}}function Oq(n){return re.isObject(n)&&n.isAxiosError===!0}const pE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pE).forEach(([n,e])=>{pE[e]=n});function tD(n){const e=new ll(n),t=NO(ll.prototype.request,e);return re.extend(t,ll.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return tD(Il(n,i))},t}const bt=tD(Vf);bt.Axios=ll;bt.CanceledError=Mc;bt.CancelToken=xq;bt.isCancel=KO;bt.VERSION=ZO;bt.toFormData=Ny;bt.AxiosError=Ue;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=Nq;bt.isAxiosError=Oq;bt.mergeConfig=Il;bt.AxiosHeaders=ar;bt.formToJSON=n=>HO(re.isHTMLForm(n)?new FormData(n):n);bt.getAdapter=XO.getAdapter;bt.HttpStatusCode=pE;bt.default=bt;const{Axios:kY,AxiosError:xY,CanceledError:NY,isCancel:OY,CancelToken:DY,VERSION:LY,all:VY,Cancel:MY,isAxiosError:FY,spread:UY,toFormData:$Y,AxiosHeaders:jY,HttpStatusCode:BY,formToJSON:zY,getAdapter:WY,mergeConfig:qY}=bt;var Dq=RO();const Et=PE(Dq);function nD(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=nD(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function qo(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=nD(n))&&(r&&(r+=" "),r+=e);return r}function rD(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const Lq={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function iD(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const f=s[d];f&&(l+=(u===!0?"":" ")+e(f),u=!1,t&&t[f]&&(l+=" "+t[f]))}r[i]=l}return r}const Vq=G.createContext(),Mq=()=>G.useContext(Vq)??!1;function TC(n){try{return n.matches(":focus-visible")}catch{}return!1}const SC=n=>n,Fq=()=>{let n=SC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=SC}}},Uq=Fq();function Tl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function na(n){if(typeof n!="string")throw new Error(Tl(7));return n.charAt(0).toUpperCase()+n.slice(1)}var rw={exports:{}},ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC;function $q(){if(RC)return ft;RC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function T(P){if(typeof P=="object"&&P!==null){var k=P.$$typeof;switch(k){case n:switch(P=P.type,P){case t:case i:case r:case d:case f:case E:return P;default:switch(P=P&&P.$$typeof,P){case l:case u:case y:case m:return P;case s:return P;default:return k}}case e:return k}}}return ft.ContextConsumer=s,ft.ContextProvider=l,ft.Element=n,ft.ForwardRef=u,ft.Fragment=t,ft.Lazy=y,ft.Memo=m,ft.Portal=e,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=d,ft.SuspenseList=f,ft.isContextConsumer=function(P){return T(P)===s},ft.isContextProvider=function(P){return T(P)===l},ft.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===n},ft.isForwardRef=function(P){return T(P)===u},ft.isFragment=function(P){return T(P)===t},ft.isLazy=function(P){return T(P)===y},ft.isMemo=function(P){return T(P)===m},ft.isPortal=function(P){return T(P)===e},ft.isProfiler=function(P){return T(P)===i},ft.isStrictMode=function(P){return T(P)===r},ft.isSuspense=function(P){return T(P)===d},ft.isSuspenseList=function(P){return T(P)===f},ft.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===t||P===i||P===r||P===d||P===f||typeof P=="object"&&P!==null&&(P.$$typeof===y||P.$$typeof===m||P.$$typeof===l||P.$$typeof===s||P.$$typeof===u||P.$$typeof===C||P.getModuleId!==void 0)},ft.typeOf=T,ft}var AC;function jq(){return AC||(AC=1,rw.exports=$q()),rw.exports}var sD=jq();function bs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function oD(n){if(G.isValidElement(n)||sD.isValidElementType(n)||!bs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=oD(n[t])}),e}function Sr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return bs(n)&&bs(e)&&Object.keys(e).forEach(i=>{G.isValidElement(e[i])||sD.isValidElementType(e[i])?r[i]=e[i]:bs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&bs(n[i])?r[i]=Sr(n[i],e[i],t):t.clone?r[i]=bs(e[i])?oD(e[i]):e[i]:r[i]=e[i]}),r}function Rh(n,e){return e?Sr(n,e,{clone:!1}):n}function PC(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Bq(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function zq(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function Wq(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Dy={xs:0,sm:600,md:900,lg:1200,xl:1536},CC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Dy[n]}px)`},qq={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Dy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Ws(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||CC;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||CC;return Object.keys(e).reduce((l,u)=>{if(Bq(s.keys,u)){const d=zq(r.containerQueries?r:qq,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Dy).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function Hq(n={}){return n.keys?.reduce((t,r)=>{const i=n.up(r);return t[i]={},t},{})||{}}function bC(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Ly(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function xg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Ly(n,t)||r,e&&(i=e(i,r,n)),i}function Kt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,f=Ly(d,r)||{};return Ws(l,u,y=>{let E=xg(f,i,y);return y===E&&typeof y=="string"&&(E=xg(f,i,`${e}${y==="default"?"":na(y)}`,y)),t===!1?E:{[t]:E}})};return s.propTypes={},s.filterProps=[e],s}function Kq(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Gq={m:"margin",p:"padding"},Qq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},kC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yq=Kq(n=>{if(n.length>2)if(kC[n])n=kC[n];else return[n];const[e,t]=n.split(""),r=Gq[e],i=Qq[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),NT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],OT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...NT,...OT];function Mf(n,e,t,r){const i=Ly(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:()=>{}}function DT(n){return Mf(n,"spacing",8)}function Ff(n,e){return typeof e=="string"||e==null?e:n(e)}function Jq(n,e){return t=>n.reduce((r,i)=>(r[i]=Ff(e,t),r),{})}function Xq(n,e,t,r){if(!e.includes(t))return null;const i=Yq(t),s=Jq(i,r),l=n[t];return Ws(n,l,s)}function aD(n,e){const t=DT(n.theme);return Object.keys(n).map(r=>Xq(n,e,r,t)).reduce(Rh,{})}function Mt(n){return aD(n,NT)}Mt.propTypes={};Mt.filterProps=NT;function Ft(n){return aD(n,OT)}Ft.propTypes={};Ft.filterProps=OT;function Vy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?Rh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Mr(n){return typeof n!="number"?n:`${n}px solid`}function zr(n,e){return Kt({prop:n,themeKey:"borders",transform:e})}const Zq=zr("border",Mr),eH=zr("borderTop",Mr),tH=zr("borderRight",Mr),nH=zr("borderBottom",Mr),rH=zr("borderLeft",Mr),iH=zr("borderColor"),sH=zr("borderTopColor"),oH=zr("borderRightColor"),aH=zr("borderBottomColor"),lH=zr("borderLeftColor"),uH=zr("outline",Mr),cH=zr("outlineColor"),My=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Mf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ff(e,r)});return Ws(n,n.borderRadius,t)}return null};My.propTypes={};My.filterProps=["borderRadius"];Vy(Zq,eH,tH,nH,rH,iH,sH,oH,aH,lH,My,uH,cH);const Fy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({gap:Ff(e,r)});return Ws(n,n.gap,t)}return null};Fy.propTypes={};Fy.filterProps=["gap"];const Uy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({columnGap:Ff(e,r)});return Ws(n,n.columnGap,t)}return null};Uy.propTypes={};Uy.filterProps=["columnGap"];const $y=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({rowGap:Ff(e,r)});return Ws(n,n.rowGap,t)}return null};$y.propTypes={};$y.filterProps=["rowGap"];const dH=Kt({prop:"gridColumn"}),hH=Kt({prop:"gridRow"}),fH=Kt({prop:"gridAutoFlow"}),pH=Kt({prop:"gridAutoColumns"}),mH=Kt({prop:"gridAutoRows"}),gH=Kt({prop:"gridTemplateColumns"}),yH=Kt({prop:"gridTemplateRows"}),_H=Kt({prop:"gridTemplateAreas"}),vH=Kt({prop:"gridArea"});Vy(Fy,Uy,$y,dH,hH,fH,pH,mH,gH,yH,_H,vH);function Hu(n,e){return e==="grey"?e:n}const wH=Kt({prop:"color",themeKey:"palette",transform:Hu}),EH=Kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Hu}),IH=Kt({prop:"backgroundColor",themeKey:"palette",transform:Hu});Vy(wH,EH,IH);function Er(n){return n<=1&&n!==0?`${n*100}%`:n}const TH=Kt({prop:"width",transform:Er}),LT=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||Dy[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Er(t)}};return Ws(n,n.maxWidth,e)}return null};LT.filterProps=["maxWidth"];const SH=Kt({prop:"minWidth",transform:Er}),RH=Kt({prop:"height",transform:Er}),AH=Kt({prop:"maxHeight",transform:Er}),PH=Kt({prop:"minHeight",transform:Er});Kt({prop:"size",cssProperty:"width",transform:Er});Kt({prop:"size",cssProperty:"height",transform:Er});const CH=Kt({prop:"boxSizing"});Vy(TH,LT,SH,RH,AH,PH,CH);const jy={border:{themeKey:"borders",transform:Mr},borderTop:{themeKey:"borders",transform:Mr},borderRight:{themeKey:"borders",transform:Mr},borderBottom:{themeKey:"borders",transform:Mr},borderLeft:{themeKey:"borders",transform:Mr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:My},color:{themeKey:"palette",transform:Hu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Hu},backgroundColor:{themeKey:"palette",transform:Hu},p:{style:Ft},pt:{style:Ft},pr:{style:Ft},pb:{style:Ft},pl:{style:Ft},px:{style:Ft},py:{style:Ft},padding:{style:Ft},paddingTop:{style:Ft},paddingRight:{style:Ft},paddingBottom:{style:Ft},paddingLeft:{style:Ft},paddingX:{style:Ft},paddingY:{style:Ft},paddingInline:{style:Ft},paddingInlineStart:{style:Ft},paddingInlineEnd:{style:Ft},paddingBlock:{style:Ft},paddingBlockStart:{style:Ft},paddingBlockEnd:{style:Ft},m:{style:Mt},mt:{style:Mt},mr:{style:Mt},mb:{style:Mt},ml:{style:Mt},mx:{style:Mt},my:{style:Mt},margin:{style:Mt},marginTop:{style:Mt},marginRight:{style:Mt},marginBottom:{style:Mt},marginLeft:{style:Mt},marginX:{style:Mt},marginY:{style:Mt},marginInline:{style:Mt},marginInlineStart:{style:Mt},marginInlineEnd:{style:Mt},marginBlock:{style:Mt},marginBlockStart:{style:Mt},marginBlockEnd:{style:Mt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Fy},rowGap:{style:$y},columnGap:{style:Uy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Er},maxWidth:{style:LT},minWidth:{transform:Er},height:{transform:Er},maxHeight:{transform:Er},minHeight:{transform:Er},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function bH(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function kH(n,e){return typeof n=="function"?n(e):n}function xH(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:m,style:y}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const E=Ly(i,f)||{};return y?y(l):Ws(l,r,T=>{let P=xg(E,m,T);return T===P&&typeof T=="string"&&(P=xg(E,m,`${t}${T==="default"?"":na(T)}`,T)),d===!1?P:{[d]:P}})}function e(t){const{sx:r,theme:i={},nested:s}=t||{};if(!r)return null;const l=i.unstable_sxConfig??jy;function u(d){let f=d;if(typeof d=="function")f=d(i);else if(typeof d!="object")return d;if(!f)return null;const m=Hq(i.breakpoints),y=Object.keys(m);let E=m;return Object.keys(f).forEach(C=>{const T=kH(f[C],i);if(T!=null)if(typeof T=="object")if(l[C])E=Rh(E,n(C,T,i,l));else{const P=Ws({theme:i},T,k=>({[C]:k}));bH(P,T)?E[C]=e({sx:T,theme:i,nested:!0}):E=Rh(E,P)}else E=Rh(E,n(C,T,i,l))}),!s&&i.modularCssLayers?{"@layer sx":PC(i,bC(y,E))}:PC(i,bC(y,E))}return Array.isArray(r)?r.map(u):u(r)}return e}const _c=xH();_c.filterProps=["sx"];function mE(){return mE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mE.apply(null,arguments)}function NH(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function OH(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var DH=(function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=NH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n})(),Ln="-ms-",Ng="-moz-",rt="-webkit-",lD="comm",VT="rule",MT="decl",LH="@import",uD="@keyframes",VH="@layer",MH=Math.abs,By=String.fromCharCode,FH=Object.assign;function UH(n,e){return Tn(n,0)^45?(((e<<2^Tn(n,0))<<2^Tn(n,1))<<2^Tn(n,2))<<2^Tn(n,3):0}function cD(n){return n.trim()}function $H(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function gE(n,e){return n.indexOf(e)}function Tn(n,e){return n.charCodeAt(e)|0}function Xh(n,e,t){return n.slice(e,t)}function Li(n){return n.length}function FT(n){return n.length}function pm(n,e){return e.push(n),n}function jH(n,e){return n.map(e).join("")}var zy=1,vc=1,dD=0,lr=0,Zt=0,Fc="";function Wy(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:zy,column:vc,length:l,return:""}}function Gd(n,e){return FH(Wy("",null,null,"",null,null,0),n,{length:-n.length},e)}function BH(){return Zt}function zH(){return Zt=lr>0?Tn(Fc,--lr):0,vc--,Zt===10&&(vc=1,zy--),Zt}function Rr(){return Zt=lr<dD?Tn(Fc,lr++):0,vc++,Zt===10&&(vc=1,zy++),Zt}function Yi(){return Tn(Fc,lr)}function Wm(){return lr}function Uf(n,e){return Xh(Fc,n,e)}function Zh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hD(n){return zy=vc=1,dD=Li(Fc=n),lr=0,[]}function fD(n){return Fc="",n}function qm(n){return cD(Uf(lr-1,yE(n===91?n+2:n===40?n+1:n)))}function WH(n){for(;(Zt=Yi())&&Zt<33;)Rr();return Zh(n)>2||Zh(Zt)>3?"":" "}function qH(n,e){for(;--e&&Rr()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return Uf(n,Wm()+(e<6&&Yi()==32&&Rr()==32))}function yE(n){for(;Rr();)switch(Zt){case n:return lr;case 34:case 39:n!==34&&n!==39&&yE(Zt);break;case 40:n===41&&yE(n);break;case 92:Rr();break}return lr}function HH(n,e){for(;Rr()&&n+Zt!==57;)if(n+Zt===84&&Yi()===47)break;return"/*"+Uf(e,lr-1)+"*"+By(n===47?n:Rr())}function KH(n){for(;!Zh(Yi());)Rr();return Uf(n,lr)}function GH(n){return fD(Hm("",null,null,null,[""],n=hD(n),0,[0],n))}function Hm(n,e,t,r,i,s,l,u,d){for(var f=0,m=0,y=l,E=0,C=0,T=0,P=1,k=1,j=1,M=0,$="",H=i,q=s,U=r,O=$;k;)switch(T=M,M=Rr()){case 40:if(T!=108&&Tn(O,y-1)==58){gE(O+=it(qm(M),"&","&\f"),"&\f")!=-1&&(j=-1);break}case 34:case 39:case 91:O+=qm(M);break;case 9:case 10:case 13:case 32:O+=WH(T);break;case 92:O+=qH(Wm()-1,7);continue;case 47:switch(Yi()){case 42:case 47:pm(QH(HH(Rr(),Wm()),e,t),d);break;default:O+="/"}break;case 123*P:u[f++]=Li(O)*j;case 125*P:case 59:case 0:switch(M){case 0:case 125:k=0;case 59+m:j==-1&&(O=it(O,/\f/g,"")),C>0&&Li(O)-y&&pm(C>32?NC(O+";",r,t,y-1):NC(it(O," ","")+";",r,t,y-2),d);break;case 59:O+=";";default:if(pm(U=xC(O,e,t,f,m,i,u,$,H=[],q=[],y),s),M===123)if(m===0)Hm(O,e,U,U,H,s,y,u,q);else switch(E===99&&Tn(O,3)===110?100:E){case 100:case 108:case 109:case 115:Hm(n,U,U,r&&pm(xC(n,U,U,0,0,i,u,$,i,H=[],y),q),i,q,y,u,r?H:q);break;default:Hm(O,U,U,U,[""],q,0,u,q)}}f=m=C=0,P=j=1,$=O="",y=l;break;case 58:y=1+Li(O),C=T;default:if(P<1){if(M==123)--P;else if(M==125&&P++==0&&zH()==125)continue}switch(O+=By(M),M*P){case 38:j=m>0?1:(O+="\f",-1);break;case 44:u[f++]=(Li(O)-1)*j,j=1;break;case 64:Yi()===45&&(O+=qm(Rr())),E=Yi(),m=y=Li($=O+=KH(Wm())),M++;break;case 45:T===45&&Li(O)==2&&(P=0)}}return s}function xC(n,e,t,r,i,s,l,u,d,f,m){for(var y=i-1,E=i===0?s:[""],C=FT(E),T=0,P=0,k=0;T<r;++T)for(var j=0,M=Xh(n,y+1,y=MH(P=l[T])),$=n;j<C;++j)($=cD(P>0?E[j]+" "+M:it(M,/&\f/g,E[j])))&&(d[k++]=$);return Wy(n,e,t,i===0?VT:u,d,f,m)}function QH(n,e,t){return Wy(n,e,t,lD,By(BH()),Xh(n,2,-2),0)}function NC(n,e,t,r){return Wy(n,e,t,MT,Xh(n,0,r),Xh(n,r+1,-1),r)}function Ku(n,e){for(var t="",r=FT(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function YH(n,e,t,r){switch(n.type){case VH:if(n.children.length)break;case LH:case MT:return n.return=n.return||n.value;case lD:return"";case uD:return n.return=n.value+"{"+Ku(n.children,r)+"}";case VT:n.value=n.props.join(",")}return Li(t=Ku(n.children,r))?n.return=n.value+"{"+t+"}":""}function JH(n){var e=FT(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function XH(n){return function(e){e.root||(e=e.return)&&n(e)}}function pD(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var ZH=function(e,t,r){for(var i=0,s=0;i=s,s=Yi(),i===38&&s===12&&(t[r]=1),!Zh(s);)Rr();return Uf(e,lr)},e7=function(e,t){var r=-1,i=44;do switch(Zh(i)){case 0:i===38&&Yi()===12&&(t[r]=1),e[r]+=ZH(lr-1,t,r);break;case 2:e[r]+=qm(i);break;case 4:if(i===44){e[++r]=Yi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=By(i)}while(i=Rr());return e},t7=function(e,t){return fD(e7(hD(e),t))},OC=new WeakMap,n7=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!OC.get(r))&&!i){OC.set(e,!0);for(var s=[],l=t7(t,s),u=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<u.length;m++,f++)e.props[f]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},r7=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function mD(n,e){switch(UH(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Ng+n+Ln+n+n;case 6828:case 4268:return rt+n+Ln+n+n;case 6165:return rt+n+Ln+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+Ln+"flex-$1$2")+n;case 5443:return rt+n+Ln+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+Ln+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+Ln+it(n,"shrink","negative")+n;case 5292:return rt+n+Ln+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+Ln+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+Ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Li(n)-1-e>6)switch(Tn(n,e+1)){case 109:if(Tn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Ng+(Tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~gE(n,"stretch")?mD(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Tn(n,e+1)!==115)break;case 6444:switch(Tn(n,Li(n)-3-(~gE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Tn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+Ln+"$2box$3")+n}break;case 5936:switch(Tn(n,e+11)){case 114:return rt+n+Ln+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+Ln+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+Ln+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+Ln+n+n}return n}var i7=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case MT:e.return=mD(e.value,e.length);break;case uD:return Ku([Gd(e,{value:it(e.value,"@","@"+rt)})],i);case VT:if(e.length)return jH(e.props,function(s){switch($H(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ku([Gd(e,{props:[it(s,/:(read-\w+)/,":"+Ng+"$1")]})],i);case"::placeholder":return Ku([Gd(e,{props:[it(s,/:(plac\w+)/,":"+rt+"input-$1")]}),Gd(e,{props:[it(s,/:(plac\w+)/,":"+Ng+"$1")]}),Gd(e,{props:[it(s,/:(plac\w+)/,Ln+"input-$1")]})],i)}return""})}},s7=[i7],o7=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var k=P.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var i=e.stylisPlugins||s7,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(P){for(var k=P.getAttribute("data-emotion").split(" "),j=1;j<k.length;j++)s[k[j]]=!0;u.push(P)});var d,f=[n7,r7];{var m,y=[YH,XH(function(P){m.insert(P)})],E=JH(f.concat(i,y)),C=function(k){return Ku(GH(k),E)};d=function(k,j,M,$){m=M,C(k?k+"{"+j.styles+"}":j.styles),$&&(T.inserted[j.name]=!0)}}var T={key:t,sheet:new DH({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return T.sheet.hydrate(u),T},a7=!0;function l7(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var gD=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||a7===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},u7=function(e,t,r){gD(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function c7(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var d7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},h7=/[A-Z]|^ms/g,f7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yD=function(e){return e.charCodeAt(1)===45},DC=function(e){return e!=null&&typeof e!="boolean"},iw=pD(function(n){return yD(n)?n:n.replace(h7,"-$&").toLowerCase()}),LC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(f7,function(r,i,s){return Vi={name:i,styles:s,next:Vi},i})}return d7[e]!==1&&!yD(e)&&typeof t=="number"&&t!==0?t+"px":t};function ef(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Vi={name:i.name,styles:i.styles,next:Vi},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Vi={name:l.name,styles:l.styles,next:Vi},l=l.next;var u=s.styles+";";return u}return p7(n,e,t)}case"function":{if(n!==void 0){var d=Vi,f=t(n);return Vi=d,ef(n,e,f)}break}}var m=t;if(e==null)return m;var y=e[m];return y!==void 0?y:m}function p7(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ef(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":DC(u)&&(r+=iw(s)+":"+LC(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)DC(l[d])&&(r+=iw(s)+":"+LC(s,l[d])+";");else{var f=ef(n,e,l);switch(s){case"animation":case"animationName":{r+=iw(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var VC=/label:\s*([^\s;{]+)\s*(;|$)/g,Vi;function _D(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Vi=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=ef(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=ef(t,e,n[u]),r){var d=s;i+=d[u]}VC.lastIndex=0;for(var f="",m;(m=VC.exec(i))!==null;)f+="-"+m[1];var y=c7(i)+f;return{name:y,styles:i,next:Vi}}var m7=function(e){return e()},g7=cw.useInsertionEffect?cw.useInsertionEffect:!1,y7=g7||m7,vD=G.createContext(typeof HTMLElement<"u"?o7({key:"css"}):null);vD.Provider;var _7=function(e){return G.forwardRef(function(t,r){var i=G.useContext(vD);return e(t,i,r)})},v7=G.createContext({}),w7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,E7=pD(function(n){return w7.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),I7=E7,T7=function(e){return e!=="theme"},MC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?I7:T7},FC=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},S7=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return gD(t,r,i),y7(function(){return u7(t,r,i)}),null},R7=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=FC(e,t,r),d=u||MC(i),f=!d("as");return function(){var m=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&y.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)y.push.apply(y,m);else{var E=m[0];y.push(E[0]);for(var C=m.length,T=1;T<C;T++)y.push(m[T],E[T])}var P=_7(function(k,j,M){var $=f&&k.as||i,H="",q=[],U=k;if(k.theme==null){U={};for(var O in k)U[O]=k[O];U.theme=G.useContext(v7)}typeof k.className=="string"?H=l7(j.registered,q,k.className):k.className!=null&&(H=k.className+" ");var A=_D(y.concat(q),j.registered,U);H+=j.key+"-"+A.name,l!==void 0&&(H+=" "+l);var b=f&&u===void 0?MC($):d,V={};for(var x in k)f&&x==="as"||b(x)&&(V[x]=k[x]);return V.className=H,M&&(V.ref=M),G.createElement(G.Fragment,null,G.createElement(S7,{cache:j,serialized:A,isStringTag:typeof $=="string"}),G.createElement($,V))});return P.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",P.defaultProps=e.defaultProps,P.__emotion_real=P,P.__emotion_base=i,P.__emotion_styles=y,P.__emotion_forwardProp=u,Object.defineProperty(P,"toString",{value:function(){return"."+l}}),P.withComponent=function(k,j){var M=n(k,mE({},t,j,{shouldForwardProp:FC(P,j,!0)}));return M.apply(void 0,y)},P}},A7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_E=R7.bind(null);A7.forEach(function(n){_E[n]=_E(n)});function P7(n,e){return _E(n,e)}function C7(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const UC=[];function ul(n){return UC[0]=n,_D(UC)}const b7=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function k7(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=b7(e),l=Object.keys(s);function u(E){return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t})`}function d(E){return`@media (max-width:${(typeof e[E]=="number"?e[E]:E)-r/100}${t})`}function f(E,C){const T=l.indexOf(C);return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t}) and (max-width:${(T!==-1&&typeof e[l[T]]=="number"?e[l[T]]:C)-r/100}${t})`}function m(E){return l.indexOf(E)+1<l.length?f(E,l[l.indexOf(E)+1]):u(E)}function y(E){const C=l.indexOf(E);return C===0?u(l[1]):C===l.length-1?d(l[C]):f(E,l[l.indexOf(E)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:f,only:m,not:y,unit:t,...i}}const x7={borderRadius:4};function wD(n=8,e=DT({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function N7(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function ED(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=k7(t),d=wD(i);let f=Sr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...x7,...s}},l);return f=Wq(f),f.applyStyles=N7,f=e.reduce((m,y)=>Sr(m,y),f),f.unstable_sxConfig={...jy,...l?.unstable_sxConfig},f.unstable_sx=function(y){return _c({sx:y,theme:this})},f}const O7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function UT(n,e,t="Mui"){const r=O7[e];return r?`${t}-${r}`:`${Uq.generate(n)}-${e}`}function ID(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=UT(n,i,t)}),r}function TD(n){const{variants:e,...t}=n,r={variants:e,style:ul(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=ul(i.style))}),r}const D7=ED();function sw(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function il(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function L7(n){return n?(e,t)=>t[n]:null}function V7(n,e,t){n.theme=U7(n.theme)?t:n.theme[e]||n.theme}function Km(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(i=>Km(n,i,t));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=t?il(r.style,t):r.style;else{const{variants:s,...l}=r;i=t?il(ul(l),t):l}return SD(n,r.variants,[i],t)}return r?.isProcessed?t?il(ul(r.style),t):r.style:t?il(ul(r),t):r}function SD(n,e,t=[],r=void 0){let i;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(i??={...n,...n.ownerState,ownerState:n.ownerState},!l.props(i))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&n.ownerState?.[u]!==l.props[u])continue e;typeof l.style=="function"?(i??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?il(ul(l.style(i)),r):l.style(i))):t.push(r?il(ul(l.style),r):l.style)}return t}function M7(n={}){const{themeId:e,defaultTheme:t=D7,rootShouldForwardProp:r=sw,slotShouldForwardProp:i=sw}=n;function s(u){V7(u,e,t)}return(u,d={})=>{C7(u,U=>U.filter(O=>O!==_c));const{name:f,slot:m,skipVariantsResolver:y,skipSx:E,overridesResolver:C=L7(j7(m)),...T}=d,P=f&&f.startsWith("Mui")||m?"components":"custom",k=y!==void 0?y:m&&m!=="Root"&&m!=="root"||!1,j=E||!1;let M=sw;m==="Root"||m==="root"?M=r:m?M=i:$7(u)&&(M=void 0);const $=P7(u,{shouldForwardProp:M,label:F7(),...T}),H=U=>{if(U.__emotion_real===U)return U;if(typeof U=="function")return function(A){return Km(A,U,A.theme.modularCssLayers?P:void 0)};if(bs(U)){const O=TD(U);return function(b){return O.variants?Km(b,O,b.theme.modularCssLayers?P:void 0):b.theme.modularCssLayers?il(O.style,P):O.style}}return U},q=(...U)=>{const O=[],A=U.map(H),b=[];if(O.push(s),f&&C&&b.push(function(S){const L=S.theme.components?.[f]?.styleOverrides;if(!L)return null;const oe={};for(const ae in L)oe[ae]=Km(S,L[ae],S.theme.modularCssLayers?"theme":void 0);return C(S,oe)}),f&&!k&&b.push(function(S){const L=S.theme?.components?.[f]?.variants;return L?SD(S,L,[],S.theme.modularCssLayers?"theme":void 0):null}),j||b.push(_c),Array.isArray(A[0])){const w=A.shift(),S=new Array(O.length).fill(""),z=new Array(b.length).fill("");let L;L=[...S,...w,...z],L.raw=[...S,...w.raw,...z],O.unshift(L)}const V=[...O,...A,...b],x=$(...V);return u.muiName&&(x.muiName=u.muiName),x};return $.withConfig&&(q.withConfig=$.withConfig),q}}function F7(n,e){return void 0}function U7(n){for(const e in n)return!1;return!0}function $7(n){return typeof n=="string"&&n.charCodeAt(0)>96}function j7(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function vE(n,e,t=!1){const r={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")r[s]={...n[s],...r[s]};else if(s==="componentsProps"||s==="slotProps"){const l=n[s],u=e[s];if(!u)r[s]=l||{};else if(!l)r[s]=u;else{r[s]={...u};for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=d;r[s][f]=vE(l[f],u[f],t)}}}else s==="className"&&t&&e.className?r.className=qo(n?.className,e?.className):s==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[s]===void 0&&(r[s]=n[s])}return r}function $T(n,e=0,t=1){return rD(n,e,t)}function B7(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ra(n){if(n.type)return n;if(n.charAt(0)==="#")return ra(B7(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Tl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Tl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const z7=n=>{const e=ra(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},ah=(n,e)=>{try{return z7(n)}catch{return n}};function qy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function RD(n){n=ra(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(f,m=(f+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),qy({type:u,values:d})}function wE(n){n=ra(n);let e=n.type==="hsl"||n.type==="hsla"?ra(RD(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function W7(n,e){const t=wE(n),r=wE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function AD(n,e){return n=ra(n),e=$T(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,qy(n)}function Ba(n,e,t){try{return AD(n,e)}catch{return n}}function Hy(n,e){if(n=ra(n),e=$T(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return qy(n)}function lt(n,e,t){try{return Hy(n,e)}catch{return n}}function Ky(n,e){if(n=ra(n),e=$T(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return qy(n)}function ut(n,e,t){try{return Ky(n,e)}catch{return n}}function q7(n,e=.15){return wE(n)>.5?Hy(n,e):Ky(n,e)}function mm(n,e,t){try{return q7(n,e)}catch{return n}}const H7=G.createContext(void 0);function K7(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?vE(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?vE(i,r,e.components.mergeClassNameAndStyle):r}function G7({props:n,name:e}){const t=G.useContext(H7);return K7({props:n,name:e,theme:{components:t}})}let $C=0;function Q7(n){const[e,t]=G.useState(n),r=n||e;return G.useEffect(()=>{e==null&&($C+=1,t(`mui-${$C}`))},[e]),r}const Y7={...cw},jC=Y7.useId;function PD(n){if(jC!==void 0){const e=jC();return n??e}return Q7(n)}const BC={theme:void 0};function J7(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(BC.theme=i.theme,s=TD(n(BC)),e=s,t=i.theme),s}}function X7(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const zC=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Z7=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},eK=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ow(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return Z7(n,(u,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,y=eK(u,d);Object.assign(i,{[m]:y}),zC(s,u,`var(${m})`,f),zC(l,u,`var(${m}, ${y})`,f)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function tK(n,e={}){const{getSelector:t=j,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:s}=e,{colorSchemes:l={},components:u,defaultColorScheme:d="light",...f}=n,{vars:m,css:y,varsWithDefaults:E}=ow(f,e);let C=E;const T={},{[d]:P,...k}=l;if(Object.entries(k||{}).forEach(([H,q])=>{const{vars:U,css:O,varsWithDefaults:A}=ow(q,e);C=Sr(C,A),T[H]={css:O,vars:U}}),P){const{css:H,vars:q,varsWithDefaults:U}=ow(P,e);C=Sr(C,U),T[d]={css:H,vars:q}}function j(H,q){let U=i;if(i==="class"&&(U=".%s"),i==="data"&&(U="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(U=`[${i}="%s"]`),H){if(U==="media")return n.defaultColorScheme===H?":root":{[`@media (prefers-color-scheme: ${l[H]?.palette?.mode||H})`]:{":root":q}};if(U)return n.defaultColorScheme===H?`:root, ${U.replace("%s",String(H))}`:U.replace("%s",String(H))}return":root"}return{vars:C,generateThemeVars:()=>{let H={...m};return Object.entries(T).forEach(([,{vars:q}])=>{H=Sr(H,q)}),H},generateStyleSheets:()=>{const H=[],q=n.defaultColorScheme||"light";function U(b,V){Object.keys(V).length&&H.push(typeof b=="string"?{[b]:{...V}}:b)}U(t(void 0,{...y}),y);const{[q]:O,...A}=T;if(O){const{css:b}=O,V=l[q]?.palette?.mode,x=!r&&V?{colorScheme:V,...b}:{...b};U(t(q,{...x}),x)}return Object.entries(A).forEach(([b,{css:V}])=>{const x=l[b]?.palette?.mode,w=!r&&x?{colorScheme:x,...V}:{...V};U(t(b,{...w}),w)}),s&&H.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),H}}}function nK(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const tf={black:"#000",white:"#fff"},rK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Iu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Tu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Qd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Su={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ru={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Au={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function CD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tf.white,default:tf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const bD=CD();function kD(){return{text:{primary:tf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const EE=kD();function WC(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Ky(n.main,i):e==="dark"&&(n.dark=Hy(n.main,s)))}function qC(n,e,t,r,i){const s=i.light||i,l=i.dark||i*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(l*100).toFixed(0)}%)`))}function iK(n="light"){return n==="dark"?{main:Su[200],light:Su[50],dark:Su[400]}:{main:Su[700],light:Su[400],dark:Su[800]}}function sK(n="light"){return n==="dark"?{main:Iu[200],light:Iu[50],dark:Iu[400]}:{main:Iu[500],light:Iu[300],dark:Iu[700]}}function oK(n="light"){return n==="dark"?{main:Tu[500],light:Tu[300],dark:Tu[700]}:{main:Tu[700],light:Tu[400],dark:Tu[800]}}function aK(n="light"){return n==="dark"?{main:Ru[400],light:Ru[300],dark:Ru[700]}:{main:Ru[700],light:Ru[500],dark:Ru[900]}}function lK(n="light"){return n==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[800],light:Au[500],dark:Au[900]}}function uK(n="light"){return n==="dark"?{main:Qd[400],light:Qd[300],dark:Qd[700]}:{main:"#ed6c02",light:Qd[500],dark:Qd[900]}}function cK(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function jT(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,colorSpace:i,...s}=n,l=n.primary||iK(e),u=n.secondary||sK(e),d=n.error||oK(e),f=n.info||aK(e),m=n.success||lK(e),y=n.warning||uK(e);function E(k){return i?cK(k):W7(k,EE.text.primary)>=t?EE.text.primary:bD.text.primary}const C=({color:k,name:j,mainShade:M=500,lightShade:$=300,darkShade:H=700})=>{if(k={...k},!k.main&&k[M]&&(k.main=k[M]),!k.hasOwnProperty("main"))throw new Error(Tl(11,j?` (${j})`:"",M));if(typeof k.main!="string")throw new Error(Tl(12,j?` (${j})`:"",JSON.stringify(k.main)));return i?(qC(i,k,"light",$,r),qC(i,k,"dark",H,r)):(WC(k,"light",$,r),WC(k,"dark",H,r)),k.contrastText||(k.contrastText=E(k.main)),k};let T;return e==="light"?T=CD():e==="dark"&&(T=kD()),Sr({common:{...tf},mode:e,primary:C({color:l,name:"primary"}),secondary:C({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:d,name:"error"}),warning:C({color:y,name:"warning"}),info:C({color:f,name:"info"}),success:C({color:m,name:"success"}),grey:rK,contrastThreshold:t,getContrastText:E,augmentColor:C,tonalOffset:r,...T},s)}function dK(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function hK(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function fK(n){return Math.round(n*1e5)/1e5}const HC={textTransform:"uppercase"},KC='"Roboto", "Helvetica", "Arial", sans-serif';function pK(n,e){const{fontFamily:t=KC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:m,...y}=typeof e=="function"?e(n):e,E=r/14,C=m||(k=>`${k/d*E}rem`),T=(k,j,M,$,H)=>({fontFamily:t,fontWeight:k,fontSize:C(j),lineHeight:M,...t===KC?{letterSpacing:`${fK($/j)}em`}:{},...H,...f}),P={h1:T(i,96,1.167,-1.5),h2:T(i,60,1.2,-.5),h3:T(s,48,1.167,0),h4:T(s,34,1.235,.25),h5:T(s,24,1.334,0),h6:T(l,20,1.6,.15),subtitle1:T(s,16,1.75,.15),subtitle2:T(l,14,1.57,.1),body1:T(s,16,1.5,.15),body2:T(s,14,1.43,.15),button:T(l,14,1.75,.4,HC),caption:T(s,12,1.66,.4),overline:T(s,12,2.66,1,HC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Sr({htmlFontSize:d,pxToRem:C,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...P},y,{clone:!1})}const mK=.2,gK=.14,yK=.12;function Rt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${mK})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${gK})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${yK})`].join(",")}const _K=["none",Rt(0,2,1,-1,0,1,1,0,0,1,3,0),Rt(0,3,1,-2,0,2,2,0,0,1,5,0),Rt(0,3,3,-2,0,3,4,0,0,1,8,0),Rt(0,2,4,-1,0,4,5,0,0,1,10,0),Rt(0,3,5,-1,0,5,8,0,0,1,14,0),Rt(0,3,5,-1,0,6,10,0,0,1,18,0),Rt(0,4,5,-2,0,7,10,1,0,2,16,1),Rt(0,5,5,-3,0,8,10,1,0,3,14,2),Rt(0,5,6,-3,0,9,12,1,0,3,16,2),Rt(0,6,6,-3,0,10,14,1,0,4,18,3),Rt(0,6,7,-4,0,11,15,1,0,4,20,3),Rt(0,7,8,-4,0,12,17,2,0,5,22,4),Rt(0,7,8,-4,0,13,19,2,0,5,24,4),Rt(0,7,9,-4,0,14,21,2,0,5,26,4),Rt(0,8,9,-5,0,15,22,2,0,6,28,5),Rt(0,8,10,-5,0,16,24,2,0,6,30,5),Rt(0,8,11,-5,0,17,26,2,0,6,32,5),Rt(0,9,11,-5,0,18,28,2,0,7,34,6),Rt(0,9,12,-6,0,19,29,2,0,7,36,6),Rt(0,10,13,-6,0,20,31,3,0,8,38,7),Rt(0,10,13,-6,0,21,33,3,0,8,40,7),Rt(0,10,14,-6,0,22,35,3,0,8,42,7),Rt(0,11,14,-7,0,23,36,3,0,9,44,8),Rt(0,11,15,-7,0,24,38,3,0,9,46,8)],vK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GC(n){return`${Math.round(n)}ms`}function EK(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function IK(n){const e={...vK,...n.easing},t={...wK,...n.duration};return{getAutoHeightDuration:EK,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...f}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:GC(l)} ${u} ${typeof d=="string"?d:GC(d)}`).join(",")},...n,easing:e,duration:t}}const TK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function SK(n){return bs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function xD(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!SK(u)||l.startsWith("unstable_")?delete r[l]:bs(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function QC(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const RK=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let r=0;r<e.length;r+=1)t+=+e[r];return t};function AK(n){Object.assign(n,{alpha(e,t){const r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:AD(e,RK(t))},lighten(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${QC(t)})`:Ky(e,t)},darken(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${QC(t)})`:Hy(e,t)}})}function IE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,colorSpace:f,...m}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Tl(20));const y=jT({...s,colorSpace:f}),E=ED(n);let C=Sr(E,{mixins:hK(E.breakpoints,r),palette:y,shadows:_K.slice(),typography:pK(y,u),transitions:IK(l),zIndex:{...TK}});return C=Sr(C,m),C=e.reduce((T,P)=>Sr(T,P),C),C.unstable_sxConfig={...jy,...m?.unstable_sxConfig},C.unstable_sx=function(P){return _c({sx:P,theme:this})},C.toRuntimeSource=xD,AK(C),C}function PK(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const CK=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=PK(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function ND(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function OD(n){return n==="dark"?CK:[]}function bK(n){const{palette:e={mode:"light"},opacity:t,overlays:r,colorSpace:i,...s}=n,l=jT({...e,colorSpace:i});return{palette:l,opacity:{...ND(l.mode),...t},overlays:r||OD(l.mode),...s}}function kK(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const xK=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],NK=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return xK(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function OK(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function lh(n){return typeof n!="string"||!n.startsWith("hsl")?n:RD(n)}function As(n,e){`${e}Channel`in n||(n[`${e}Channel`]=ah(lh(n[e])))}function DK(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ni=n=>{try{return n()}catch{}},LK=(n="mui")=>X7(n);function aw(n,e,t,r,i){if(!t)return;t=t===!0?{}:t;const s=i==="dark"?"dark":"light";if(!r){e[i]=bK({...t,palette:{mode:s,...t?.palette},colorSpace:n});return}const{palette:l,...u}=IE({...r,palette:{mode:s,...t?.palette},colorSpace:n});return e[i]={...t,palette:l,opacity:{...ND(s),...t?.opacity},overlays:t?.overlays||OD(s)},u}function VK(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",nativeColor:l=!1,shouldSkipGeneratingVar:u=kK,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...m}=n,y=Object.keys(t)[0],E=r||(t.light&&y!=="light"?"light":y),C=LK(s),{[E]:T,light:P,dark:k,...j}=t,M={...j};let $=T;if((E==="dark"&&!("dark"in t)||E==="light"&&!("light"in t))&&($=!0),!$)throw new Error(Tl(21,E));let H;l&&(H="oklch");const q=aw(H,M,$,m,E);P&&!M.light&&aw(H,M,P,void 0,"light"),k&&!M.dark&&aw(H,M,k,void 0,"dark");let U={defaultColorScheme:E,...q,cssVarPrefix:s,colorSchemeSelector:d,rootSelector:f,getCssVar:C,colorSchemes:M,font:{...dK(q.typography),...q.font},spacing:DK(m.spacing)};Object.keys(U.colorSchemes).forEach(x=>{const w=U.colorSchemes[x].palette,S=L=>{const oe=L.split("-"),ae=oe[1],Q=oe[2];return C(L,w[ae][Q])};w.mode==="light"&&(se(w.common,"background","#fff"),se(w.common,"onBackground","#000")),w.mode==="dark"&&(se(w.common,"background","#000"),se(w.common,"onBackground","#fff"));function z(L,oe,ae){if(H){let Q;return L===Ba&&(Q=`transparent ${((1-ae)*100).toFixed(0)}%`),L===lt&&(Q=`#000 ${(ae*100).toFixed(0)}%`),L===ut&&(Q=`#fff ${(ae*100).toFixed(0)}%`),`color-mix(in ${H}, ${oe}, ${Q})`}return L(oe,ae)}if(OK(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){se(w.Alert,"errorColor",z(lt,w.error.light,.6)),se(w.Alert,"infoColor",z(lt,w.info.light,.6)),se(w.Alert,"successColor",z(lt,w.success.light,.6)),se(w.Alert,"warningColor",z(lt,w.warning.light,.6)),se(w.Alert,"errorFilledBg",S("palette-error-main")),se(w.Alert,"infoFilledBg",S("palette-info-main")),se(w.Alert,"successFilledBg",S("palette-success-main")),se(w.Alert,"warningFilledBg",S("palette-warning-main")),se(w.Alert,"errorFilledColor",Ni(()=>w.getContrastText(w.error.main))),se(w.Alert,"infoFilledColor",Ni(()=>w.getContrastText(w.info.main))),se(w.Alert,"successFilledColor",Ni(()=>w.getContrastText(w.success.main))),se(w.Alert,"warningFilledColor",Ni(()=>w.getContrastText(w.warning.main))),se(w.Alert,"errorStandardBg",z(ut,w.error.light,.9)),se(w.Alert,"infoStandardBg",z(ut,w.info.light,.9)),se(w.Alert,"successStandardBg",z(ut,w.success.light,.9)),se(w.Alert,"warningStandardBg",z(ut,w.warning.light,.9)),se(w.Alert,"errorIconColor",S("palette-error-main")),se(w.Alert,"infoIconColor",S("palette-info-main")),se(w.Alert,"successIconColor",S("palette-success-main")),se(w.Alert,"warningIconColor",S("palette-warning-main")),se(w.AppBar,"defaultBg",S("palette-grey-100")),se(w.Avatar,"defaultBg",S("palette-grey-400")),se(w.Button,"inheritContainedBg",S("palette-grey-300")),se(w.Button,"inheritContainedHoverBg",S("palette-grey-A100")),se(w.Chip,"defaultBorder",S("palette-grey-400")),se(w.Chip,"defaultAvatarColor",S("palette-grey-700")),se(w.Chip,"defaultIconColor",S("palette-grey-700")),se(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(w.LinearProgress,"primaryBg",z(ut,w.primary.main,.62)),se(w.LinearProgress,"secondaryBg",z(ut,w.secondary.main,.62)),se(w.LinearProgress,"errorBg",z(ut,w.error.main,.62)),se(w.LinearProgress,"infoBg",z(ut,w.info.main,.62)),se(w.LinearProgress,"successBg",z(ut,w.success.main,.62)),se(w.LinearProgress,"warningBg",z(ut,w.warning.main,.62)),se(w.Skeleton,"bg",H?z(Ba,w.text.primary,.11):`rgba(${S("palette-text-primaryChannel")} / 0.11)`),se(w.Slider,"primaryTrack",z(ut,w.primary.main,.62)),se(w.Slider,"secondaryTrack",z(ut,w.secondary.main,.62)),se(w.Slider,"errorTrack",z(ut,w.error.main,.62)),se(w.Slider,"infoTrack",z(ut,w.info.main,.62)),se(w.Slider,"successTrack",z(ut,w.success.main,.62)),se(w.Slider,"warningTrack",z(ut,w.warning.main,.62));const L=H?z(lt,w.background.default,.6825):mm(w.background.default,.8);se(w.SnackbarContent,"bg",L),se(w.SnackbarContent,"color",Ni(()=>H?EE.text.primary:w.getContrastText(L))),se(w.SpeedDialAction,"fabHoverBg",mm(w.background.paper,.15)),se(w.StepConnector,"border",S("palette-grey-400")),se(w.StepContent,"border",S("palette-grey-400")),se(w.Switch,"defaultColor",S("palette-common-white")),se(w.Switch,"defaultDisabledColor",S("palette-grey-100")),se(w.Switch,"primaryDisabledColor",z(ut,w.primary.main,.62)),se(w.Switch,"secondaryDisabledColor",z(ut,w.secondary.main,.62)),se(w.Switch,"errorDisabledColor",z(ut,w.error.main,.62)),se(w.Switch,"infoDisabledColor",z(ut,w.info.main,.62)),se(w.Switch,"successDisabledColor",z(ut,w.success.main,.62)),se(w.Switch,"warningDisabledColor",z(ut,w.warning.main,.62)),se(w.TableCell,"border",z(ut,z(Ba,w.divider,1),.88)),se(w.Tooltip,"bg",z(Ba,w.grey[700],.92))}if(w.mode==="dark"){se(w.Alert,"errorColor",z(ut,w.error.light,.6)),se(w.Alert,"infoColor",z(ut,w.info.light,.6)),se(w.Alert,"successColor",z(ut,w.success.light,.6)),se(w.Alert,"warningColor",z(ut,w.warning.light,.6)),se(w.Alert,"errorFilledBg",S("palette-error-dark")),se(w.Alert,"infoFilledBg",S("palette-info-dark")),se(w.Alert,"successFilledBg",S("palette-success-dark")),se(w.Alert,"warningFilledBg",S("palette-warning-dark")),se(w.Alert,"errorFilledColor",Ni(()=>w.getContrastText(w.error.dark))),se(w.Alert,"infoFilledColor",Ni(()=>w.getContrastText(w.info.dark))),se(w.Alert,"successFilledColor",Ni(()=>w.getContrastText(w.success.dark))),se(w.Alert,"warningFilledColor",Ni(()=>w.getContrastText(w.warning.dark))),se(w.Alert,"errorStandardBg",z(lt,w.error.light,.9)),se(w.Alert,"infoStandardBg",z(lt,w.info.light,.9)),se(w.Alert,"successStandardBg",z(lt,w.success.light,.9)),se(w.Alert,"warningStandardBg",z(lt,w.warning.light,.9)),se(w.Alert,"errorIconColor",S("palette-error-main")),se(w.Alert,"infoIconColor",S("palette-info-main")),se(w.Alert,"successIconColor",S("palette-success-main")),se(w.Alert,"warningIconColor",S("palette-warning-main")),se(w.AppBar,"defaultBg",S("palette-grey-900")),se(w.AppBar,"darkBg",S("palette-background-paper")),se(w.AppBar,"darkColor",S("palette-text-primary")),se(w.Avatar,"defaultBg",S("palette-grey-600")),se(w.Button,"inheritContainedBg",S("palette-grey-800")),se(w.Button,"inheritContainedHoverBg",S("palette-grey-700")),se(w.Chip,"defaultBorder",S("palette-grey-700")),se(w.Chip,"defaultAvatarColor",S("palette-grey-300")),se(w.Chip,"defaultIconColor",S("palette-grey-300")),se(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(w.LinearProgress,"primaryBg",z(lt,w.primary.main,.5)),se(w.LinearProgress,"secondaryBg",z(lt,w.secondary.main,.5)),se(w.LinearProgress,"errorBg",z(lt,w.error.main,.5)),se(w.LinearProgress,"infoBg",z(lt,w.info.main,.5)),se(w.LinearProgress,"successBg",z(lt,w.success.main,.5)),se(w.LinearProgress,"warningBg",z(lt,w.warning.main,.5)),se(w.Skeleton,"bg",H?z(Ba,w.text.primary,.13):`rgba(${S("palette-text-primaryChannel")} / 0.13)`),se(w.Slider,"primaryTrack",z(lt,w.primary.main,.5)),se(w.Slider,"secondaryTrack",z(lt,w.secondary.main,.5)),se(w.Slider,"errorTrack",z(lt,w.error.main,.5)),se(w.Slider,"infoTrack",z(lt,w.info.main,.5)),se(w.Slider,"successTrack",z(lt,w.success.main,.5)),se(w.Slider,"warningTrack",z(lt,w.warning.main,.5));const L=H?z(ut,w.background.default,.985):mm(w.background.default,.98);se(w.SnackbarContent,"bg",L),se(w.SnackbarContent,"color",Ni(()=>H?bD.text.primary:w.getContrastText(L))),se(w.SpeedDialAction,"fabHoverBg",mm(w.background.paper,.15)),se(w.StepConnector,"border",S("palette-grey-600")),se(w.StepContent,"border",S("palette-grey-600")),se(w.Switch,"defaultColor",S("palette-grey-300")),se(w.Switch,"defaultDisabledColor",S("palette-grey-600")),se(w.Switch,"primaryDisabledColor",z(lt,w.primary.main,.55)),se(w.Switch,"secondaryDisabledColor",z(lt,w.secondary.main,.55)),se(w.Switch,"errorDisabledColor",z(lt,w.error.main,.55)),se(w.Switch,"infoDisabledColor",z(lt,w.info.main,.55)),se(w.Switch,"successDisabledColor",z(lt,w.success.main,.55)),se(w.Switch,"warningDisabledColor",z(lt,w.warning.main,.55)),se(w.TableCell,"border",z(lt,z(Ba,w.divider,1),.68)),se(w.Tooltip,"bg",z(Ba,w.grey[700],.92))}As(w.background,"default"),As(w.background,"paper"),As(w.common,"background"),As(w.common,"onBackground"),As(w,"divider"),Object.keys(w).forEach(L=>{const oe=w[L];L!=="tonalOffset"&&oe&&typeof oe=="object"&&(oe.main&&se(w[L],"mainChannel",ah(lh(oe.main))),oe.light&&se(w[L],"lightChannel",ah(lh(oe.light))),oe.dark&&se(w[L],"darkChannel",ah(lh(oe.dark))),oe.contrastText&&se(w[L],"contrastTextChannel",ah(lh(oe.contrastText))),L==="text"&&(As(w[L],"primary"),As(w[L],"secondary")),L==="action"&&(oe.active&&As(w[L],"active"),oe.selected&&As(w[L],"selected")))})}),U=e.reduce((x,w)=>Sr(x,w),U);const O={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:NK(U),enableContrastVars:l},{vars:A,generateThemeVars:b,generateStyleSheets:V}=tK(U,O);return U.vars=A,Object.entries(U.colorSchemes[U.defaultColorScheme]).forEach(([x,w])=>{U[x]=w}),U.generateThemeVars=b,U.generateStyleSheets=V,U.generateSpacing=function(){return wD(m.spacing,DT(this))},U.getColorSchemeSelector=nK(d),U.spacing=U.generateSpacing(),U.shouldSkipGeneratingVar=u,U.unstable_sxConfig={...jy,...m?.unstable_sxConfig},U.unstable_sx=function(w){return _c({sx:w,theme:this})},U.toRuntimeSource=xD,U}function YC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:jT({...t===!0?{}:t.palette,mode:e})})}function MK(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...l}=n,u=s||"light",d=i?.[u],f={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return IE(n,...e);let m=t;"palette"in n||f[u]&&(f[u]!==!0?m=f[u].palette:u==="dark"&&(m={mode:"dark"}));const y=IE({...n,palette:m},...e);return y.defaultColorScheme=u,y.colorSchemes=f,y.palette.mode==="light"&&(y.colorSchemes.light={...f.light!==!0&&f.light,palette:y.palette},YC(y,"dark",f.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:y.palette},YC(y,"light",f.light)),y}return!t&&!("light"in f)&&u==="light"&&(f.light=!0),VK({...l,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const FK=MK(),UK="$$material";function DD(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const $K=n=>DD(n)&&n!=="classes",$f=M7({themeId:UK,defaultTheme:FK,rootShouldForwardProp:$K}),BT=J7;function LD(n){return G7(n)}function jK(n){return UT("MuiSvgIcon",n)}ID("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const BK=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${na(e)}`,`fontSize${na(t)}`]};return iD(i,jK,r)},zK=$f("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${na(t.color)}`],e[`fontSize${na(t.fontSize)}`]]}})(BT(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),TE=G.forwardRef(function(e,t){const r=LD({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:y,viewBox:E="0 0 24 24",...C}=r,T=G.isValidElement(i)&&i.type==="svg",P={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:E,hasSvgAsChild:T},k={};m||(k.viewBox=E);const j=BK(P);return D.jsxs(zK,{as:u,className:qo(j.root,s),focusable:"false",color:f,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:t,...k,...C,...T&&i.props,ownerState:P,children:[T?i.props.children:i,y?D.jsx("title",{children:y}):null]})});TE.muiName="SvgIcon";function VD(n,e){function t(r,i){return D.jsx(TE,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=TE.muiName,G.memo(G.forwardRef(t))}function WK(n){const{controlled:e,default:t}=n,{current:r}=G.useRef(e!==void 0),[i,s]=G.useState(t),l=r?e:i,u=G.useCallback(d=>{r||s(d)},[]);return[l,u]}function MD(...n){const e=G.useRef(void 0),t=G.useCallback(r=>{const i=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const l=s,u=l(r);return typeof u=="function"?u:()=>{l(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s?.())}},n);return G.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const qK=VD(D.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),HK=VD(D.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function KK(n){return UT("MuiRating",n)}const Yd=ID("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function GK(n){return typeof n=="string"}function QK(n,e,t){return n===void 0||GK(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function YK(n,e,t){return typeof n=="function"?n(e,t):n}function JK(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function JC(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function XK(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const C=qo(t?.className,s,i?.className,r?.className),T={...t?.style,...i?.style,...r?.style},P={...t,...i,...r};return C.length>0&&(P.className=C),Object.keys(T).length>0&&(P.style=T),{props:P,internalRef:void 0}}const l=JK({...i,...r}),u=JC(r),d=JC(i),f=e(l),m=qo(f?.className,t?.className,s,i?.className,r?.className),y={...f?.style,...t?.style,...i?.style,...r?.style},E={...f,...t,...d,...u};return m.length>0&&(E.className=m),Object.keys(y).length>0&&(E.style=y),{props:E,internalRef:f.ref}}function Ah(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:l,shouldForwardComponentProp:u=!1,...d}=e,{component:f,slots:m={[n]:void 0},slotProps:y={[n]:void 0},...E}=s,C=m[n]||r,T=YK(y[n],i),{props:{component:P,...k},internalRef:j}=XK({className:t,...d,externalForwardedProps:n==="root"?E:void 0,externalSlotProps:T}),M=MD(j,T?.ref,e.ref),$=n==="root"?P||f:P,H=QK(C,{...n==="root"&&!f&&!m[n]&&l,...n!=="root"&&!m[n]&&l,...k,...$&&!u&&{as:$},...$&&u&&{component:$},ref:M},i);return[C,H]}function ZK(n){const e=n.toString().split(".")[1];return e?e.length:0}function lw(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(ZK(e)))}const eG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${na(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return iD(u,KK,e)},tG=$f("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Yd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${na(t.size)}`],t.readOnly&&e.readOnly]}})(BT(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Yd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Yd.focusVisible} .${Yd.iconActive}`]:{outline:"1px solid #999"},[`& .${Yd.visuallyHidden}`]:Lq,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),FD=$f("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),nG=$f("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(BT(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),rG=$f("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>DD(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function iG(n){const{value:e,...t}=n;return D.jsx("span",{...t})}function XC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:f,isActive:m,itemValue:y,labelProps:E,name:C,onBlur:T,onChange:P,onClick:k,onFocus:j,readOnly:M,ownerState:$,ratingValue:H,ratingValueRounded:q,slots:U={},slotProps:O={}}=n,A=l?y===H:y<=H,b=y<=u,V=y<=i,x=y===q,w=`${C}-${PD()}`,S={slots:U,slotProps:O},[z,L]=Ah("icon",{elementType:nG,className:qo(e.icon,A?e.iconFilled:e.iconEmpty,b&&e.iconHover,V&&e.iconFocus,m&&e.iconActive),externalForwardedProps:S,ownerState:{...$,iconEmpty:!A,iconFilled:A,iconHover:b,iconFocus:V,iconActive:m},additionalProps:{value:y},internalForwardedProps:{as:f}}),[oe,ae]=Ah("label",{elementType:FD,externalForwardedProps:S,ownerState:{...$,emptyValueFocused:void 0},additionalProps:{style:E?.style,htmlFor:w}}),Q=D.jsx(z,{...L,children:r&&!A?r:d});return M?D.jsx("span",{...E,children:Q}):D.jsxs(G.Fragment,{children:[D.jsxs(oe,{...ae,children:[Q,D.jsx("span",{className:e.visuallyHidden,children:s(y)})]}),D.jsx("input",{className:e.visuallyHidden,onFocus:j,onBlur:T,onChange:P,onClick:k,disabled:t,value:y,id:w,type:"radio",name:C,checked:x})]})}const sG=D.jsx(qK,{fontSize:"inherit"}),oG=D.jsx(HK,{fontSize:"inherit"});function aG(n){return`${n||"0"} Star${n!==1?"s":""}`}const lG=G.forwardRef(function(e,t){const r=LD({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=oG,emptyLabelText:f="Empty",getLabelText:m=aG,highlightSelectedOnly:y=!1,icon:E=sG,IconContainerComponent:C=iG,max:T=5,name:P,onChange:k,onChangeActive:j,onMouseLeave:M,onMouseMove:$,precision:H=1,readOnly:q=!1,size:U="medium",value:O,slots:A={},slotProps:b={},...V}=r,x=PD(P),[w,S]=WK({controlled:O,default:l}),z=lw(w,H),L=Mq(),[{hover:oe,focus:ae},Q]=G.useState({hover:-1,focus:-1});let fe=z;oe!==-1&&(fe=oe),ae!==-1&&(fe=ae);const[ue,W]=G.useState(!1),ie=G.useRef(),ke=MD(ie,t),ve=Be=>{$&&$(Be);const ht=ie.current,{right:yn,left:as,width:jn}=ht.getBoundingClientRect();let Cr;L?Cr=(yn-Be.clientX)/jn:Cr=(Be.clientX-as)/jn;let Pn=lw(T*Cr+H/2,H);Pn=rD(Pn,H,T),Q(Cn=>Cn.hover===Pn&&Cn.focus===Pn?Cn:{hover:Pn,focus:Pn}),W(!1),j&&oe!==Pn&&j(Be,Pn)},De=Be=>{M&&M(Be);const ht=-1;Q({hover:ht,focus:ht}),j&&oe!==ht&&j(Be,ht)},Me=Be=>{let ht=Be.target.value===""?null:parseFloat(Be.target.value);oe!==-1&&(ht=oe),S(ht),k&&k(Be,ht)},Xe=Be=>{Be.clientX===0&&Be.clientY===0||(Q({hover:-1,focus:-1}),S(null),k&&parseFloat(Be.target.value)===z&&k(Be,null))},We=Be=>{TC(Be.target)&&W(!0);const ht=parseFloat(Be.target.value);Q(yn=>({hover:yn.hover,focus:ht}))},ot=Be=>{if(oe!==-1)return;TC(Be.target)||W(!1);const ht=-1;Q(yn=>({hover:yn.hover,focus:ht}))},[mn,ss]=G.useState(!1),Wr={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:f,emptyValueFocused:mn,focusVisible:ue,getLabelText:m,icon:E,IconContainerComponent:C,max:T,precision:H,readOnly:q,size:U},gn=eG(Wr),hi={slots:A,slotProps:b},[kl,Zs]=Ah("root",{ref:ke,className:qo(gn.root,s),elementType:tG,externalForwardedProps:{...hi,...V,component:i},getSlotProps:Be=>({...Be,onMouseMove:ht=>{ve(ht),Be.onMouseMove?.(ht)},onMouseLeave:ht=>{De(ht),Be.onMouseLeave?.(ht)}}),ownerState:Wr,additionalProps:{role:q?"img":null,"aria-label":q?m(fe):null}}),[os,pa]=Ah("label",{className:qo(gn.label,gn.labelEmptyValue),elementType:FD,externalForwardedProps:hi,ownerState:Wr}),[Dt,Tt]=Ah("decimal",{className:gn.decimal,elementType:rG,externalForwardedProps:hi,ownerState:Wr});return D.jsxs(kl,{...Zs,children:[Array.from(new Array(T)).map((Be,ht)=>{const yn=ht+1,as={classes:gn,disabled:u,emptyIcon:d,focus:ae,getLabelText:m,highlightSelectedOnly:y,hover:oe,icon:E,IconContainerComponent:C,name:x,onBlur:ot,onChange:Me,onClick:Xe,onFocus:We,ratingValue:fe,ratingValueRounded:z,readOnly:q,ownerState:Wr,slots:A,slotProps:b},jn=yn===Math.ceil(fe)&&(oe!==-1||ae!==-1);if(H<1){const Cr=Array.from(new Array(1/H));return G.createElement(Dt,{...Tt,key:yn,className:qo(Tt.className,jn&&gn.iconActive),iconActive:jn},Cr.map((Pn,Cn)=>{const eo=lw(yn-1+(Cn+1)*H,H);return D.jsx(XC,{...as,isActive:!1,itemValue:eo,labelProps:{style:Cr.length-1===Cn?{}:{width:eo===fe?`${(Cn+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},eo)}))}return D.jsx(XC,{...as,isActive:jn,itemValue:yn},yn)}),!q&&!u&&D.jsxs(os,{...pa,children:[D.jsx("input",{className:gn.visuallyHidden,value:"",id:`${x}-empty`,type:"radio",name:x,checked:z==null,onFocus:()=>ss(!0),onBlur:()=>ss(!1),onChange:Me}),D.jsx("span",{className:gn.visuallyHidden,children:f})]})]})}),Gy=({amount:n})=>{const e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n||0);return D.jsx("div",{children:e})},uG="_card_container_14g25_1",cG="_button_14g25_51",dG="_rating_14g25_101",hG="_products_container_14g25_125",fG="_product_flexed_14g25_155",Vu={card_container:uG,button:cG,rating:dG,products_container:hG,product_flexed:fG},Ur={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",CLEAR:"CLEAR",SET_USER:"SET_USER"};function Uc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:s,id:l,rating:u,price:d,description:f}=n,[m,y]=G.useContext(qs),[E,C]=G.useState(!0),T=()=>{y({type:Ur.ADD_TO_BASKET,item:{image:i,title:s,id:l,rating:u,price:d,description:f}})};return D.jsxs("div",{className:`${Vu.card_container} ${e?Vu.product_flexed:""}`,children:[D.jsx(ni,{to:`/products/${l}`,children:D.jsx("img",{src:i,alt:"",className:Vu.img_container})}),D.jsxs("div",{children:[D.jsx("h3",{children:s}),t&&D.jsx("div",{style:{maxWidth:"750px"},children:f}),D.jsxs("div",{className:Vu.rating,children:[D.jsx(lG,{value:u?.rate,precision:.1}),D.jsx("small",{children:u?.count})]}),D.jsx("div",{children:D.jsx(Gy,{amount:d})}),r&&D.jsx("button",{className:Vu.button,onClick:T,children:"add to cart"})]})]})}var pG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function UD(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return pG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Fu(n){var e=UD(n);return"".concat(e.value).concat(e.unit)}var $D=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},Og=function(){return Og=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Og.apply(this,arguments)},mG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},gG=$D("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function SE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,f=n.size,m=f===void 0?35:f,y=mG(n,["loading","color","speedMultiplier","cssOverride","size"]),E=Og({background:"transparent !important",width:Fu(m),height:Fu(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(gG," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?G.createElement("span",Og({style:E},y)):null}var Yt=function(){return Yt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Yt.apply(this,arguments)},yG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},_G=$D("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function vG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,f=n.height,m=f===void 0?15:f,y=n.width,E=y===void 0?5:y,C=n.radius,T=C===void 0?2:C,P=n.margin,k=P===void 0?2:P,j=yG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),M=UD(k).value,$=M+18,H=$/2+$/5.5,q=Yt({display:"inherit",position:"relative",fontSize:"0",top:$,left:$,width:"".concat($*3,"px"),height:"".concat($*3,"px")},d),U=function(L){return{position:"absolute",width:Fu(E),height:Fu(m),margin:Fu(k),backgroundColor:i,borderRadius:Fu(T),transition:"2s",animationFillMode:"both",animation:"".concat(_G," ").concat(1.2/l,"s ").concat(L*.12,"s infinite ease-in-out")}},O=Yt(Yt({},U(1)),{top:"".concat($,"px"),left:"0"}),A=Yt(Yt({},U(2)),{top:"".concat(H,"px"),left:"".concat(H,"px"),transform:"rotate(-45deg)"}),b=Yt(Yt({},U(3)),{top:"0",left:"".concat($,"px"),transform:"rotate(90deg)"}),V=Yt(Yt({},U(4)),{top:"".concat(-1*H,"px"),left:"".concat(H,"px"),transform:"rotate(45deg)"}),x=Yt(Yt({},U(5)),{top:"".concat(-1*$,"px"),left:"0"}),w=Yt(Yt({},U(6)),{top:"".concat(-1*H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(-45deg)"}),S=Yt(Yt({},U(7)),{top:"0",left:"".concat(-1*$,"px"),transform:"rotate(90deg)"}),z=Yt(Yt({},U(8)),{top:"".concat(H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(45deg)"});return t?G.createElement("span",Yt({style:q},j),G.createElement("span",{style:O}),G.createElement("span",{style:A}),G.createElement("span",{style:b}),G.createElement("span",{style:V}),G.createElement("span",{style:x}),G.createElement("span",{style:w}),G.createElement("span",{style:S}),G.createElement("span",{style:z})):null}function jD(){return D.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:D.jsx(vG,{color:"#36d7b7"})})}function wG(){const[n,e]=G.useState(),[t,r]=G.useState(!1);return G.useEffect(()=>{bt.get("https://fakestoreapi.com/products/").then(i=>{e(i.data),r(!1)}).catch(i=>{r(!1)})},[]),D.jsx(D.Fragment,{children:t?D.jsx(jD,{}):D.jsx("section",{className:Vu.products_container,children:n?.map(i=>D.jsx(Uc,{product:i,renderAdd:!0},i.id))})})}const EG="_footer_b7bsc_1",IG="_backToTop_b7bsc_13",TG="_linksContainer_b7bsc_37",SG="_footerBottom_b7bsc_87",RG="_logoSection_b7bsc_101",AG="_locale_b7bsc_127",PG="_copy_b7bsc_139",za={footer:EG,backToTop:IG,linksContainer:TG,footerBottom:SG,logoSection:RG,locale:AG,copy:PG};function CG(){return D.jsxs("footer",{className:za.footer,children:[D.jsx("div",{className:za.backToTop,onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Back to top"}),D.jsxs("div",{className:za.linksContainer,children:[D.jsxs("div",{children:[D.jsx("h3",{children:"Get to Know Us"}),D.jsx("a",{href:"#",children:"Careers"}),D.jsx("a",{href:"#",children:"Amazon Newsletter"}),D.jsx("a",{href:"#",children:"About Amazon"}),D.jsx("a",{href:"#",children:"Accessibility"}),D.jsx("a",{href:"#",children:"Sustainability"}),D.jsx("a",{href:"#",children:"Press Center"}),D.jsx("a",{href:"#",children:"Investor Relations"}),D.jsx("a",{href:"#",children:"Amazon Devices"}),D.jsx("a",{href:"#",children:"Amazon Science"})]}),D.jsxs("div",{children:[D.jsx("h3",{children:"Make Money with Us"}),D.jsx("a",{href:"#",children:"Sell on Amazon"}),D.jsx("a",{href:"#",children:"Sell apps on Amazon"}),D.jsx("a",{href:"#",children:"Supply to Amazon"}),D.jsx("a",{href:"#",children:"Protect & Build Your Brand"}),D.jsx("a",{href:"#",children:"Become an Affiliate"}),D.jsx("a",{href:"#",children:"Become a Delivery Driver"}),D.jsx("a",{href:"#",children:"Start a Package Delivery Business"}),D.jsx("a",{href:"#",children:"Advertise Your Products"}),D.jsx("a",{href:"#",children:"Self-Publish with Us"}),D.jsx("a",{href:"#",children:"Become an Amazon Hub Partner"})]}),D.jsxs("div",{children:[D.jsx("h3",{children:"Amazon Payment Products"}),D.jsx("a",{href:"#",children:"Amazon Visa"}),D.jsx("a",{href:"#",children:"Amazon Store Card"}),D.jsx("a",{href:"#",children:"Amazon Secured Card"}),D.jsx("a",{href:"#",children:"Amazon Business Card"}),D.jsx("a",{href:"#",children:"Shop with Points"}),D.jsx("a",{href:"#",children:"Credit Card Marketplace"}),D.jsx("a",{href:"#",children:"Reload Your Balance"}),D.jsx("a",{href:"#",children:"Gift Cards"}),D.jsx("a",{href:"#",children:"Amazon Currency Converter"})]}),D.jsxs("div",{children:[D.jsx("h3",{children:"Let Us Help You"}),D.jsx("a",{href:"#",children:"Your Account"}),D.jsx("a",{href:"#",children:"Your Orders"}),D.jsx("a",{href:"#",children:"Shipping Rates & Policies"}),D.jsx("a",{href:"#",children:"Amazon Prime"}),D.jsx("a",{href:"#",children:"Returns & Replacements"}),D.jsx("a",{href:"#",children:"Manage Your Content and Devices"}),D.jsx("a",{href:"#",children:"Recalls and Product Safety Alerts"}),D.jsx("a",{href:"#",children:"Registry & Gift List"}),D.jsx("a",{href:"#",children:"Help"})]})]}),D.jsxs("div",{className:za.footerBottom,children:[D.jsxs("div",{className:za.logoSection,children:[D.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon Logo"}),D.jsxs("div",{className:za.locale,children:[D.jsx("span",{children:" English"}),D.jsx("span",{children:" United States"})]})]}),D.jsx("p",{className:za.copy,children:" 19962025, Amazon.com, Inc. or its affiliates"})]})]})}const jf=({children:n})=>D.jsxs("div",{children:[D.jsx(DW,{}),n,D.jsx(CG,{})]});function bG(){return D.jsx("div",{children:D.jsxs(jf,{children:[D.jsx(e8,{}),D.jsx(s8,{}),D.jsx(wG,{})]})})}const kG="_login_1s7uk_1",xG="_login_container_1s7uk_25",NG="_login_signInButton_1s7uk_101",OG="_login_registerButton_1s7uk_137",gm={login:kG,login_container:xG,login_signInButton:NG,login_registerButton:OG};function DG(){const[n,e]=G.useState(""),[t,r]=G.useState(""),[i,s]=G.useState(""),[l,u]=G.useState({signIn:!1,signUP:!1}),[{user:d},f]=G.useContext(qs),m=Lg(),y=sa();console.log(y);const E=async C=>{C.preventDefault(),C.target.name==="signin"?(u({...l,signIn:!0}),j4(bg,n,t).then(T=>{f({type:Ur.SET_USER,user:T.user}),u({...l,signIn:!1}),m(y?.state?.redirect||"/")}).catch(T=>{s(T.message),u({...l,signIn:!1})})):(u({...l,signUP:!0}),$4(bg,n,t).then(T=>{f({type:Ur.SET_USER,user:T.user}),u({...l,signUP:!1}),m(y?.state?.redirect||"/")}).catch(T=>{s(T.message),u({...l,signUP:!1})}))};return D.jsxs("section",{className:gm.login,children:[D.jsx(ni,{to:"/",children:D.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/2560px-Amazon_logo.svg.png",alt:""})}),D.jsxs("div",{className:gm.login_container,children:[D.jsx("h1",{children:"Sign In"}),y?.state?.msg&&D.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:y?.state?.msg}),D.jsxs("form",{action:"",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",children:"Email:"}),D.jsx("input",{value:n,onChange:C=>e(C.target.value),type:"email",id:"email",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password",children:"Password:"}),D.jsx("input",{value:t,onChange:C=>r(C.target.value),type:"password",id:"password",required:!0})]}),D.jsx("button",{type:"submit",onClick:E,name:"signin",className:gm.login_signInButton,children:l.signIn?D.jsx(SE,{color:"#000",size:15}):"Sign In"})]}),D.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE condition of use & sale. Please see our Privacy Notice, our Cookies Notice and our Interest-based Ads Notice."}),D.jsx("button",{type:"submit",onClick:E,name:"signup",className:gm.login_registerButton,children:l.signUP?D.jsx(SE,{color:"#000",size:15}):"Create you Amazon Account"}),i&&D.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const LG="_payment_header_er6y1_1",VG="_payment_er6y1_1",MG="_flex_er6y1_19",FG="_payment_card_container_er6y1_47",UG="_payment_price_er6y1_55",$G="_payment_details_er6y1_71",jG="_loading_er6y1_99",Ps={payment_header:LG,payment:VG,flex:MG,payment_card_container:FG,payment_price:UG,payment_details:$G,loading:jG};function ZC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function eb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(t),!0).forEach(function(r){BD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(e){return typeof e}:Gm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(n)}function BD(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function zG(n,e){if(n==null)return{};var t=BG(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function zD(n,e){return WG(n)||qG(n,e)||HG(n,e)||KG()}function WG(n){if(Array.isArray(n))return n}function qG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function HG(n,e){if(n){if(typeof n=="string")return tb(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tb(n,e)}}function tb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function KG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wn=function(e,t,r){var i=!!r,s=Qe.useRef(r);Qe.useEffect(function(){s.current=r},[r]),Qe.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},RE=function(e){var t=Qe.useRef(e);return Qe.useEffect(function(){t.current=e},[e]),t.current},wc=function(e){return e!==null&&Gm(e)==="object"},GG=function(e){return wc(e)&&typeof e.then=="function"},QG=function(e){return wc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},nb="[object Object]",YG=function n(e,t){if(!wc(e)||!wc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===nb,l=Object.prototype.toString.call(t)===nb;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f={},m=0;m<u.length;m+=1)f[u[m]]=!0;for(var y=0;y<d.length;y+=1)f[d[y]]=!0;var E=Object.keys(f);if(E.length!==u.length)return!1;var C=e,T=t,P=function(j){return n(C[j],T[j])};return E.every(P)},WD=function(e,t,r){return wc(e)?Object.keys(e).reduce(function(i,s){var l=!wc(t)||!YG(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?eb(eb({},i||{}),{},BD({},s,e[s])):i},null):null},qD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",rb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qD;if(e===null||QG(e))return e;throw new Error(t)},JG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qD;if(GG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return rb(i,t)})};var r=rb(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},XG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},Qy=Qe.createContext(null);Qy.displayName="ElementsContext";var HD=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},KD=function(e){var t=e.stripe,r=e.options,i=e.children,s=Qe.useMemo(function(){return JG(t)},[t]),l=Qe.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=zD(l,2),d=u[0],f=u[1];Qe.useEffect(function(){var E=!0,C=function(P){f(function(k){return k.stripe?k:{stripe:P,elements:P.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(T){T&&E&&C(T)}):s.tag==="sync"&&!d.stripe&&C(s.stripe),function(){E=!1}},[s,d,r]);var m=RE(t);Qe.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var y=RE(r);return Qe.useEffect(function(){if(d.elements){var E=WD(r,y,["clientSecret","fonts"]);E&&d.elements.update(E)}},[r,y,d.elements]),Qe.useEffect(function(){XG(d.stripe)},[d.stripe]),Qe.createElement(Qy.Provider,{value:d},i)};KD.propTypes={stripe:Et.any,options:Et.object};var ZG=function(e){var t=Qe.useContext(Qy);return HD(t,e)},eQ=function(){var e=ZG("calls useElements()"),t=e.elements;return t};Et.func.isRequired;var GD=Qe.createContext(null);GD.displayName="CheckoutContext";Et.any,Et.shape({fetchClientSecret:Et.func.isRequired,elementsOptions:Et.object}).isRequired;var AE=function(e){var t=Qe.useContext(GD),r=Qe.useContext(Qy);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return HD(r,e)},tQ=["mode"],nQ=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},tn=function(e,t){var r="".concat(nQ(e),"Element"),i=function(d){var f=d.id,m=d.className,y=d.options,E=y===void 0?{}:y,C=d.onBlur,T=d.onFocus,P=d.onReady,k=d.onChange,j=d.onEscape,M=d.onClick,$=d.onLoadError,H=d.onLoaderStart,q=d.onNetworksChange,U=d.onConfirm,O=d.onCancel,A=d.onShippingAddressChange,b=d.onShippingRateChange,V=d.onSavedPaymentMethodRemove,x=d.onSavedPaymentMethodUpdate,w=AE("mounts <".concat(r,">")),S="elements"in w?w.elements:null,z="checkoutState"in w?w.checkoutState:null,L=z?.type==="success"?z.checkout:null,oe=Qe.useState(null),ae=zD(oe,2),Q=ae[0],fe=ae[1],ue=Qe.useRef(null),W=Qe.useRef(null);Wn(Q,"blur",C),Wn(Q,"focus",T),Wn(Q,"escape",j),Wn(Q,"click",M),Wn(Q,"loaderror",$),Wn(Q,"loaderstart",H),Wn(Q,"networkschange",q),Wn(Q,"confirm",U),Wn(Q,"cancel",O),Wn(Q,"shippingaddresschange",A),Wn(Q,"shippingratechange",b),Wn(Q,"savedpaymentmethodremove",V),Wn(Q,"savedpaymentmethodupdate",x),Wn(Q,"change",k);var ie;P&&(e==="expressCheckout"?ie=P:ie=function(){P(Q)}),Wn(Q,"ready",ie),Qe.useLayoutEffect(function(){if(ue.current===null&&W.current!==null&&(S||L)){var ve=null;if(L)switch(e){case"payment":ve=L.createPaymentElement(E);break;case"address":if("mode"in E){var De=E.mode,Me=zG(E,tQ);if(De==="shipping")ve=L.createShippingAddressElement(Me);else if(De==="billing")ve=L.createBillingAddressElement(Me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ve=L.createExpressCheckoutElement(E);break;case"currencySelector":ve=L.createCurrencySelectorElement();break;case"taxId":ve=L.createTaxIdElement(E);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else S&&(ve=S.create(e,E));ue.current=ve,fe(ve),ve&&ve.mount(W.current)}},[S,L,E]);var ke=RE(E);return Qe.useEffect(function(){if(ue.current){var ve=WD(E,ke,["paymentRequest"]);ve&&"update"in ue.current&&ue.current.update(ve)}},[E,ke]),Qe.useLayoutEffect(function(){return function(){if(ue.current&&typeof ue.current.destroy=="function")try{ue.current.destroy(),ue.current=null}catch{}}},[]),Qe.createElement("div",{id:f,className:m,ref:W})},s=function(d){AE("mounts <".concat(r,">"));var f=d.id,m=d.className;return Qe.createElement("div",{id:f,className:m})},l=t?s:i;return l.propTypes={id:Et.string,className:Et.string,onChange:Et.func,onBlur:Et.func,onFocus:Et.func,onReady:Et.func,onEscape:Et.func,onClick:Et.func,onLoadError:Et.func,onLoaderStart:Et.func,onNetworksChange:Et.func,onConfirm:Et.func,onCancel:Et.func,onShippingAddressChange:Et.func,onShippingRateChange:Et.func,onSavedPaymentMethodRemove:Et.func,onSavedPaymentMethodUpdate:Et.func,options:Et.object},l.displayName=r,l.__elementType=e,l},nn=typeof window>"u",rQ=Qe.createContext(null);rQ.displayName="EmbeddedCheckoutProviderContext";var iQ=function(){var e=AE("calls useStripe()"),t=e.stripe;return t};tn("auBankAccount",nn);var ib=tn("card",nn);tn("cardNumber",nn);tn("cardExpiry",nn);tn("cardCvc",nn);tn("fpxBank",nn);tn("iban",nn);tn("idealBank",nn);tn("p24Bank",nn);tn("epsBank",nn);tn("payment",nn);tn("expressCheckout",nn);tn("paymentRequestButton",nn);tn("linkAuthentication",nn);tn("address",nn);tn("shippingAddress",nn);tn("paymentMethodMessaging",nn);tn("affirmMessage",nn);tn("afterpayClearpayMessage",nn);tn("taxId",nn);const sQ=bt.create({baseURL:"https://amazon-api-deploy-s3up.onrender.com"});function oQ(){const[{user:n,basket:e},t]=G.useContext(qs),r=e?.reduce((T,P)=>(P.amount||1)+T,0),i=e.reduce((T,P)=>P.price*(P.amount||1)+T,0),[s,l]=G.useState(null),[u,d]=G.useState(!1),f=iQ(),m=eQ(),y=Lg(),E=T=>{T?.error?.message?l(T?.error?.message):l("")},C=async T=>{T.preventDefault();try{d(!0);const k=(await sQ.post("/payment/create",{total:i*100})).data?.clientSecret,{error:j,paymentIntent:M}=await f.confirmCardPayment(k,{payment_method:{card:m.getElement(ib)}});if(j){l(j.message),d(!1);return}const $=SO.collection("users").doc(n.uid).collection("orders").doc(M.id);(await $.get()).exists||await $.set({basket:e,amount:M.amount,created:M.created}),t({type:Ur.EMPTY_BASKET}),d(!1),y("/orders",{state:{msg:"You have placed a new order"}})}catch{l("An error occurred during payment. Please try again."),d(!1)}};return D.jsxs(jf,{children:[D.jsxs("div",{className:Ps.payment_header,children:["Checkout (",r," items)"]}),D.jsxs("section",{className:Ps.payment,children:[D.jsxs("div",{className:Ps.flex,children:[D.jsx("h3",{children:"Delivery Address"}),D.jsxs("div",{children:[D.jsx("div",{children:n?.email}),D.jsx("div",{children:"123 React Lane"}),D.jsx("div",{children:"Chicago, IL"})]})]}),D.jsx("hr",{}),D.jsxs("div",{className:Ps.flex,children:[D.jsx("h3",{children:"Review items and delivery"}),D.jsx("div",{children:e?.map(T=>D.jsx(Uc,{product:T,flex:!0},T.id))})]}),D.jsx("hr",{}),D.jsxs("div",{className:Ps.flex,children:[D.jsx("h3",{children:"Payment methods"}),D.jsx("div",{className:Ps.payment_card_container,children:D.jsx("div",{className:Ps.payment_details,children:D.jsxs("form",{onSubmit:C,children:[s&&D.jsx("small",{style:{color:"red"},children:s}),D.jsx(ib,{onChange:E}),D.jsxs("div",{className:Ps.payment_price,children:[D.jsx("div",{children:D.jsxs("span",{style:{display:"flex",gap:"10px"},children:[D.jsx("p",{children:"Total Order |"})," ",D.jsx(Gy,{amount:i})]})}),D.jsx("button",{type:"submit",disabled:u,children:u?D.jsxs("div",{className:Ps.loading,children:[D.jsx(SE,{color:"gray",size:12}),D.jsx("p",{children:"Please Wait ..."})]}):"Pay Now"})]})]})})})]})]})]})}const aQ="_container_1a09o_1",lQ="_order_container_1a09o_9",uw={container:aQ,order_container:lQ};function uQ(){const[{user:n}]=G.useContext(qs),[e,t]=G.useState([]);return G.useEffect(()=>{n?SO.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(r=>{t(r.docs.map(i=>({id:i.id,data:i.data()})))}):t([])},[n]),D.jsx(jf,{children:D.jsx("section",{className:uw.container,children:D.jsxs("div",{className:uw.order_container,children:[D.jsx("h2",{children:"Your Orders"}),e?.length===0&&D.jsx("div",{style:{padding:"20px"},children:"Cart not Ordered Yet"}),D.jsx("div",{children:e?.map(r=>D.jsxs("div",{className:uw.order_block,children:[D.jsx("hr",{}),D.jsxs("p",{children:[D.jsx("strong",{children:"Order ID:"})," ",r.id]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Date:"})," ",new Date(r.data.created*1e3).toLocaleString()]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Total:"})," ",D.jsx(Gy,{amount:r.data.amount/100})]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Items:"})," ",r.data.basket?.length]}),r.data.basket?.map(i=>D.jsx(Uc,{flex:!0,product:i},i.id))]},r.id))})]})})})}const cQ="_container_1t4dq_1",dQ="_cart_product_1t4dq_19",hQ="_btn_container_1t4dq_27",fQ="_btn_1t4dq_27",pQ="_subtotal_1t4dq_59",mQ="_cart_container_1t4dq_67",Wa={container:cQ,cart_product:dQ,btn_container:hQ,btn:fQ,subtotal:pQ,cart_container:mQ};function gQ(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function yQ(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function _Q(){const[{basket:n,user:e},t]=G.useContext(qs),r=n.reduce((l,u)=>u.price*u.amount+l,0),i=l=>{t({type:Ur.ADD_TO_BASKET,item:l})},s=l=>{t({type:Ur.REMOVE_FROM_BASKET,id:l})};return D.jsx(jf,{children:D.jsxs("section",{className:Wa.container,children:[D.jsxs("div",{className:Wa.cart_container,children:[D.jsx("h3",{children:"Your shopping basket "}),D.jsx("hr",{}),n?.length==0?D.jsx("p",{children:"Opps ! No item in your cart"}):n?.map((l,u)=>D.jsxs("section",{className:Wa.cart_product,children:[D.jsx(Uc,{product:l,renderDesc:!0,renderAdd:!1,flex:!0}),D.jsxs("div",{className:Wa.btn_container,children:[D.jsx("button",{className:Wa.btn,onClick:()=>i(l),children:D.jsx(yQ,{size:30})}),D.jsx("span",{children:l.amount}),D.jsx("button",{className:Wa.btn,onClick:()=>s(l.id),children:D.jsx(gQ,{size:30})})]})]},l.id||u))]}),n?.length!==0&&D.jsxs("div",{className:Wa.subtotal,children:[D.jsxs("div",{children:[D.jsxs("p",{children:["Subtotal (",n?.length," items)"]}),D.jsx(Gy,{amount:r})]}),D.jsxs("span",{children:[D.jsx("input",{type:"checkbox"}),D.jsx("small",{children:" This order contains a gift"})]}),D.jsx(ni,{to:"/payments",children:" Continue to checkout"})]})]})})}const QD="https://fakestoreapi.com",vQ="_products_container_11ync_1",wQ={products_container:vQ};function EQ(){const[n,e]=G.useState([]),{categoryName:t}=gb();return G.useEffect(()=>{bt.get(`${QD}/products/category/${t}`).then(r=>{e(r.data)}).catch(r=>{console.log(r)})},[t]),D.jsx(jf,{children:D.jsxs("section",{children:[D.jsx("h1",{style:{padding:"30px"},children:"Results"}),D.jsxs("p",{style:{padding:"30px"},children:["Category / ",t]}),D.jsx("hr",{}),D.jsx("div",{className:wQ.products_container,children:n?.map(r=>D.jsx(Uc,{product:r,renderDesc:!1,renderAdd:!0},r.id))})]})})}function IQ(){const{productId:n}=gb(),[e,t]=G.useState(!1),[r,i]=G.useState();return G.useEffect(()=>{t(!0),bt.get(`${QD}/products/${n}`).then(s=>{i(s.data),t(!1)}).catch(s=>{console.log(s),t(!1)})},[]),D.jsx(Layout,{children:e?D.jsx(jD,{}):D.jsx(Uc,{product:r,flex:!0,renderDesc:!0,renderAdd:!0})})}var YD="basil",TQ=function(e){return e===3?"v3":e},JD="https://js.stripe.com",SQ="".concat(JD,"/").concat(YD,"/stripe.js"),RQ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,AQ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var PQ=function(e){return RQ.test(e)||AQ.test(e)},CQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(JD,'"]')),t=0;t<e.length;t++){var r=e[t];if(PQ(r.src))return r}return null},sb=function(e){var t="",r=document.createElement("script");r.src="".concat(SQ).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},bQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},Jd=null,ym=null,_m=null,kQ=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},xQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},NQ=function(e){return Jd!==null?Jd:(Jd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=CQ();if(!(i&&e)){if(!i)i=sb(e);else if(i&&_m!==null&&ym!==null){var s;i.removeEventListener("load",_m),i.removeEventListener("error",ym),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=sb(e)}}_m=xQ(t,r),ym=kQ(r),i.addEventListener("load",_m),i.addEventListener("error",ym)}catch(l){r(l);return}}),Jd.catch(function(t){return Jd=null,Promise.reject(t)}))},OQ=function(e,t,r){if(e===null)return null;var i=t[0],s=i.match(/^pk_test/),l=TQ(e.version),u=YD;s&&l!==u&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return bQ(d,r),d},Xd,XD=!1,ZD=function(){return Xd||(Xd=NQ(null).catch(function(e){return Xd=null,Promise.reject(e)}),Xd)};Promise.resolve().then(function(){return ZD()}).catch(function(n){XD||console.warn(n)});var DQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];XD=!0;var i=Date.now();return ZD().then(function(s){return OQ(s,t,i)})};const ob=({children:n,msg:e,redirect:t})=>{const r=Lg(),[{user:i},s]=G.useContext(qs);return G.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},LQ=DQ("pk_test_51SBySjPZxtZh0u3Z87DedQmwjRF0L8TaNTqPghrBeqQypQtiUFFN8Gc920zrtF9LmxjL7aIz4bcWkQpIGUqqks7D003RRa2bSq");function VQ(){return D.jsx(bV,{basename:"/Amazon-Clone-2025",children:D.jsxs(oV,{children:[D.jsx(Lo,{path:"/",element:D.jsx(bG,{})}),D.jsx(Lo,{path:"/auth",element:D.jsx(DG,{})}),D.jsx(Lo,{path:"/payments",element:D.jsx(ob,{msg:"you must log in to pay",redirect:"/payments",children:D.jsx(KD,{stripe:LQ,children:D.jsx(oQ,{})})})}),D.jsx(Lo,{path:"/cart",element:D.jsx(_Q,{})}),D.jsx(Lo,{path:"/category/:categoryName",element:D.jsx(EQ,{})}),D.jsx(Lo,{path:"/products/:productId",element:D.jsx(IQ,{})}),D.jsx(Lo,{path:"/orders",element:D.jsx(ob,{msg:"you must login to access your orders",redirect:"/orders",children:D.jsx(uQ,{})})})]})})}function MQ(){const[{user:n},e]=G.useContext(qs);return G.useEffect(()=>{bg.onAuthStateChanged(t=>{e(t?{type:Ur.SET_USER,user:t}:{type:Ur.SET_USER,user:null})})},[]),D.jsx(VQ,{})}const FQ={basket:[],user:null},UQ=(n,e)=>{switch(e.type){case Ur.ADD_TO_BASKET:if(n.basket.find(i=>i.id===e.item.id)){const i=n.basket.map(s=>s.id===e.item.id?{...s,amount:s.amount+1}:s);return{...n,basket:i}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Ur.REMOVE_FROM_BASKET:const r=n.basket.map(i=>i.id===e.id?{...i,amount:i.amount-1}:i).filter(i=>i.amount>0);return{...n,basket:r};case Ur.EMPTY_BASKET:return{...n,basket:[]};case Ur.SET_USER:return{...n,user:e.user};default:return n}},$Q=g2.createRoot(document.getElementById("root"));$Q.render(D.jsx(Qe.StrictMode,{children:D.jsx(oM,{reducer:UQ,initialState:FQ,children:D.jsx(MQ,{})})}));
