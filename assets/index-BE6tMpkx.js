function _2(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function xE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tv={exports:{}},bd={},Sv={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR;function v2(){if(tR)return qe;tR=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function k(z,ie,Pe){this.props=z,this.context=ie,this.refs=R,this.updater=Pe||C}k.prototype.isReactComponent={},k.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=k.prototype;function V(z,ie,Pe){this.props=z,this.context=ie,this.refs=R,this.updater=Pe||C}var $=V.prototype=new j;$.constructor=V,T($,k.prototype),$.isPureReactComponent=!0;var H=Array.isArray,q=Object.prototype.hasOwnProperty,U={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(z,ie,Pe){var ge,De={},Me=null,Ze=null;if(ie!=null)for(ge in ie.ref!==void 0&&(Ze=ie.ref),ie.key!==void 0&&(Me=""+ie.key),ie)q.call(ie,ge)&&!N.hasOwnProperty(ge)&&(De[ge]=ie[ge]);var He=arguments.length-2;if(He===1)De.children=Pe;else if(1<He){for(var at=Array(He),mn=0;mn<He;mn++)at[mn]=arguments[mn+2];De.children=at}if(z&&z.defaultProps)for(ge in He=z.defaultProps,He)De[ge]===void 0&&(De[ge]=He[ge]);return{$$typeof:n,type:z,key:Me,ref:Ze,props:De,_owner:U.current}}function b(z,ie){return{$$typeof:n,type:z.type,key:ie,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function x(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Pe){return ie[Pe]})}var w=/\/+/g;function S(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?x(""+z.key):ie.toString(36)}function B(z,ie,Pe,ge,De){var Me=typeof z;(Me==="undefined"||Me==="boolean")&&(z=null);var Ze=!1;if(z===null)Ze=!0;else switch(Me){case"string":case"number":Ze=!0;break;case"object":switch(z.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=z,De=De(Ze),z=ge===""?"."+S(Ze,0):ge,H(De)?(Pe="",z!=null&&(Pe=z.replace(w,"$&/")+"/"),B(De,ie,Pe,"",function(mn){return mn})):De!=null&&(L(De)&&(De=b(De,Pe+(!De.key||Ze&&Ze.key===De.key?"":(""+De.key).replace(w,"$&/")+"/")+z)),ie.push(De)),1;if(Ze=0,ge=ge===""?".":ge+":",H(z))for(var He=0;He<z.length;He++){Me=z[He];var at=ge+S(Me,He);Ze+=B(Me,ie,Pe,at,De)}else if(at=E(z),typeof at=="function")for(z=at.call(z),He=0;!(Me=z.next()).done;)Me=Me.value,at=ge+S(Me,He++),Ze+=B(Me,ie,Pe,at,De);else if(Me==="object")throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ze}function D(z,ie,Pe){if(z==null)return z;var ge=[],De=0;return B(z,ge,"","",function(Me){return ie.call(Pe,Me,De++)}),ge}function oe(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(Pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=Pe)},function(Pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=Pe)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var ae={current:null},K={transition:null},fe={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:K,ReactCurrentOwner:U};function le(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:D,forEach:function(z,ie,Pe){D(z,function(){ie.apply(this,arguments)},Pe)},count:function(z){var ie=0;return D(z,function(){ie++}),ie},toArray:function(z){return D(z,function(ie){return ie})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},qe.Component=k,qe.Fragment=t,qe.Profiler=i,qe.PureComponent=V,qe.StrictMode=r,qe.Suspense=d,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,qe.act=le,qe.cloneElement=function(z,ie,Pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ge=T({},z.props),De=z.key,Me=z.ref,Ze=z._owner;if(ie!=null){if(ie.ref!==void 0&&(Me=ie.ref,Ze=U.current),ie.key!==void 0&&(De=""+ie.key),z.type&&z.type.defaultProps)var He=z.type.defaultProps;for(at in ie)q.call(ie,at)&&!N.hasOwnProperty(at)&&(ge[at]=ie[at]===void 0&&He!==void 0?He[at]:ie[at])}var at=arguments.length-2;if(at===1)ge.children=Pe;else if(1<at){He=Array(at);for(var mn=0;mn<at;mn++)He[mn]=arguments[mn+2];ge.children=He}return{$$typeof:n,type:z.type,key:De,ref:Me,props:ge,_owner:Ze}},qe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:s,_context:z},z.Consumer=z},qe.createElement=A,qe.createFactory=function(z){var ie=A.bind(null,z);return ie.type=z,ie},qe.createRef=function(){return{current:null}},qe.forwardRef=function(z){return{$$typeof:u,render:z}},qe.isValidElement=L,qe.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:oe}},qe.memo=function(z,ie){return{$$typeof:f,type:z,compare:ie===void 0?null:ie}},qe.startTransition=function(z){var ie=K.transition;K.transition={};try{z()}finally{K.transition=ie}},qe.unstable_act=le,qe.useCallback=function(z,ie){return ae.current.useCallback(z,ie)},qe.useContext=function(z){return ae.current.useContext(z)},qe.useDebugValue=function(){},qe.useDeferredValue=function(z){return ae.current.useDeferredValue(z)},qe.useEffect=function(z,ie){return ae.current.useEffect(z,ie)},qe.useId=function(){return ae.current.useId()},qe.useImperativeHandle=function(z,ie,Pe){return ae.current.useImperativeHandle(z,ie,Pe)},qe.useInsertionEffect=function(z,ie){return ae.current.useInsertionEffect(z,ie)},qe.useLayoutEffect=function(z,ie){return ae.current.useLayoutEffect(z,ie)},qe.useMemo=function(z,ie){return ae.current.useMemo(z,ie)},qe.useReducer=function(z,ie,Pe){return ae.current.useReducer(z,ie,Pe)},qe.useRef=function(z){return ae.current.useRef(z)},qe.useState=function(z){return ae.current.useState(z)},qe.useSyncExternalStore=function(z,ie,Pe){return ae.current.useSyncExternalStore(z,ie,Pe)},qe.useTransition=function(){return ae.current.useTransition()},qe.version="18.3.1",qe}var nR;function sa(){return nR||(nR=1,Sv.exports=v2()),Sv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR;function w2(){if(rR)return bd;rR=1;var n=sa(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,y={},E=null,C=null;f!==void 0&&(E=""+f),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(C=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(y[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:u,key:E,ref:C,props:y,_owner:i.current}}return bd.Fragment=t,bd.jsx=l,bd.jsxs=l,bd}var iR;function E2(){return iR||(iR=1,Tv.exports=w2()),Tv.exports}var F=E2(),Q=sa();const Ne=xE(Q),pw=_2({__proto__:null,default:Ne},[Q]);var nm={},Rv={exports:{}},tr={},Av={exports:{}},Pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function I2(){return sR||(sR=1,(function(n){function e(K,fe){var le=K.length;K.push(fe);e:for(;0<le;){var z=le-1>>>1,ie=K[z];if(0<i(ie,fe))K[z]=fe,K[le]=ie,le=z;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var fe=K[0],le=K.pop();if(le!==fe){K[0]=le;e:for(var z=0,ie=K.length,Pe=ie>>>1;z<Pe;){var ge=2*(z+1)-1,De=K[ge],Me=ge+1,Ze=K[Me];if(0>i(De,le))Me<ie&&0>i(Ze,De)?(K[z]=Ze,K[Me]=le,z=Me):(K[z]=De,K[ge]=le,z=ge);else if(Me<ie&&0>i(Ze,le))K[z]=Ze,K[Me]=le,z=Me;else break e}}return fe}function i(K,fe){var le=K.sortIndex-fe.sortIndex;return le!==0?le:K.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,y=null,E=3,C=!1,T=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(K){for(var fe=t(f);fe!==null;){if(fe.callback===null)r(f);else if(fe.startTime<=K)r(f),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=t(f)}}function H(K){if(R=!1,$(K),!T)if(t(d)!==null)T=!0,oe(q);else{var fe=t(f);fe!==null&&ae(H,fe.startTime-K)}}function q(K,fe){T=!1,R&&(R=!1,j(A),A=-1),C=!0;var le=E;try{for($(fe),y=t(d);y!==null&&(!(y.expirationTime>fe)||K&&!x());){var z=y.callback;if(typeof z=="function"){y.callback=null,E=y.priorityLevel;var ie=z(y.expirationTime<=fe);fe=n.unstable_now(),typeof ie=="function"?y.callback=ie:y===t(d)&&r(d),$(fe)}else r(d);y=t(d)}if(y!==null)var Pe=!0;else{var ge=t(f);ge!==null&&ae(H,ge.startTime-fe),Pe=!1}return Pe}finally{y=null,E=le,C=!1}}var U=!1,N=null,A=-1,b=5,L=-1;function x(){return!(n.unstable_now()-L<b)}function w(){if(N!==null){var K=n.unstable_now();L=K;var fe=!0;try{fe=N(!0,K)}finally{fe?S():(U=!1,N=null)}}else U=!1}var S;if(typeof V=="function")S=function(){V(w)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=w,S=function(){D.postMessage(null)}}else S=function(){k(w,0)};function oe(K){N=K,U||(U=!0,S())}function ae(K,fe){A=k(function(){K(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){T||C||(T=!0,oe(q))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(K){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var le=E;E=fe;try{return K()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,fe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=E;E=K;try{return fe()}finally{E=le}},n.unstable_scheduleCallback=function(K,fe,le){var z=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,K){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=le+ie,K={id:m++,callback:fe,priorityLevel:K,startTime:le,expirationTime:ie,sortIndex:-1},le>z?(K.sortIndex=le,e(f,K),t(d)===null&&K===t(f)&&(R?(j(A),A=-1):R=!0,ae(H,le-z))):(K.sortIndex=ie,e(d,K),T||C||(T=!0,oe(q))),K},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(K){var fe=E;return function(){var le=E;E=fe;try{return K.apply(this,arguments)}finally{E=le}}}})(Pv)),Pv}var oR;function T2(){return oR||(oR=1,Av.exports=I2()),Av.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function S2(){if(aR)return tr;aR=1;var n=sa(),e=T2();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function E(o){return d.call(y,o)?!0:d.call(m,o)?!1:f.test(o)?y[o]=!0:(m[o]=!0,!1)}function C(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,a,c,p){if(a===null||typeof a>"u"||C(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(o,a,c,p,g,_,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=_,this.removeEmptyString=P}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];k[a]=new R(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(j,V);k[a]=new R(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(j,V);k[a]=new R(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(j,V);k[a]=new R(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function $(o,a,c,p){var g=k.hasOwnProperty(a)?k[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,g,p)&&(c=null),p||g===null?E(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?o.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),U=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),K=Symbol.iterator;function fe(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var le=Object.assign,z;function ie(o){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+o}var Pe=!1;function ge(o,a){if(!o||Pe)return"";Pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var p=ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(ee){p=ee}o.call(a.prototype)}else{try{throw Error()}catch(ee){p=ee}o()}}catch(ee){if(ee&&p&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),_=p.stack.split(`
`),P=g.length-1,M=_.length-1;1<=P&&0<=M&&g[P]!==_[M];)M--;for(;1<=P&&0<=M;P--,M--)if(g[P]!==_[M]){if(P!==1||M!==1)do if(P--,M--,0>M||g[P]!==_[M]){var W=`
`+g[P].replace(" at new "," at ");return o.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",o.displayName)),W}while(1<=P&&0<=M);break}}}finally{Pe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function De(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=ge(o.type,!1),o;case 11:return o=ge(o.type.render,!1),o;case 1:return o=ge(o.type,!0),o;default:return""}}function Me(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case U:return"Portal";case b:return"Profiler";case A:return"StrictMode";case S:return"Suspense";case B:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case L:return(o._context.displayName||"Context")+".Provider";case w:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return a=o.displayName||null,a!==null?a:Me(o.type)||"Memo";case oe:a=o._payload,o=o._init;try{return Me(o(a))}catch{}}return null}function Ze(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function at(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mn(o){var a=at(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(P){p=""+P,_.call(this,P)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function os(o){o._valueTracker||(o._valueTracker=mn(o))}function qr(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=at(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function gn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function fi(o,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function kl(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=He(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function eo(o,a){a=a.checked,a!=null&&$(o,"checked",a,!1)}function as(o,a){eo(o,a);var c=He(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Dt(o,a.type,c):a.hasOwnProperty("defaultValue")&&Dt(o,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function ma(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Dt(o,a,c){(a!=="number"||gn(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Tt=Array.isArray;function We(o,a,c,p){if(o=o.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=a.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&p&&(o[c].defaultSelected=!0)}else{for(c=""+He(c),a=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,p&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function ft(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function yn(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Tt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:He(c)}}function ls(o,a){var c=He(a.value),p=He(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function jn(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function br(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?br(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Cn,to=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,g)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Cn=Cn||document.createElement("div"),Cn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Cn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function ga(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wf=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(o){Wf.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),no[a]=no[o]})});function ro(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||no.hasOwnProperty(o)&&no[o]?(""+a).trim():a+"px"}function xl(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=ro(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,g):o[c]=g}}var $c=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hr(o,a){if(a){if($c[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ol(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function Nl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var us=null,cs=null,Lt=null;function jc(o){if(o=pd(o)){if(typeof us!="function")throw Error(t(280));var a=o.stateNode;a&&(a=yp(a),us(o.stateNode,o.type,a))}}function so(o){cs?Lt?Lt.push(o):Lt=[o]:cs=o}function oo(){if(cs){var o=cs,a=Lt;if(Lt=cs=null,jc(o),a)for(o=0;o<a.length;o++)jc(a[o])}}function qf(o,a){return o(a)}function Hf(){}var pi=!1;function Kf(o,a,c){if(pi)return o(a,c);pi=!0;try{return qf(o,a,c)}finally{pi=!1,(cs!==null||Lt!==null)&&(Hf(),oo())}}function ya(o,a){var c=o.stateNode;if(c===null)return null;var p=yp(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ao=!1;if(u)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){ao=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{ao=!1}function Gf(o,a,c,p,g,_,P,M,W){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(he){this.onError(he)}}var ds=!1,mi=null,Dl=!1,kr=null,Qf={onError:function(o){ds=!0,mi=o}};function Yf(o,a,c,p,g,_,P,M,W){ds=!1,mi=null,Gf.apply(Qf,arguments)}function Bc(o,a,c,p,g,_,P,M,W){if(Yf.apply(this,arguments),ds){if(ds){var ee=mi;ds=!1,mi=null}else throw Error(t(198));Dl||(Dl=!0,kr=ee)}}function Kr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function zc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Jf(o){if(Kr(o)!==o)throw Error(t(188))}function Xf(o){var a=o.alternate;if(!a){if(a=Kr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return Jf(g),o;if(_===p)return Jf(g),a;_=_.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=_;else{for(var P=!1,M=g.child;M;){if(M===c){P=!0,c=g,p=_;break}if(M===p){P=!0,p=g,c=_;break}M=M.sibling}if(!P){for(M=_.child;M;){if(M===c){P=!0,c=_,p=g;break}if(M===p){P=!0,p=_,c=g;break}M=M.sibling}if(!P)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Zf(o){return o=Xf(o),o!==null?_a(o):null}function _a(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=_a(o);if(a!==null)return a;o=o.sibling}return null}var Wc=e.unstable_scheduleCallback,Ll=e.unstable_cancelCallback,va=e.unstable_shouldYield,hs=e.unstable_requestPaint,vt=e.unstable_now,e_=e.unstable_getCurrentPriorityLevel,Vl=e.unstable_ImmediatePriority,qc=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,Hc=e.unstable_LowPriority,Ml=e.unstable_IdlePriority,Ea=null,cr=null;function ep(o){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Ea,o,void 0,(o.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Ia,gi=Math.log,xr=Math.LN2;function Ia(o){return o>>>=0,o===0?32:31-(gi(o)/xr|0)|0}var yi=64,uo=4194304;function rt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fs(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,g=o.suspendedLanes,_=o.pingedLanes,P=c&268435455;if(P!==0){var M=P&~g;M!==0?p=rt(M):(_&=P,_!==0&&(p=rt(_)))}else P=c&~g,P!==0?p=rt(P):_!==0&&(p=rt(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-dr(a),g=1<<c,p|=o[c],a&=~g;return p}function Ta(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,g=o.expirationTimes,_=o.pendingLanes;0<_;){var P=31-dr(_),M=1<<P,W=g[P];W===-1?((M&c)===0||(M&p)!==0)&&(g[P]=Ta(M,a)):W<=a&&(o.expiredLanes|=M),_&=~M}}function Kc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Gc(){var o=yi;return yi<<=1,(yi&4194240)===0&&(yi=64),o}function Qc(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Ra(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-dr(a),o[a]=c}function t_(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-dr(c),_=1<<g;a[g]=0,p[g]=-1,o[g]=-1,c&=~_}}function Yc(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-dr(c),g=1<<p;g&a|o[p]&a&&(o[p]|=a),c&=~g}}var Ye=0;function _i(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Jc,Fl,Xc,Zc,ed,vi=!1,Ul=[],wi=null,Ei=null,_n=null,Aa=new Map,ps=new Map,hr=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function co(o,a){switch(o){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Aa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(a.pointerId)}}function Gr(o,a,c,p,g,_){return o===null||o.nativeEvent!==_?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[g]},a!==null&&(a=pd(a),a!==null&&Fl(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function np(o,a,c,p,g){switch(a){case"focusin":return wi=Gr(wi,o,a,c,p,g),!0;case"dragenter":return Ei=Gr(Ei,o,a,c,p,g),!0;case"mouseover":return _n=Gr(_n,o,a,c,p,g),!0;case"pointerover":var _=g.pointerId;return Aa.set(_,Gr(Aa.get(_)||null,o,a,c,p,g)),!0;case"gotpointercapture":return _=g.pointerId,ps.set(_,Gr(ps.get(_)||null,o,a,c,p,g)),!0}return!1}function $l(o){var a=ka(o.target);if(a!==null){var c=Kr(a);if(c!==null){if(a=c.tag,a===13){if(a=zc(c),a!==null){o.blockedOn=a,ed(o.priority,function(){Xc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function mt(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=jl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);io=p,c.target.dispatchEvent(p),io=null}else return a=pd(c),a!==null&&Fl(a),o.blockedOn=c,!1;a.shift()}return!0}function rp(o,a,c){mt(o)&&c.delete(a)}function n_(){vi=!1,wi!==null&&mt(wi)&&(wi=null),Ei!==null&&mt(Ei)&&(Ei=null),_n!==null&&mt(_n)&&(_n=null),Aa.forEach(rp),ps.forEach(rp)}function ho(o,a){o.blockedOn===a&&(o.blockedOn=null,vi||(vi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,n_)))}function fo(o){function a(g){return ho(g,o)}if(0<Ul.length){ho(Ul[0],o);for(var c=1;c<Ul.length;c++){var p=Ul[c];p.blockedOn===o&&(p.blockedOn=null)}}for(wi!==null&&ho(wi,o),Ei!==null&&ho(Ei,o),_n!==null&&ho(_n,o),Aa.forEach(a),ps.forEach(a),c=0;c<hr.length;c++)p=hr[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<hr.length&&(c=hr[0],c.blockedOn===null);)$l(c),c.blockedOn===null&&hr.shift()}var ms=H.ReactCurrentBatchConfig,gs=!0;function Ii(o,a,c,p){var g=Ye,_=ms.transition;ms.transition=null;try{Ye=1,td(o,a,c,p)}finally{Ye=g,ms.transition=_}}function ip(o,a,c,p){var g=Ye,_=ms.transition;ms.transition=null;try{Ye=4,td(o,a,c,p)}finally{Ye=g,ms.transition=_}}function td(o,a,c,p){if(gs){var g=jl(o,a,c,p);if(g===null)f_(o,a,p,Ti,c),co(o,p);else if(np(g,o,a,c,p))p.stopPropagation();else if(co(o,p),a&4&&-1<tp.indexOf(o)){for(;g!==null;){var _=pd(g);if(_!==null&&Jc(_),_=jl(o,a,c,p),_===null&&f_(o,a,p,Ti,c),_===g)break;g=_}g!==null&&p.stopPropagation()}else f_(o,a,p,null,c)}}var Ti=null;function jl(o,a,c,p){if(Ti=null,o=Nl(p),o=ka(o),o!==null)if(a=Kr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=zc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Ti=o,null}function Bl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e_()){case Vl:return 1;case qc:return 4;case wa:case Hc:return 16;case Ml:return 536870912;default:return 16}default:return 16}}var fr=null,zl=null,ys=null;function sp(){if(ys)return ys;var o,a=zl,c=a.length,p,g="value"in fr?fr.value:fr.textContent,_=g.length;for(o=0;o<c&&a[o]===g[o];o++);var P=c-o;for(p=1;p<=P&&a[c-p]===g[_-p];p++);return ys=g.slice(o,1<p?1-p:void 0)}function Pa(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Si(){return!0}function nd(){return!1}function bn(o){function a(c,p,g,_,P){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(c=o[M],this[M]=c?c(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Si:nd,this.isPropagationStopped=nd,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),a}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=bn(Ri),po=le({},Ri,{view:0,detail:0}),Wl=bn(po),ql,Hl,pr,ba=le({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(ql=o.screenX-pr.screenX,Hl=o.screenY-pr.screenY):Hl=ql=0,pr=o),ql)},movementY:function(o){return"movementY"in o?o.movementY:Hl}}),rd=bn(ba),op=le({},ba,{dataTransfer:0}),ap=bn(op),Kl=le({},po,{relatedTarget:0}),vn=bn(Kl),lp=le({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),up=bn(lp),mo=le({},Ri,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),h=bn(mo),v=le({},Ri,{data:0}),I=bn(v),O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _e(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=ne[o])?!!a[o]:!1}function $e(){return _e}var Bt=le({},po,{key:function(o){if(o.key){var a=O[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Pa(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(o){return o.type==="keypress"?Pa(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Pa(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),lt=bn(Bt),Gt=le({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mr=bn(Gt),_s=le({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),Ai=bn(_s),Pi=le({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=bn(Pi),id=le({},ba,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),hL=bn(id),fL=[9,13,27,32],r_=u&&"CompositionEvent"in window,sd=null;u&&"documentMode"in document&&(sd=document.documentMode);var pL=u&&"TextEvent"in window&&!sd,KT=u&&(!r_||sd&&8<sd&&11>=sd),GT=" ",QT=!1;function YT(o,a){switch(o){case"keyup":return fL.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ql=!1;function mL(o,a){switch(o){case"compositionend":return JT(a);case"keypress":return a.which!==32?null:(QT=!0,GT);case"textInput":return o=a.data,o===GT&&QT?null:o;default:return null}}function gL(o,a){if(Ql)return o==="compositionend"||!r_&&YT(o,a)?(o=sp(),ys=zl=fr=null,Ql=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return KT&&a.locale!=="ko"?null:a.data;default:return null}}var yL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XT(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!yL[o.type]:a==="textarea"}function ZT(o,a,c,p){so(p),a=pp(a,"onChange"),0<a.length&&(c=new Ca("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var od=null,ad=null;function _L(o){yS(o,0)}function cp(o){var a=eu(o);if(qr(a))return o}function vL(o,a){if(o==="change")return a}var eS=!1;if(u){var i_;if(u){var s_="oninput"in document;if(!s_){var tS=document.createElement("div");tS.setAttribute("oninput","return;"),s_=typeof tS.oninput=="function"}i_=s_}else i_=!1;eS=i_&&(!document.documentMode||9<document.documentMode)}function nS(){od&&(od.detachEvent("onpropertychange",rS),ad=od=null)}function rS(o){if(o.propertyName==="value"&&cp(ad)){var a=[];ZT(a,ad,o,Nl(o)),Kf(_L,a)}}function wL(o,a,c){o==="focusin"?(nS(),od=a,ad=c,od.attachEvent("onpropertychange",rS)):o==="focusout"&&nS()}function EL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return cp(ad)}function IL(o,a){if(o==="click")return cp(a)}function TL(o,a){if(o==="input"||o==="change")return cp(a)}function SL(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Qr=typeof Object.is=="function"?Object.is:SL;function ld(o,a){if(Qr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!d.call(a,g)||!Qr(o[g],a[g]))return!1}return!0}function iS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function sS(o,a){var c=iS(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=iS(c)}}function oS(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?oS(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function aS(){for(var o=window,a=gn();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=gn(o.document)}return a}function o_(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function RL(o){var a=aS(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&oS(c.ownerDocument.documentElement,c)){if(p!==null&&o_(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,_=Math.min(p.start,g);p=p.end===void 0?_:Math.min(p.end,g),!o.extend&&_>p&&(g=p,p=_,_=g),g=sS(c,_);var P=sS(c,p);g&&P&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),o.removeAllRanges(),_>p?(o.addRange(a),o.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var AL=u&&"documentMode"in document&&11>=document.documentMode,Yl=null,a_=null,ud=null,l_=!1;function lS(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;l_||Yl==null||Yl!==gn(p)||(p=Yl,"selectionStart"in p&&o_(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ud&&ld(ud,p)||(ud=p,p=pp(a_,"onSelect"),0<p.length&&(a=new Ca("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=Yl)))}function dp(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Jl={animationend:dp("Animation","AnimationEnd"),animationiteration:dp("Animation","AnimationIteration"),animationstart:dp("Animation","AnimationStart"),transitionend:dp("Transition","TransitionEnd")},u_={},uS={};u&&(uS=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function hp(o){if(u_[o])return u_[o];if(!Jl[o])return o;var a=Jl[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in uS)return u_[o]=a[c];return o}var cS=hp("animationend"),dS=hp("animationiteration"),hS=hp("animationstart"),fS=hp("transitionend"),pS=new Map,mS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(o,a){pS.set(o,a),s(a,[o])}for(var c_=0;c_<mS.length;c_++){var d_=mS[c_],PL=d_.toLowerCase(),CL=d_[0].toUpperCase()+d_.slice(1);go(PL,"on"+CL)}go(cS,"onAnimationEnd"),go(dS,"onAnimationIteration"),go(hS,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(fS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bL=new Set("cancel close invalid load scroll toggle".split(" ").concat(cd));function gS(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Bc(p,a,void 0,o),o.currentTarget=null}function yS(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],g=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var P=p.length-1;0<=P;P--){var M=p[P],W=M.instance,ee=M.currentTarget;if(M=M.listener,W!==_&&g.isPropagationStopped())break e;gS(g,M,ee),_=W}else for(P=0;P<p.length;P++){if(M=p[P],W=M.instance,ee=M.currentTarget,M=M.listener,W!==_&&g.isPropagationStopped())break e;gS(g,M,ee),_=W}}}if(Dl)throw o=kr,Dl=!1,kr=null,o}function wt(o,a){var c=a[v_];c===void 0&&(c=a[v_]=new Set);var p=o+"__bubble";c.has(p)||(_S(a,o,2,!1),c.add(p))}function h_(o,a,c){var p=0;a&&(p|=4),_S(c,o,p,a)}var fp="_reactListening"+Math.random().toString(36).slice(2);function dd(o){if(!o[fp]){o[fp]=!0,r.forEach(function(c){c!=="selectionchange"&&(bL.has(c)||h_(c,!1,o),h_(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[fp]||(a[fp]=!0,h_("selectionchange",!1,a))}}function _S(o,a,c,p){switch(Bl(a)){case 1:var g=Ii;break;case 4:g=ip;break;default:g=td}c=g.bind(null,a,c,o),g=void 0,!ao||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?o.addEventListener(a,c,{capture:!0,passive:g}):o.addEventListener(a,c,!0):g!==void 0?o.addEventListener(a,c,{passive:g}):o.addEventListener(a,c,!1)}function f_(o,a,c,p,g){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var M=p.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(P===4)for(P=p.return;P!==null;){var W=P.tag;if((W===3||W===4)&&(W=P.stateNode.containerInfo,W===g||W.nodeType===8&&W.parentNode===g))return;P=P.return}for(;M!==null;){if(P=ka(M),P===null)return;if(W=P.tag,W===5||W===6){p=_=P;continue e}M=M.parentNode}}p=p.return}Kf(function(){var ee=_,he=Nl(c),me=[];e:{var ce=pS.get(o);if(ce!==void 0){var Ie=Ca,Se=o;switch(o){case"keypress":if(Pa(c)===0)break e;case"keydown":case"keyup":Ie=lt;break;case"focusin":Se="focus",Ie=vn;break;case"focusout":Se="blur",Ie=vn;break;case"beforeblur":case"afterblur":Ie=vn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Ai;break;case cS:case dS:case hS:Ie=up;break;case fS:Ie=Gl;break;case"scroll":Ie=Wl;break;case"wheel":Ie=hL;break;case"copy":case"cut":case"paste":Ie=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=mr}var Ae=(a&4)!==0,zt=!Ae&&o==="scroll",J=Ae?ce!==null?ce+"Capture":null:ce;Ae=[];for(var G=ee,Z;G!==null;){Z=G;var ye=Z.stateNode;if(Z.tag===5&&ye!==null&&(Z=ye,J!==null&&(ye=ya(G,J),ye!=null&&Ae.push(hd(G,ye,Z)))),zt)break;G=G.return}0<Ae.length&&(ce=new Ie(ce,Se,null,c,he),me.push({event:ce,listeners:Ae}))}}if((a&7)===0){e:{if(ce=o==="mouseover"||o==="pointerover",Ie=o==="mouseout"||o==="pointerout",ce&&c!==io&&(Se=c.relatedTarget||c.fromElement)&&(ka(Se)||Se[vs]))break e;if((Ie||ce)&&(ce=he.window===he?he:(ce=he.ownerDocument)?ce.defaultView||ce.parentWindow:window,Ie?(Se=c.relatedTarget||c.toElement,Ie=ee,Se=Se?ka(Se):null,Se!==null&&(zt=Kr(Se),Se!==zt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(Ie=null,Se=ee),Ie!==Se)){if(Ae=rd,ye="onMouseLeave",J="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=mr,ye="onPointerLeave",J="onPointerEnter",G="pointer"),zt=Ie==null?ce:eu(Ie),Z=Se==null?ce:eu(Se),ce=new Ae(ye,G+"leave",Ie,c,he),ce.target=zt,ce.relatedTarget=Z,ye=null,ka(he)===ee&&(Ae=new Ae(J,G+"enter",Se,c,he),Ae.target=Z,Ae.relatedTarget=zt,ye=Ae),zt=ye,Ie&&Se)t:{for(Ae=Ie,J=Se,G=0,Z=Ae;Z;Z=Xl(Z))G++;for(Z=0,ye=J;ye;ye=Xl(ye))Z++;for(;0<G-Z;)Ae=Xl(Ae),G--;for(;0<Z-G;)J=Xl(J),Z--;for(;G--;){if(Ae===J||J!==null&&Ae===J.alternate)break t;Ae=Xl(Ae),J=Xl(J)}Ae=null}else Ae=null;Ie!==null&&vS(me,ce,Ie,Ae,!1),Se!==null&&zt!==null&&vS(me,zt,Se,Ae,!0)}}e:{if(ce=ee?eu(ee):window,Ie=ce.nodeName&&ce.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ce.type==="file")var Ce=vL;else if(XT(ce))if(eS)Ce=TL;else{Ce=EL;var xe=wL}else(Ie=ce.nodeName)&&Ie.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ce=IL);if(Ce&&(Ce=Ce(o,ee))){ZT(me,Ce,c,he);break e}xe&&xe(o,ce,ee),o==="focusout"&&(xe=ce._wrapperState)&&xe.controlled&&ce.type==="number"&&Dt(ce,"number",ce.value)}switch(xe=ee?eu(ee):window,o){case"focusin":(XT(xe)||xe.contentEditable==="true")&&(Yl=xe,a_=ee,ud=null);break;case"focusout":ud=a_=Yl=null;break;case"mousedown":l_=!0;break;case"contextmenu":case"mouseup":case"dragend":l_=!1,lS(me,c,he);break;case"selectionchange":if(AL)break;case"keydown":case"keyup":lS(me,c,he)}var Oe;if(r_)e:{switch(o){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ql?YT(o,c)&&(Fe="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(KT&&c.locale!=="ko"&&(Ql||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ql&&(Oe=sp()):(fr=he,zl="value"in fr?fr.value:fr.textContent,Ql=!0)),xe=pp(ee,Fe),0<xe.length&&(Fe=new I(Fe,o,null,c,he),me.push({event:Fe,listeners:xe}),Oe?Fe.data=Oe:(Oe=JT(c),Oe!==null&&(Fe.data=Oe)))),(Oe=pL?mL(o,c):gL(o,c))&&(ee=pp(ee,"onBeforeInput"),0<ee.length&&(he=new I("onBeforeInput","beforeinput",null,c,he),me.push({event:he,listeners:ee}),he.data=Oe))}yS(me,a)})}function hd(o,a,c){return{instance:o,listener:a,currentTarget:c}}function pp(o,a){for(var c=a+"Capture",p=[];o!==null;){var g=o,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=ya(o,c),_!=null&&p.unshift(hd(o,_,g)),_=ya(o,a),_!=null&&p.push(hd(o,_,g))),o=o.return}return p}function Xl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function vS(o,a,c,p,g){for(var _=a._reactName,P=[];c!==null&&c!==p;){var M=c,W=M.alternate,ee=M.stateNode;if(W!==null&&W===p)break;M.tag===5&&ee!==null&&(M=ee,g?(W=ya(c,_),W!=null&&P.unshift(hd(c,W,M))):g||(W=ya(c,_),W!=null&&P.push(hd(c,W,M)))),c=c.return}P.length!==0&&o.push({event:a,listeners:P})}var kL=/\r\n?/g,xL=/\u0000|\uFFFD/g;function wS(o){return(typeof o=="string"?o:""+o).replace(kL,`
`).replace(xL,"")}function mp(o,a,c){if(a=wS(a),wS(o)!==a&&c)throw Error(t(425))}function gp(){}var p_=null,m_=null;function g_(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var y_=typeof setTimeout=="function"?setTimeout:void 0,OL=typeof clearTimeout=="function"?clearTimeout:void 0,ES=typeof Promise=="function"?Promise:void 0,NL=typeof queueMicrotask=="function"?queueMicrotask:typeof ES<"u"?function(o){return ES.resolve(null).then(o).catch(DL)}:y_;function DL(o){setTimeout(function(){throw o})}function __(o,a){var c=a,p=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){o.removeChild(g),fo(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);fo(a)}function yo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function IS(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Zl,fd="__reactProps$"+Zl,vs="__reactContainer$"+Zl,v_="__reactEvents$"+Zl,LL="__reactListeners$"+Zl,VL="__reactHandles$"+Zl;function ka(o){var a=o[Ci];if(a)return a;for(var c=o.parentNode;c;){if(a=c[vs]||c[Ci]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=IS(o);o!==null;){if(c=o[Ci])return c;o=IS(o)}return a}o=c,c=o.parentNode}return null}function pd(o){return o=o[Ci]||o[vs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function eu(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function yp(o){return o[fd]||null}var w_=[],tu=-1;function _o(o){return{current:o}}function Et(o){0>tu||(o.current=w_[tu],w_[tu]=null,tu--)}function gt(o,a){tu++,w_[tu]=o.current,o.current=a}var vo={},kn=_o(vo),Yn=_o(!1),xa=vo;function nu(o,a){var c=o.type.contextTypes;if(!c)return vo;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function Jn(o){return o=o.childContextTypes,o!=null}function _p(){Et(Yn),Et(kn)}function TS(o,a,c){if(kn.current!==vo)throw Error(t(168));gt(kn,a),gt(Yn,c)}function SS(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,Ze(o)||"Unknown",g));return le({},c,p)}function vp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||vo,xa=kn.current,gt(kn,o),gt(Yn,Yn.current),!0}function RS(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=SS(o,a,xa),p.__reactInternalMemoizedMergedChildContext=o,Et(Yn),Et(kn),gt(kn,o)):Et(Yn),gt(Yn,c)}var ws=null,wp=!1,E_=!1;function AS(o){ws===null?ws=[o]:ws.push(o)}function ML(o){wp=!0,AS(o)}function wo(){if(!E_&&ws!==null){E_=!0;var o=0,a=Ye;try{var c=ws;for(Ye=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}ws=null,wp=!1}catch(g){throw ws!==null&&(ws=ws.slice(o+1)),Wc(Vl,wo),g}finally{Ye=a,E_=!1}}return null}var ru=[],iu=0,Ep=null,Ip=0,Or=[],Nr=0,Oa=null,Es=1,Is="";function Na(o,a){ru[iu++]=Ip,ru[iu++]=Ep,Ep=o,Ip=a}function PS(o,a,c){Or[Nr++]=Es,Or[Nr++]=Is,Or[Nr++]=Oa,Oa=o;var p=Es;o=Is;var g=32-dr(p)-1;p&=~(1<<g),c+=1;var _=32-dr(a)+g;if(30<_){var P=g-g%5;_=(p&(1<<P)-1).toString(32),p>>=P,g-=P,Es=1<<32-dr(a)+g|c<<g|p,Is=_+o}else Es=1<<_|c<<g|p,Is=o}function I_(o){o.return!==null&&(Na(o,1),PS(o,1,0))}function T_(o){for(;o===Ep;)Ep=ru[--iu],ru[iu]=null,Ip=ru[--iu],ru[iu]=null;for(;o===Oa;)Oa=Or[--Nr],Or[Nr]=null,Is=Or[--Nr],Or[Nr]=null,Es=Or[--Nr],Or[Nr]=null}var gr=null,yr=null,St=!1,Yr=null;function CS(o,a){var c=Mr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function bS(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,gr=o,yr=yo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,gr=o,yr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Oa!==null?{id:Es,overflow:Is}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Mr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,gr=o,yr=null,!0):!1;default:return!1}}function S_(o){return(o.mode&1)!==0&&(o.flags&128)===0}function R_(o){if(St){var a=yr;if(a){var c=a;if(!bS(o,a)){if(S_(o))throw Error(t(418));a=yo(c.nextSibling);var p=gr;a&&bS(o,a)?CS(p,c):(o.flags=o.flags&-4097|2,St=!1,gr=o)}}else{if(S_(o))throw Error(t(418));o.flags=o.flags&-4097|2,St=!1,gr=o}}}function kS(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;gr=o}function Tp(o){if(o!==gr)return!1;if(!St)return kS(o),St=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!g_(o.type,o.memoizedProps)),a&&(a=yr)){if(S_(o))throw xS(),Error(t(418));for(;a;)CS(o,a),a=yo(a.nextSibling)}if(kS(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){yr=yo(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}yr=null}}else yr=gr?yo(o.stateNode.nextSibling):null;return!0}function xS(){for(var o=yr;o;)o=yo(o.nextSibling)}function su(){yr=gr=null,St=!1}function A_(o){Yr===null?Yr=[o]:Yr.push(o)}var FL=H.ReactCurrentBatchConfig;function md(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var g=p,_=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(P){var M=g.refs;P===null?delete M[_]:M[_]=P},a._stringRef=_,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function Sp(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function OS(o){var a=o._init;return a(o._payload)}function NS(o){function a(J,G){if(o){var Z=J.deletions;Z===null?(J.deletions=[G],J.flags|=16):Z.push(G)}}function c(J,G){if(!o)return null;for(;G!==null;)a(J,G),G=G.sibling;return null}function p(J,G){for(J=new Map;G!==null;)G.key!==null?J.set(G.key,G):J.set(G.index,G),G=G.sibling;return J}function g(J,G){return J=Co(J,G),J.index=0,J.sibling=null,J}function _(J,G,Z){return J.index=Z,o?(Z=J.alternate,Z!==null?(Z=Z.index,Z<G?(J.flags|=2,G):Z):(J.flags|=2,G)):(J.flags|=1048576,G)}function P(J){return o&&J.alternate===null&&(J.flags|=2),J}function M(J,G,Z,ye){return G===null||G.tag!==6?(G=yv(Z,J.mode,ye),G.return=J,G):(G=g(G,Z),G.return=J,G)}function W(J,G,Z,ye){var Ce=Z.type;return Ce===N?he(J,G,Z.props.children,ye,Z.key):G!==null&&(G.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===oe&&OS(Ce)===G.type)?(ye=g(G,Z.props),ye.ref=md(J,G,Z),ye.return=J,ye):(ye=Gp(Z.type,Z.key,Z.props,null,J.mode,ye),ye.ref=md(J,G,Z),ye.return=J,ye)}function ee(J,G,Z,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=_v(Z,J.mode,ye),G.return=J,G):(G=g(G,Z.children||[]),G.return=J,G)}function he(J,G,Z,ye,Ce){return G===null||G.tag!==7?(G=ja(Z,J.mode,ye,Ce),G.return=J,G):(G=g(G,Z),G.return=J,G)}function me(J,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number")return G=yv(""+G,J.mode,Z),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return Z=Gp(G.type,G.key,G.props,null,J.mode,Z),Z.ref=md(J,null,G),Z.return=J,Z;case U:return G=_v(G,J.mode,Z),G.return=J,G;case oe:var ye=G._init;return me(J,ye(G._payload),Z)}if(Tt(G)||fe(G))return G=ja(G,J.mode,Z,null),G.return=J,G;Sp(J,G)}return null}function ce(J,G,Z,ye){var Ce=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ce!==null?null:M(J,G,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:return Z.key===Ce?W(J,G,Z,ye):null;case U:return Z.key===Ce?ee(J,G,Z,ye):null;case oe:return Ce=Z._init,ce(J,G,Ce(Z._payload),ye)}if(Tt(Z)||fe(Z))return Ce!==null?null:he(J,G,Z,ye,null);Sp(J,Z)}return null}function Ie(J,G,Z,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return J=J.get(Z)||null,M(G,J,""+ye,Ce);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case q:return J=J.get(ye.key===null?Z:ye.key)||null,W(G,J,ye,Ce);case U:return J=J.get(ye.key===null?Z:ye.key)||null,ee(G,J,ye,Ce);case oe:var xe=ye._init;return Ie(J,G,Z,xe(ye._payload),Ce)}if(Tt(ye)||fe(ye))return J=J.get(Z)||null,he(G,J,ye,Ce,null);Sp(G,ye)}return null}function Se(J,G,Z,ye){for(var Ce=null,xe=null,Oe=G,Fe=G=0,cn=null;Oe!==null&&Fe<Z.length;Fe++){Oe.index>Fe?(cn=Oe,Oe=null):cn=Oe.sibling;var tt=ce(J,Oe,Z[Fe],ye);if(tt===null){Oe===null&&(Oe=cn);break}o&&Oe&&tt.alternate===null&&a(J,Oe),G=_(tt,G,Fe),xe===null?Ce=tt:xe.sibling=tt,xe=tt,Oe=cn}if(Fe===Z.length)return c(J,Oe),St&&Na(J,Fe),Ce;if(Oe===null){for(;Fe<Z.length;Fe++)Oe=me(J,Z[Fe],ye),Oe!==null&&(G=_(Oe,G,Fe),xe===null?Ce=Oe:xe.sibling=Oe,xe=Oe);return St&&Na(J,Fe),Ce}for(Oe=p(J,Oe);Fe<Z.length;Fe++)cn=Ie(Oe,J,Fe,Z[Fe],ye),cn!==null&&(o&&cn.alternate!==null&&Oe.delete(cn.key===null?Fe:cn.key),G=_(cn,G,Fe),xe===null?Ce=cn:xe.sibling=cn,xe=cn);return o&&Oe.forEach(function(bo){return a(J,bo)}),St&&Na(J,Fe),Ce}function Ae(J,G,Z,ye){var Ce=fe(Z);if(typeof Ce!="function")throw Error(t(150));if(Z=Ce.call(Z),Z==null)throw Error(t(151));for(var xe=Ce=null,Oe=G,Fe=G=0,cn=null,tt=Z.next();Oe!==null&&!tt.done;Fe++,tt=Z.next()){Oe.index>Fe?(cn=Oe,Oe=null):cn=Oe.sibling;var bo=ce(J,Oe,tt.value,ye);if(bo===null){Oe===null&&(Oe=cn);break}o&&Oe&&bo.alternate===null&&a(J,Oe),G=_(bo,G,Fe),xe===null?Ce=bo:xe.sibling=bo,xe=bo,Oe=cn}if(tt.done)return c(J,Oe),St&&Na(J,Fe),Ce;if(Oe===null){for(;!tt.done;Fe++,tt=Z.next())tt=me(J,tt.value,ye),tt!==null&&(G=_(tt,G,Fe),xe===null?Ce=tt:xe.sibling=tt,xe=tt);return St&&Na(J,Fe),Ce}for(Oe=p(J,Oe);!tt.done;Fe++,tt=Z.next())tt=Ie(Oe,J,Fe,tt.value,ye),tt!==null&&(o&&tt.alternate!==null&&Oe.delete(tt.key===null?Fe:tt.key),G=_(tt,G,Fe),xe===null?Ce=tt:xe.sibling=tt,xe=tt);return o&&Oe.forEach(function(y2){return a(J,y2)}),St&&Na(J,Fe),Ce}function zt(J,G,Z,ye){if(typeof Z=="object"&&Z!==null&&Z.type===N&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:e:{for(var Ce=Z.key,xe=G;xe!==null;){if(xe.key===Ce){if(Ce=Z.type,Ce===N){if(xe.tag===7){c(J,xe.sibling),G=g(xe,Z.props.children),G.return=J,J=G;break e}}else if(xe.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===oe&&OS(Ce)===xe.type){c(J,xe.sibling),G=g(xe,Z.props),G.ref=md(J,xe,Z),G.return=J,J=G;break e}c(J,xe);break}else a(J,xe);xe=xe.sibling}Z.type===N?(G=ja(Z.props.children,J.mode,ye,Z.key),G.return=J,J=G):(ye=Gp(Z.type,Z.key,Z.props,null,J.mode,ye),ye.ref=md(J,G,Z),ye.return=J,J=ye)}return P(J);case U:e:{for(xe=Z.key;G!==null;){if(G.key===xe)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){c(J,G.sibling),G=g(G,Z.children||[]),G.return=J,J=G;break e}else{c(J,G);break}else a(J,G);G=G.sibling}G=_v(Z,J.mode,ye),G.return=J,J=G}return P(J);case oe:return xe=Z._init,zt(J,G,xe(Z._payload),ye)}if(Tt(Z))return Se(J,G,Z,ye);if(fe(Z))return Ae(J,G,Z,ye);Sp(J,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,G!==null&&G.tag===6?(c(J,G.sibling),G=g(G,Z),G.return=J,J=G):(c(J,G),G=yv(Z,J.mode,ye),G.return=J,J=G),P(J)):c(J,G)}return zt}var ou=NS(!0),DS=NS(!1),Rp=_o(null),Ap=null,au=null,P_=null;function C_(){P_=au=Ap=null}function b_(o){var a=Rp.current;Et(Rp),o._currentValue=a}function k_(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function lu(o,a){Ap=o,P_=au=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Xn=!0),o.firstContext=null)}function Dr(o){var a=o._currentValue;if(P_!==o)if(o={context:o,memoizedValue:a,next:null},au===null){if(Ap===null)throw Error(t(308));au=o,Ap.dependencies={lanes:0,firstContext:o}}else au=au.next=o;return a}var Da=null;function x_(o){Da===null?Da=[o]:Da.push(o)}function LS(o,a,c,p){var g=a.interleaved;return g===null?(c.next=c,x_(a)):(c.next=g.next,g.next=c),a.interleaved=c,Ts(o,p)}function Ts(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Eo=!1;function O_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VS(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ss(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Io(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(et&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Ts(o,c)}return g=p.interleaved,g===null?(a.next=a,x_(p)):(a.next=g.next,g.next=a),p.interleaved=a,Ts(o,c)}function Pp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Yc(o,c)}}function MS(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=P:_=_.next=P,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Cp(o,a,c,p){var g=o.updateQueue;Eo=!1;var _=g.firstBaseUpdate,P=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var W=M,ee=W.next;W.next=null,P===null?_=ee:P.next=ee,P=W;var he=o.alternate;he!==null&&(he=he.updateQueue,M=he.lastBaseUpdate,M!==P&&(M===null?he.firstBaseUpdate=ee:M.next=ee,he.lastBaseUpdate=W))}if(_!==null){var me=g.baseState;P=0,he=ee=W=null,M=_;do{var ce=M.lane,Ie=M.eventTime;if((p&ce)===ce){he!==null&&(he=he.next={eventTime:Ie,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Se=o,Ae=M;switch(ce=a,Ie=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){me=Se.call(Ie,me,ce);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,ce=typeof Se=="function"?Se.call(Ie,me,ce):Se,ce==null)break e;me=le({},me,ce);break e;case 2:Eo=!0}}M.callback!==null&&M.lane!==0&&(o.flags|=64,ce=g.effects,ce===null?g.effects=[M]:ce.push(M))}else Ie={eventTime:Ie,lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},he===null?(ee=he=Ie,W=me):he=he.next=Ie,P|=ce;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ce=M,M=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);if(he===null&&(W=me),g.baseState=W,g.firstBaseUpdate=ee,g.lastBaseUpdate=he,a=g.shared.interleaved,a!==null){g=a;do P|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);Ma|=P,o.lanes=P,o.memoizedState=me}}function FS(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var gd={},bi=_o(gd),yd=_o(gd),_d=_o(gd);function La(o){if(o===gd)throw Error(t(174));return o}function N_(o,a){switch(gt(_d,a),gt(yd,o),gt(bi,gd),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Pn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Pn(a,o)}Et(bi),gt(bi,a)}function uu(){Et(bi),Et(yd),Et(_d)}function US(o){La(_d.current);var a=La(bi.current),c=Pn(a,o.type);a!==c&&(gt(yd,o),gt(bi,c))}function D_(o){yd.current===o&&(Et(bi),Et(yd))}var kt=_o(0);function bp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var L_=[];function V_(){for(var o=0;o<L_.length;o++)L_[o]._workInProgressVersionPrimary=null;L_.length=0}var kp=H.ReactCurrentDispatcher,M_=H.ReactCurrentBatchConfig,Va=0,xt=null,rn=null,ln=null,xp=!1,vd=!1,wd=0,UL=0;function xn(){throw Error(t(321))}function F_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!Qr(o[c],a[c]))return!1;return!0}function U_(o,a,c,p,g,_){if(Va=_,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,kp.current=o===null||o.memoizedState===null?zL:WL,o=c(p,g),vd){_=0;do{if(vd=!1,wd=0,25<=_)throw Error(t(301));_+=1,ln=rn=null,a.updateQueue=null,kp.current=qL,o=c(p,g)}while(vd)}if(kp.current=Dp,a=rn!==null&&rn.next!==null,Va=0,ln=rn=xt=null,xp=!1,a)throw Error(t(300));return o}function $_(){var o=wd!==0;return wd=0,o}function ki(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?xt.memoizedState=ln=o:ln=ln.next=o,ln}function Lr(){if(rn===null){var o=xt.alternate;o=o!==null?o.memoizedState:null}else o=rn.next;var a=ln===null?xt.memoizedState:ln.next;if(a!==null)ln=a,rn=o;else{if(o===null)throw Error(t(310));rn=o,o={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},ln===null?xt.memoizedState=ln=o:ln=ln.next=o}return ln}function Ed(o,a){return typeof a=="function"?a(o):a}function j_(o){var a=Lr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=rn,g=p.baseQueue,_=c.pending;if(_!==null){if(g!==null){var P=g.next;g.next=_.next,_.next=P}p.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,p=p.baseState;var M=P=null,W=null,ee=_;do{var he=ee.lane;if((Va&he)===he)W!==null&&(W=W.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),p=ee.hasEagerState?ee.eagerState:o(p,ee.action);else{var me={lane:he,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};W===null?(M=W=me,P=p):W=W.next=me,xt.lanes|=he,Ma|=he}ee=ee.next}while(ee!==null&&ee!==_);W===null?P=p:W.next=M,Qr(p,a.memoizedState)||(Xn=!0),a.memoizedState=p,a.baseState=P,a.baseQueue=W,c.lastRenderedState=p}if(o=c.interleaved,o!==null){g=o;do _=g.lane,xt.lanes|=_,Ma|=_,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function B_(o){var a=Lr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var P=g=g.next;do _=o(_,P.action),P=P.next;while(P!==g);Qr(_,a.memoizedState)||(Xn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,p]}function $S(){}function jS(o,a){var c=xt,p=Lr(),g=a(),_=!Qr(p.memoizedState,g);if(_&&(p.memoizedState=g,Xn=!0),p=p.queue,z_(WS.bind(null,c,p,o),[o]),p.getSnapshot!==a||_||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Id(9,zS.bind(null,c,p,g,a),void 0,null),un===null)throw Error(t(349));(Va&30)!==0||BS(c,a,g)}return g}function BS(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function zS(o,a,c,p){a.value=c,a.getSnapshot=p,qS(a)&&HS(o)}function WS(o,a,c){return c(function(){qS(a)&&HS(o)})}function qS(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!Qr(o,c)}catch{return!0}}function HS(o){var a=Ts(o,1);a!==null&&ei(a,o,1,-1)}function KS(o){var a=ki();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:o},a.queue=o,o=o.dispatch=BL.bind(null,xt,o),[a.memoizedState,o]}function Id(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function GS(){return Lr().memoizedState}function Op(o,a,c,p){var g=ki();xt.flags|=o,g.memoizedState=Id(1|a,c,void 0,p===void 0?null:p)}function Np(o,a,c,p){var g=Lr();p=p===void 0?null:p;var _=void 0;if(rn!==null){var P=rn.memoizedState;if(_=P.destroy,p!==null&&F_(p,P.deps)){g.memoizedState=Id(a,c,_,p);return}}xt.flags|=o,g.memoizedState=Id(1|a,c,_,p)}function QS(o,a){return Op(8390656,8,o,a)}function z_(o,a){return Np(2048,8,o,a)}function YS(o,a){return Np(4,2,o,a)}function JS(o,a){return Np(4,4,o,a)}function XS(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function ZS(o,a,c){return c=c!=null?c.concat([o]):null,Np(4,4,XS.bind(null,a,o),c)}function W_(){}function e0(o,a){var c=Lr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&F_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function t0(o,a){var c=Lr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&F_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function n0(o,a,c){return(Va&21)===0?(o.baseState&&(o.baseState=!1,Xn=!0),o.memoizedState=c):(Qr(c,a)||(c=Gc(),xt.lanes|=c,Ma|=c,o.baseState=!0),a)}function $L(o,a){var c=Ye;Ye=c!==0&&4>c?c:4,o(!0);var p=M_.transition;M_.transition={};try{o(!1),a()}finally{Ye=c,M_.transition=p}}function r0(){return Lr().memoizedState}function jL(o,a,c){var p=Ao(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},i0(o))s0(a,c);else if(c=LS(o,a,c,p),c!==null){var g=zn();ei(c,o,p,g),o0(c,a,p)}}function BL(o,a,c){var p=Ao(o),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(i0(o))s0(a,g);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var P=a.lastRenderedState,M=_(P,c);if(g.hasEagerState=!0,g.eagerState=M,Qr(M,P)){var W=a.interleaved;W===null?(g.next=g,x_(a)):(g.next=W.next,W.next=g),a.interleaved=g;return}}catch{}finally{}c=LS(o,a,g,p),c!==null&&(g=zn(),ei(c,o,p,g),o0(c,a,p))}}function i0(o){var a=o.alternate;return o===xt||a!==null&&a===xt}function s0(o,a){vd=xp=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function o0(o,a,c){if((c&4194240)!==0){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Yc(o,c)}}var Dp={readContext:Dr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},zL={readContext:Dr,useCallback:function(o,a){return ki().memoizedState=[o,a===void 0?null:a],o},useContext:Dr,useEffect:QS,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,Op(4194308,4,XS.bind(null,a,o),c)},useLayoutEffect:function(o,a){return Op(4194308,4,o,a)},useInsertionEffect:function(o,a){return Op(4,2,o,a)},useMemo:function(o,a){var c=ki();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=ki();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=jL.bind(null,xt,o),[p.memoizedState,o]},useRef:function(o){var a=ki();return o={current:o},a.memoizedState=o},useState:KS,useDebugValue:W_,useDeferredValue:function(o){return ki().memoizedState=o},useTransition:function(){var o=KS(!1),a=o[0];return o=$L.bind(null,o[1]),ki().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=xt,g=ki();if(St){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),un===null)throw Error(t(349));(Va&30)!==0||BS(p,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,QS(WS.bind(null,p,_,o),[o]),p.flags|=2048,Id(9,zS.bind(null,p,_,c,a),void 0,null),c},useId:function(){var o=ki(),a=un.identifierPrefix;if(St){var c=Is,p=Es;c=(p&~(1<<32-dr(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=wd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=UL++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},WL={readContext:Dr,useCallback:e0,useContext:Dr,useEffect:z_,useImperativeHandle:ZS,useInsertionEffect:YS,useLayoutEffect:JS,useMemo:t0,useReducer:j_,useRef:GS,useState:function(){return j_(Ed)},useDebugValue:W_,useDeferredValue:function(o){var a=Lr();return n0(a,rn.memoizedState,o)},useTransition:function(){var o=j_(Ed)[0],a=Lr().memoizedState;return[o,a]},useMutableSource:$S,useSyncExternalStore:jS,useId:r0,unstable_isNewReconciler:!1},qL={readContext:Dr,useCallback:e0,useContext:Dr,useEffect:z_,useImperativeHandle:ZS,useInsertionEffect:YS,useLayoutEffect:JS,useMemo:t0,useReducer:B_,useRef:GS,useState:function(){return B_(Ed)},useDebugValue:W_,useDeferredValue:function(o){var a=Lr();return rn===null?a.memoizedState=o:n0(a,rn.memoizedState,o)},useTransition:function(){var o=B_(Ed)[0],a=Lr().memoizedState;return[o,a]},useMutableSource:$S,useSyncExternalStore:jS,useId:r0,unstable_isNewReconciler:!1};function Jr(o,a){if(o&&o.defaultProps){a=le({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function q_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:le({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Lp={isMounted:function(o){return(o=o._reactInternals)?Kr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=zn(),g=Ao(o),_=Ss(p,g);_.payload=a,c!=null&&(_.callback=c),a=Io(o,_,g),a!==null&&(ei(a,o,g,p),Pp(a,o,g))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=zn(),g=Ao(o),_=Ss(p,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=Io(o,_,g),a!==null&&(ei(a,o,g,p),Pp(a,o,g))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=zn(),p=Ao(o),g=Ss(c,p);g.tag=2,a!=null&&(g.callback=a),a=Io(o,g,p),a!==null&&(ei(a,o,p,c),Pp(a,o,p))}};function a0(o,a,c,p,g,_,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,_,P):a.prototype&&a.prototype.isPureReactComponent?!ld(c,p)||!ld(g,_):!0}function l0(o,a,c){var p=!1,g=vo,_=a.contextType;return typeof _=="object"&&_!==null?_=Dr(_):(g=Jn(a)?xa:kn.current,p=a.contextTypes,_=(p=p!=null)?nu(o,g):vo),a=new a(c,_),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Lp,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=_),a}function u0(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&Lp.enqueueReplaceState(a,a.state,null)}function H_(o,a,c,p){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs={},O_(o);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Dr(_):(_=Jn(a)?xa:kn.current,g.context=nu(o,_)),g.state=o.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(q_(o,a,_,c),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Lp.enqueueReplaceState(g,g.state,null),Cp(o,c,g,p),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function cu(o,a){try{var c="",p=a;do c+=De(p),p=p.return;while(p);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:a,stack:g,digest:null}}function K_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function G_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var HL=typeof WeakMap=="function"?WeakMap:Map;function c0(o,a,c){c=Ss(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Bp||(Bp=!0,uv=p),G_(o,a)},c}function d0(o,a,c){c=Ss(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){G_(o,a)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){G_(o,a),typeof p!="function"&&(So===null?So=new Set([this]):So.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function h0(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new HL;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),o=o2.bind(null,o,a,c),a.then(o,o))}function f0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function p0(o,a,c,p,g){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ss(-1,1),a.tag=2,Io(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var KL=H.ReactCurrentOwner,Xn=!1;function Bn(o,a,c,p){a.child=o===null?DS(a,null,c,p):ou(a,o.child,c,p)}function m0(o,a,c,p,g){c=c.render;var _=a.ref;return lu(a,g),p=U_(o,a,c,p,_,g),c=$_(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Rs(o,a,g)):(St&&c&&I_(a),a.flags|=1,Bn(o,a,p,g),a.child)}function g0(o,a,c,p,g){if(o===null){var _=c.type;return typeof _=="function"&&!gv(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,y0(o,a,_,p,g)):(o=Gp(c.type,null,p,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(_=o.child,(o.lanes&g)===0){var P=_.memoizedProps;if(c=c.compare,c=c!==null?c:ld,c(P,p)&&o.ref===a.ref)return Rs(o,a,g)}return a.flags|=1,o=Co(_,p),o.ref=a.ref,o.return=a,a.child=o}function y0(o,a,c,p,g){if(o!==null){var _=o.memoizedProps;if(ld(_,p)&&o.ref===a.ref)if(Xn=!1,a.pendingProps=p=_,(o.lanes&g)!==0)(o.flags&131072)!==0&&(Xn=!0);else return a.lanes=o.lanes,Rs(o,a,g)}return Q_(o,a,c,p,g)}function _0(o,a,c){var p=a.pendingProps,g=p.children,_=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(hu,_r),_r|=c;else{if((c&1073741824)===0)return o=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,gt(hu,_r),_r|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,gt(hu,_r),_r|=p}else _!==null?(p=_.baseLanes|c,a.memoizedState=null):p=c,gt(hu,_r),_r|=p;return Bn(o,a,g,c),a.child}function v0(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Q_(o,a,c,p,g){var _=Jn(c)?xa:kn.current;return _=nu(a,_),lu(a,g),c=U_(o,a,c,p,_,g),p=$_(),o!==null&&!Xn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Rs(o,a,g)):(St&&p&&I_(a),a.flags|=1,Bn(o,a,c,g),a.child)}function w0(o,a,c,p,g){if(Jn(c)){var _=!0;vp(a)}else _=!1;if(lu(a,g),a.stateNode===null)Mp(o,a),l0(a,c,p),H_(a,c,p,g),p=!0;else if(o===null){var P=a.stateNode,M=a.memoizedProps;P.props=M;var W=P.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=Dr(ee):(ee=Jn(c)?xa:kn.current,ee=nu(a,ee));var he=c.getDerivedStateFromProps,me=typeof he=="function"||typeof P.getSnapshotBeforeUpdate=="function";me||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(M!==p||W!==ee)&&u0(a,P,p,ee),Eo=!1;var ce=a.memoizedState;P.state=ce,Cp(a,p,P,g),W=a.memoizedState,M!==p||ce!==W||Yn.current||Eo?(typeof he=="function"&&(q_(a,c,he,p),W=a.memoizedState),(M=Eo||a0(a,c,M,p,ce,W,ee))?(me||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=W),P.props=p,P.state=W,P.context=ee,p=M):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{P=a.stateNode,VS(o,a),M=a.memoizedProps,ee=a.type===a.elementType?M:Jr(a.type,M),P.props=ee,me=a.pendingProps,ce=P.context,W=c.contextType,typeof W=="object"&&W!==null?W=Dr(W):(W=Jn(c)?xa:kn.current,W=nu(a,W));var Ie=c.getDerivedStateFromProps;(he=typeof Ie=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(M!==me||ce!==W)&&u0(a,P,p,W),Eo=!1,ce=a.memoizedState,P.state=ce,Cp(a,p,P,g);var Se=a.memoizedState;M!==me||ce!==Se||Yn.current||Eo?(typeof Ie=="function"&&(q_(a,c,Ie,p),Se=a.memoizedState),(ee=Eo||a0(a,c,ee,p,ce,Se,W)||!1)?(he||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,Se,W),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,Se,W)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||M===o.memoizedProps&&ce===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&ce===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),P.props=p,P.state=Se,P.context=W,p=ee):(typeof P.componentDidUpdate!="function"||M===o.memoizedProps&&ce===o.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&ce===o.memoizedState||(a.flags|=1024),p=!1)}return Y_(o,a,c,p,_,g)}function Y_(o,a,c,p,g,_){v0(o,a);var P=(a.flags&128)!==0;if(!p&&!P)return g&&RS(a,c,!1),Rs(o,a,_);p=a.stateNode,KL.current=a;var M=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&P?(a.child=ou(a,o.child,null,_),a.child=ou(a,null,M,_)):Bn(o,a,M,_),a.memoizedState=p.state,g&&RS(a,c,!0),a.child}function E0(o){var a=o.stateNode;a.pendingContext?TS(o,a.pendingContext,a.pendingContext!==a.context):a.context&&TS(o,a.context,!1),N_(o,a.containerInfo)}function I0(o,a,c,p,g){return su(),A_(g),a.flags|=256,Bn(o,a,c,p),a.child}var J_={dehydrated:null,treeContext:null,retryLane:0};function X_(o){return{baseLanes:o,cachePool:null,transitions:null}}function T0(o,a,c){var p=a.pendingProps,g=kt.current,_=!1,P=(a.flags&128)!==0,M;if((M=P)||(M=o!==null&&o.memoizedState===null?!1:(g&2)!==0),M?(_=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),gt(kt,g&1),o===null)return R_(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(P=p.children,o=p.fallback,_?(p=a.mode,_=a.child,P={mode:"hidden",children:P},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=P):_=Qp(P,p,0,null),o=ja(o,p,c,null),_.return=a,o.return=a,_.sibling=o,a.child=_,a.child.memoizedState=X_(c),a.memoizedState=J_,o):Z_(a,P));if(g=o.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return GL(o,a,P,p,M,g,c);if(_){_=p.fallback,P=a.mode,g=o.child,M=g.sibling;var W={mode:"hidden",children:p.children};return(P&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=W,a.deletions=null):(p=Co(g,W),p.subtreeFlags=g.subtreeFlags&14680064),M!==null?_=Co(M,_):(_=ja(_,P,c,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,P=o.child.memoizedState,P=P===null?X_(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},_.memoizedState=P,_.childLanes=o.childLanes&~c,a.memoizedState=J_,p}return _=o.child,o=_.sibling,p=Co(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function Z_(o,a){return a=Qp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Vp(o,a,c,p){return p!==null&&A_(p),ou(a,o.child,null,c),o=Z_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function GL(o,a,c,p,g,_,P){if(c)return a.flags&256?(a.flags&=-257,p=K_(Error(t(422))),Vp(o,a,P,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(_=p.fallback,g=a.mode,p=Qp({mode:"visible",children:p.children},g,0,null),_=ja(_,g,P,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&ou(a,o.child,null,P),a.child.memoizedState=X_(P),a.memoizedState=J_,_);if((a.mode&1)===0)return Vp(o,a,P,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var M=p.dgst;return p=M,_=Error(t(419)),p=K_(_,p,void 0),Vp(o,a,P,p)}if(M=(P&o.childLanes)!==0,Xn||M){if(p=un,p!==null){switch(P&-P){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|P))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Ts(o,g),ei(p,o,g,-1))}return mv(),p=K_(Error(t(421))),Vp(o,a,P,p)}return g.data==="$?"?(a.flags|=128,a.child=o.child,a=a2.bind(null,o),g._reactRetry=a,null):(o=_.treeContext,yr=yo(g.nextSibling),gr=a,St=!0,Yr=null,o!==null&&(Or[Nr++]=Es,Or[Nr++]=Is,Or[Nr++]=Oa,Es=o.id,Is=o.overflow,Oa=a),a=Z_(a,p.children),a.flags|=4096,a)}function S0(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),k_(o.return,a,c)}function ev(o,a,c,p,g){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=g)}function R0(o,a,c){var p=a.pendingProps,g=p.revealOrder,_=p.tail;if(Bn(o,a,p.children,c),p=kt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&S0(o,c,a);else if(o.tag===19)S0(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(gt(kt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)o=c.alternate,o!==null&&bp(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),ev(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&bp(o)===null){a.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}ev(a,!0,c,null,_);break;case"together":ev(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Mp(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Rs(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Ma|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=Co(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Co(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function QL(o,a,c){switch(a.tag){case 3:E0(a),su();break;case 5:US(a);break;case 1:Jn(a.type)&&vp(a);break;case 4:N_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;gt(Rp,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(gt(kt,kt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?T0(o,a,c):(gt(kt,kt.current&1),o=Rs(o,a,c),o!==null?o.sibling:null);gt(kt,kt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(o.flags&128)!==0){if(p)return R0(o,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),gt(kt,kt.current),p)break;return null;case 22:case 23:return a.lanes=0,_0(o,a,c)}return Rs(o,a,c)}var A0,tv,P0,C0;A0=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},tv=function(){},P0=function(o,a,c,p){var g=o.memoizedProps;if(g!==p){o=a.stateNode,La(bi.current);var _=null;switch(c){case"input":g=fi(o,g),p=fi(o,p),_=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),_=[];break;case"textarea":g=ft(o,g),p=ft(o,p),_=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=gp)}Hr(c,p);var P;c=null;for(ee in g)if(!p.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var M=g[ee];for(P in M)M.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in p){var W=p[ee];if(M=g?.[ee],p.hasOwnProperty(ee)&&W!==M&&(W!=null||M!=null))if(ee==="style")if(M){for(P in M)!M.hasOwnProperty(P)||W&&W.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in W)W.hasOwnProperty(P)&&M[P]!==W[P]&&(c||(c={}),c[P]=W[P])}else c||(_||(_=[]),_.push(ee,c)),c=W;else ee==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,M=M?M.__html:void 0,W!=null&&M!==W&&(_=_||[]).push(ee,W)):ee==="children"?typeof W!="string"&&typeof W!="number"||(_=_||[]).push(ee,""+W):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(W!=null&&ee==="onScroll"&&wt("scroll",o),_||M===W||(_=[])):(_=_||[]).push(ee,W))}c&&(_=_||[]).push("style",c);var ee=_;(a.updateQueue=ee)&&(a.flags|=4)}},C0=function(o,a,c,p){c!==p&&(a.flags|=4)};function Td(o,a){if(!St)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function On(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function YL(o,a,c){var p=a.pendingProps;switch(T_(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(a),null;case 1:return Jn(a.type)&&_p(),On(a),null;case 3:return p=a.stateNode,uu(),Et(Yn),Et(kn),V_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Tp(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yr!==null&&(hv(Yr),Yr=null))),tv(o,a),On(a),null;case 5:D_(a);var g=La(_d.current);if(c=a.type,o!==null&&a.stateNode!=null)P0(o,a,c,p,g),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return On(a),null}if(o=La(bi.current),Tp(a)){p=a.stateNode,c=a.type;var _=a.memoizedProps;switch(p[Ci]=a,p[fd]=_,o=(a.mode&1)!==0,c){case"dialog":wt("cancel",p),wt("close",p);break;case"iframe":case"object":case"embed":wt("load",p);break;case"video":case"audio":for(g=0;g<cd.length;g++)wt(cd[g],p);break;case"source":wt("error",p);break;case"img":case"image":case"link":wt("error",p),wt("load",p);break;case"details":wt("toggle",p);break;case"input":kl(p,_),wt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},wt("invalid",p);break;case"textarea":yn(p,_),wt("invalid",p)}Hr(c,_),g=null;for(var P in _)if(_.hasOwnProperty(P)){var M=_[P];P==="children"?typeof M=="string"?p.textContent!==M&&(_.suppressHydrationWarning!==!0&&mp(p.textContent,M,o),g=["children",M]):typeof M=="number"&&p.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&mp(p.textContent,M,o),g=["children",""+M]):i.hasOwnProperty(P)&&M!=null&&P==="onScroll"&&wt("scroll",p)}switch(c){case"input":os(p),ma(p,_,!0);break;case"textarea":os(p),jn(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=gp)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{P=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=br(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=P.createElement(c,{is:p.is}):(o=P.createElement(c),c==="select"&&(P=o,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):o=P.createElementNS(o,c),o[Ci]=a,o[fd]=p,A0(o,a,!1,!1),a.stateNode=o;e:{switch(P=Ol(c,p),c){case"dialog":wt("cancel",o),wt("close",o),g=p;break;case"iframe":case"object":case"embed":wt("load",o),g=p;break;case"video":case"audio":for(g=0;g<cd.length;g++)wt(cd[g],o);g=p;break;case"source":wt("error",o),g=p;break;case"img":case"image":case"link":wt("error",o),wt("load",o),g=p;break;case"details":wt("toggle",o),g=p;break;case"input":kl(o,p),g=fi(o,p),wt("invalid",o);break;case"option":g=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),wt("invalid",o);break;case"textarea":yn(o,p),g=ft(o,p),wt("invalid",o);break;default:g=p}Hr(c,g),M=g;for(_ in M)if(M.hasOwnProperty(_)){var W=M[_];_==="style"?xl(o,W):_==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&to(o,W)):_==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&ga(o,W):typeof W=="number"&&ga(o,""+W):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?W!=null&&_==="onScroll"&&wt("scroll",o):W!=null&&$(o,_,W,P))}switch(c){case"input":os(o),ma(o,p,!1);break;case"textarea":os(o),jn(o);break;case"option":p.value!=null&&o.setAttribute("value",""+He(p.value));break;case"select":o.multiple=!!p.multiple,_=p.value,_!=null?We(o,!!p.multiple,_,!1):p.defaultValue!=null&&We(o,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=gp)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return On(a),null;case 6:if(o&&a.stateNode!=null)C0(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=La(_d.current),La(bi.current),Tp(a)){if(p=a.stateNode,c=a.memoizedProps,p[Ci]=a,(_=p.nodeValue!==c)&&(o=gr,o!==null))switch(o.tag){case 3:mp(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&mp(p.nodeValue,c,(o.mode&1)!==0)}_&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ci]=a,a.stateNode=p}return On(a),null;case 13:if(Et(kt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(St&&yr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)xS(),su(),a.flags|=98560,_=!1;else if(_=Tp(a),p!==null&&p.dehydrated!==null){if(o===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Ci]=a}else su(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;On(a),_=!1}else Yr!==null&&(hv(Yr),Yr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(kt.current&1)!==0?sn===0&&(sn=3):mv())),a.updateQueue!==null&&(a.flags|=4),On(a),null);case 4:return uu(),tv(o,a),o===null&&dd(a.stateNode.containerInfo),On(a),null;case 10:return b_(a.type._context),On(a),null;case 17:return Jn(a.type)&&_p(),On(a),null;case 19:if(Et(kt),_=a.memoizedState,_===null)return On(a),null;if(p=(a.flags&128)!==0,P=_.rendering,P===null)if(p)Td(_,!1);else{if(sn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(P=bp(o),P!==null){for(a.flags|=128,Td(_,!1),p=P.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)_=c,o=p,_.flags&=14680066,P=_.alternate,P===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=P.childLanes,_.lanes=P.lanes,_.child=P.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=P.memoizedProps,_.memoizedState=P.memoizedState,_.updateQueue=P.updateQueue,_.type=P.type,o=P.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return gt(kt,kt.current&1|2),a.child}o=o.sibling}_.tail!==null&&vt()>fu&&(a.flags|=128,p=!0,Td(_,!1),a.lanes=4194304)}else{if(!p)if(o=bp(P),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Td(_,!0),_.tail===null&&_.tailMode==="hidden"&&!P.alternate&&!St)return On(a),null}else 2*vt()-_.renderingStartTime>fu&&c!==1073741824&&(a.flags|=128,p=!0,Td(_,!1),a.lanes=4194304);_.isBackwards?(P.sibling=a.child,a.child=P):(c=_.last,c!==null?c.sibling=P:a.child=P,_.last=P)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=vt(),a.sibling=null,c=kt.current,gt(kt,p?c&1|2:c&1),a):(On(a),null);case 22:case 23:return pv(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(_r&1073741824)!==0&&(On(a),a.subtreeFlags&6&&(a.flags|=8192)):On(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function JL(o,a){switch(T_(a),a.tag){case 1:return Jn(a.type)&&_p(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return uu(),Et(Yn),Et(kn),V_(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return D_(a),null;case 13:if(Et(kt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));su()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Et(kt),null;case 4:return uu(),null;case 10:return b_(a.type._context),null;case 22:case 23:return pv(),null;case 24:return null;default:return null}}var Fp=!1,Nn=!1,XL=typeof WeakSet=="function"?WeakSet:Set,Te=null;function du(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Vt(o,a,p)}else c.current=null}function nv(o,a,c){try{c()}catch(p){Vt(o,a,p)}}var b0=!1;function ZL(o,a){if(p_=gs,o=aS(),o_(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var P=0,M=-1,W=-1,ee=0,he=0,me=o,ce=null;t:for(;;){for(var Ie;me!==c||g!==0&&me.nodeType!==3||(M=P+g),me!==_||p!==0&&me.nodeType!==3||(W=P+p),me.nodeType===3&&(P+=me.nodeValue.length),(Ie=me.firstChild)!==null;)ce=me,me=Ie;for(;;){if(me===o)break t;if(ce===c&&++ee===g&&(M=P),ce===_&&++he===p&&(W=P),(Ie=me.nextSibling)!==null)break;me=ce,ce=me.parentNode}me=Ie}c=M===-1||W===-1?null:{start:M,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(m_={focusedElem:o,selectionRange:c},gs=!1,Te=a;Te!==null;)if(a=Te,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Te=o;else for(;Te!==null;){a=Te;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,zt=Se.memoizedState,J=a.stateNode,G=J.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:Jr(a.type,Ae),zt);J.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Z=a.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){Vt(a,a.return,ye)}if(o=a.sibling,o!==null){o.return=a.return,Te=o;break}Te=a.return}return Se=b0,b0=!1,Se}function Sd(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&o)===o){var _=g.destroy;g.destroy=void 0,_!==void 0&&nv(a,c,_)}g=g.next}while(g!==p)}}function Up(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function rv(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function k0(o){var a=o.alternate;a!==null&&(o.alternate=null,k0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ci],delete a[fd],delete a[v_],delete a[LL],delete a[VL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function x0(o){return o.tag===5||o.tag===3||o.tag===4}function O0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||x0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function iv(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=gp));else if(p!==4&&(o=o.child,o!==null))for(iv(o,a,c),o=o.sibling;o!==null;)iv(o,a,c),o=o.sibling}function sv(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(sv(o,a,c),o=o.sibling;o!==null;)sv(o,a,c),o=o.sibling}var wn=null,Xr=!1;function To(o,a,c){for(c=c.child;c!==null;)N0(o,a,c),c=c.sibling}function N0(o,a,c){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Ea,c)}catch{}switch(c.tag){case 5:Nn||du(c,a);case 6:var p=wn,g=Xr;wn=null,To(o,a,c),wn=p,Xr=g,wn!==null&&(Xr?(o=wn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):wn.removeChild(c.stateNode));break;case 18:wn!==null&&(Xr?(o=wn,c=c.stateNode,o.nodeType===8?__(o.parentNode,c):o.nodeType===1&&__(o,c),fo(o)):__(wn,c.stateNode));break;case 4:p=wn,g=Xr,wn=c.stateNode.containerInfo,Xr=!0,To(o,a,c),wn=p,Xr=g;break;case 0:case 11:case 14:case 15:if(!Nn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var _=g,P=_.destroy;_=_.tag,P!==void 0&&((_&2)!==0||(_&4)!==0)&&nv(c,a,P),g=g.next}while(g!==p)}To(o,a,c);break;case 1:if(!Nn&&(du(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(M){Vt(c,a,M)}To(o,a,c);break;case 21:To(o,a,c);break;case 22:c.mode&1?(Nn=(p=Nn)||c.memoizedState!==null,To(o,a,c),Nn=p):To(o,a,c);break;default:To(o,a,c)}}function D0(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new XL),a.forEach(function(p){var g=l2.bind(null,o,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Zr(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var _=o,P=a,M=P;e:for(;M!==null;){switch(M.tag){case 5:wn=M.stateNode,Xr=!1;break e;case 3:wn=M.stateNode.containerInfo,Xr=!0;break e;case 4:wn=M.stateNode.containerInfo,Xr=!0;break e}M=M.return}if(wn===null)throw Error(t(160));N0(_,P,g),wn=null,Xr=!1;var W=g.alternate;W!==null&&(W.return=null),g.return=null}catch(ee){Vt(g,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)L0(a,o),a=a.sibling}function L0(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Zr(a,o),xi(o),p&4){try{Sd(3,o,o.return),Up(3,o)}catch(Ae){Vt(o,o.return,Ae)}try{Sd(5,o,o.return)}catch(Ae){Vt(o,o.return,Ae)}}break;case 1:Zr(a,o),xi(o),p&512&&c!==null&&du(c,c.return);break;case 5:if(Zr(a,o),xi(o),p&512&&c!==null&&du(c,c.return),o.flags&32){var g=o.stateNode;try{ga(g,"")}catch(Ae){Vt(o,o.return,Ae)}}if(p&4&&(g=o.stateNode,g!=null)){var _=o.memoizedProps,P=c!==null?c.memoizedProps:_,M=o.type,W=o.updateQueue;if(o.updateQueue=null,W!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&eo(g,_),Ol(M,P);var ee=Ol(M,_);for(P=0;P<W.length;P+=2){var he=W[P],me=W[P+1];he==="style"?xl(g,me):he==="dangerouslySetInnerHTML"?to(g,me):he==="children"?ga(g,me):$(g,he,me,ee)}switch(M){case"input":as(g,_);break;case"textarea":ls(g,_);break;case"select":var ce=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var Ie=_.value;Ie!=null?We(g,!!_.multiple,Ie,!1):ce!==!!_.multiple&&(_.defaultValue!=null?We(g,!!_.multiple,_.defaultValue,!0):We(g,!!_.multiple,_.multiple?[]:"",!1))}g[fd]=_}catch(Ae){Vt(o,o.return,Ae)}}break;case 6:if(Zr(a,o),xi(o),p&4){if(o.stateNode===null)throw Error(t(162));g=o.stateNode,_=o.memoizedProps;try{g.nodeValue=_}catch(Ae){Vt(o,o.return,Ae)}}break;case 3:if(Zr(a,o),xi(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{fo(a.containerInfo)}catch(Ae){Vt(o,o.return,Ae)}break;case 4:Zr(a,o),xi(o);break;case 13:Zr(a,o),xi(o),g=o.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(lv=vt())),p&4&&D0(o);break;case 22:if(he=c!==null&&c.memoizedState!==null,o.mode&1?(Nn=(ee=Nn)||he,Zr(a,o),Nn=ee):Zr(a,o),xi(o),p&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!he&&(o.mode&1)!==0)for(Te=o,he=o.child;he!==null;){for(me=Te=he;Te!==null;){switch(ce=Te,Ie=ce.child,ce.tag){case 0:case 11:case 14:case 15:Sd(4,ce,ce.return);break;case 1:du(ce,ce.return);var Se=ce.stateNode;if(typeof Se.componentWillUnmount=="function"){p=ce,c=ce.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Vt(p,c,Ae)}}break;case 5:du(ce,ce.return);break;case 22:if(ce.memoizedState!==null){F0(me);continue}}Ie!==null?(Ie.return=ce,Te=Ie):F0(me)}he=he.sibling}e:for(he=null,me=o;;){if(me.tag===5){if(he===null){he=me;try{g=me.stateNode,ee?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=me.stateNode,W=me.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null,M.style.display=ro("display",P))}catch(Ae){Vt(o,o.return,Ae)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=ee?"":me.memoizedProps}catch(Ae){Vt(o,o.return,Ae)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Zr(a,o),xi(o),p&4&&D0(o);break;case 21:break;default:Zr(a,o),xi(o)}}function xi(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(x0(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ga(g,""),p.flags&=-33);var _=O0(o);sv(o,_,g);break;case 3:case 4:var P=p.stateNode.containerInfo,M=O0(o);iv(o,M,P);break;default:throw Error(t(161))}}catch(W){Vt(o,o.return,W)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function e2(o,a,c){Te=o,V0(o)}function V0(o,a,c){for(var p=(o.mode&1)!==0;Te!==null;){var g=Te,_=g.child;if(g.tag===22&&p){var P=g.memoizedState!==null||Fp;if(!P){var M=g.alternate,W=M!==null&&M.memoizedState!==null||Nn;M=Fp;var ee=Nn;if(Fp=P,(Nn=W)&&!ee)for(Te=g;Te!==null;)P=Te,W=P.child,P.tag===22&&P.memoizedState!==null?U0(g):W!==null?(W.return=P,Te=W):U0(g);for(;_!==null;)Te=_,V0(_),_=_.sibling;Te=g,Fp=M,Nn=ee}M0(o)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Te=_):M0(o)}}function M0(o){for(;Te!==null;){var a=Te;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Nn||Up(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Nn)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Jr(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&FS(a,_,p);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}FS(a,P,c)}break;case 5:var M=a.stateNode;if(c===null&&a.flags&4){c=M;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var he=ee.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&fo(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Nn||a.flags&512&&rv(a)}catch(ce){Vt(a,a.return,ce)}}if(a===o){Te=null;break}if(c=a.sibling,c!==null){c.return=a.return,Te=c;break}Te=a.return}}function F0(o){for(;Te!==null;){var a=Te;if(a===o){Te=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Te=c;break}Te=a.return}}function U0(o){for(;Te!==null;){var a=Te;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Up(4,a)}catch(W){Vt(a,c,W)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(W){Vt(a,g,W)}}var _=a.return;try{rv(a)}catch(W){Vt(a,_,W)}break;case 5:var P=a.return;try{rv(a)}catch(W){Vt(a,P,W)}}}catch(W){Vt(a,a.return,W)}if(a===o){Te=null;break}var M=a.sibling;if(M!==null){M.return=a.return,Te=M;break}Te=a.return}}var t2=Math.ceil,$p=H.ReactCurrentDispatcher,ov=H.ReactCurrentOwner,Vr=H.ReactCurrentBatchConfig,et=0,un=null,Qt=null,En=0,_r=0,hu=_o(0),sn=0,Rd=null,Ma=0,jp=0,av=0,Ad=null,Zn=null,lv=0,fu=1/0,As=null,Bp=!1,uv=null,So=null,zp=!1,Ro=null,Wp=0,Pd=0,cv=null,qp=-1,Hp=0;function zn(){return(et&6)!==0?vt():qp!==-1?qp:qp=vt()}function Ao(o){return(o.mode&1)===0?1:(et&2)!==0&&En!==0?En&-En:FL.transition!==null?(Hp===0&&(Hp=Gc()),Hp):(o=Ye,o!==0||(o=window.event,o=o===void 0?16:Bl(o.type)),o)}function ei(o,a,c,p){if(50<Pd)throw Pd=0,cv=null,Error(t(185));Ra(o,c,p),((et&2)===0||o!==un)&&(o===un&&((et&2)===0&&(jp|=c),sn===4&&Po(o,En)),er(o,p),c===1&&et===0&&(a.mode&1)===0&&(fu=vt()+500,wp&&wo()))}function er(o,a){var c=o.callbackNode;Sa(o,a);var p=fs(o,o===un?En:0);if(p===0)c!==null&&Ll(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&Ll(c),a===1)o.tag===0?ML(j0.bind(null,o)):AS(j0.bind(null,o)),NL(function(){(et&6)===0&&wo()}),c=null;else{switch(_i(p)){case 1:c=Vl;break;case 4:c=qc;break;case 16:c=wa;break;case 536870912:c=Ml;break;default:c=wa}c=Q0(c,$0.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function $0(o,a){if(qp=-1,Hp=0,(et&6)!==0)throw Error(t(327));var c=o.callbackNode;if(pu()&&o.callbackNode!==c)return null;var p=fs(o,o===un?En:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||a)a=Kp(o,p);else{a=p;var g=et;et|=2;var _=z0();(un!==o||En!==a)&&(As=null,fu=vt()+500,Ua(o,a));do try{i2();break}catch(M){B0(o,M)}while(!0);C_(),$p.current=_,et=g,Qt!==null?a=0:(un=null,En=0,a=sn)}if(a!==0){if(a===2&&(g=Kc(o),g!==0&&(p=g,a=dv(o,g))),a===1)throw c=Rd,Ua(o,0),Po(o,p),er(o,vt()),c;if(a===6)Po(o,p);else{if(g=o.current.alternate,(p&30)===0&&!n2(g)&&(a=Kp(o,p),a===2&&(_=Kc(o),_!==0&&(p=_,a=dv(o,_))),a===1))throw c=Rd,Ua(o,0),Po(o,p),er(o,vt()),c;switch(o.finishedWork=g,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:$a(o,Zn,As);break;case 3:if(Po(o,p),(p&130023424)===p&&(a=lv+500-vt(),10<a)){if(fs(o,0)!==0)break;if(g=o.suspendedLanes,(g&p)!==p){zn(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=y_($a.bind(null,o,Zn,As),a);break}$a(o,Zn,As);break;case 4:if(Po(o,p),(p&4194240)===p)break;for(a=o.eventTimes,g=-1;0<p;){var P=31-dr(p);_=1<<P,P=a[P],P>g&&(g=P),p&=~_}if(p=g,p=vt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*t2(p/1960))-p,10<p){o.timeoutHandle=y_($a.bind(null,o,Zn,As),p);break}$a(o,Zn,As);break;case 5:$a(o,Zn,As);break;default:throw Error(t(329))}}}return er(o,vt()),o.callbackNode===c?$0.bind(null,o):null}function dv(o,a){var c=Ad;return o.current.memoizedState.isDehydrated&&(Ua(o,a).flags|=256),o=Kp(o,a),o!==2&&(a=Zn,Zn=c,a!==null&&hv(a)),o}function hv(o){Zn===null?Zn=o:Zn.push.apply(Zn,o)}function n2(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],_=g.getSnapshot;g=g.value;try{if(!Qr(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Po(o,a){for(a&=~av,a&=~jp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-dr(a),p=1<<c;o[c]=-1,a&=~p}}function j0(o){if((et&6)!==0)throw Error(t(327));pu();var a=fs(o,0);if((a&1)===0)return er(o,vt()),null;var c=Kp(o,a);if(o.tag!==0&&c===2){var p=Kc(o);p!==0&&(a=p,c=dv(o,p))}if(c===1)throw c=Rd,Ua(o,0),Po(o,a),er(o,vt()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,$a(o,Zn,As),er(o,vt()),null}function fv(o,a){var c=et;et|=1;try{return o(a)}finally{et=c,et===0&&(fu=vt()+500,wp&&wo())}}function Fa(o){Ro!==null&&Ro.tag===0&&(et&6)===0&&pu();var a=et;et|=1;var c=Vr.transition,p=Ye;try{if(Vr.transition=null,Ye=1,o)return o()}finally{Ye=p,Vr.transition=c,et=a,(et&6)===0&&wo()}}function pv(){_r=hu.current,Et(hu)}function Ua(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,OL(c)),Qt!==null)for(c=Qt.return;c!==null;){var p=c;switch(T_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&_p();break;case 3:uu(),Et(Yn),Et(kn),V_();break;case 5:D_(p);break;case 4:uu();break;case 13:Et(kt);break;case 19:Et(kt);break;case 10:b_(p.type._context);break;case 22:case 23:pv()}c=c.return}if(un=o,Qt=o=Co(o.current,null),En=_r=a,sn=0,Rd=null,av=jp=Ma=0,Zn=Ad=null,Da!==null){for(a=0;a<Da.length;a++)if(c=Da[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,_=c.pending;if(_!==null){var P=_.next;_.next=g,p.next=P}c.pending=p}Da=null}return o}function B0(o,a){do{var c=Qt;try{if(C_(),kp.current=Dp,xp){for(var p=xt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}xp=!1}if(Va=0,ln=rn=xt=null,vd=!1,wd=0,ov.current=null,c===null||c.return===null){sn=1,Rd=a,Qt=null;break}e:{var _=o,P=c.return,M=c,W=a;if(a=En,M.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ee=W,he=M,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var ce=he.alternate;ce?(he.updateQueue=ce.updateQueue,he.memoizedState=ce.memoizedState,he.lanes=ce.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ie=f0(P);if(Ie!==null){Ie.flags&=-257,p0(Ie,P,M,_,a),Ie.mode&1&&h0(_,ee,a),a=Ie,W=ee;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add(W),a.updateQueue=Ae}else Se.add(W);break e}else{if((a&1)===0){h0(_,ee,a),mv();break e}W=Error(t(426))}}else if(St&&M.mode&1){var zt=f0(P);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),p0(zt,P,M,_,a),A_(cu(W,M));break e}}_=W=cu(W,M),sn!==4&&(sn=2),Ad===null?Ad=[_]:Ad.push(_),_=P;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var J=c0(_,W,a);MS(_,J);break e;case 1:M=W;var G=_.type,Z=_.stateNode;if((_.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(So===null||!So.has(Z)))){_.flags|=65536,a&=-a,_.lanes|=a;var ye=d0(_,M,a);MS(_,ye);break e}}_=_.return}while(_!==null)}q0(c)}catch(Ce){a=Ce,Qt===c&&c!==null&&(Qt=c=c.return);continue}break}while(!0)}function z0(){var o=$p.current;return $p.current=Dp,o===null?Dp:o}function mv(){(sn===0||sn===3||sn===2)&&(sn=4),un===null||(Ma&268435455)===0&&(jp&268435455)===0||Po(un,En)}function Kp(o,a){var c=et;et|=2;var p=z0();(un!==o||En!==a)&&(As=null,Ua(o,a));do try{r2();break}catch(g){B0(o,g)}while(!0);if(C_(),et=c,$p.current=p,Qt!==null)throw Error(t(261));return un=null,En=0,sn}function r2(){for(;Qt!==null;)W0(Qt)}function i2(){for(;Qt!==null&&!va();)W0(Qt)}function W0(o){var a=G0(o.alternate,o,_r);o.memoizedProps=o.pendingProps,a===null?q0(o):Qt=a,ov.current=null}function q0(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=YL(c,a,_r),c!==null){Qt=c;return}}else{if(c=JL(c,a),c!==null){c.flags&=32767,Qt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{sn=6,Qt=null;return}}if(a=a.sibling,a!==null){Qt=a;return}Qt=a=o}while(a!==null);sn===0&&(sn=5)}function $a(o,a,c){var p=Ye,g=Vr.transition;try{Vr.transition=null,Ye=1,s2(o,a,c,p)}finally{Vr.transition=g,Ye=p}return null}function s2(o,a,c,p){do pu();while(Ro!==null);if((et&6)!==0)throw Error(t(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var _=c.lanes|c.childLanes;if(t_(o,_),o===un&&(Qt=un=null,En=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||zp||(zp=!0,Q0(wa,function(){return pu(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Vr.transition,Vr.transition=null;var P=Ye;Ye=1;var M=et;et|=4,ov.current=null,ZL(o,c),L0(c,o),RL(m_),gs=!!p_,m_=p_=null,o.current=c,e2(c),hs(),et=M,Ye=P,Vr.transition=_}else o.current=c;if(zp&&(zp=!1,Ro=o,Wp=g),_=o.pendingLanes,_===0&&(So=null),ep(c.stateNode),er(o,vt()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(Bp)throw Bp=!1,o=uv,uv=null,o;return(Wp&1)!==0&&o.tag!==0&&pu(),_=o.pendingLanes,(_&1)!==0?o===cv?Pd++:(Pd=0,cv=o):Pd=0,wo(),null}function pu(){if(Ro!==null){var o=_i(Wp),a=Vr.transition,c=Ye;try{if(Vr.transition=null,Ye=16>o?16:o,Ro===null)var p=!1;else{if(o=Ro,Ro=null,Wp=0,(et&6)!==0)throw Error(t(331));var g=et;for(et|=4,Te=o.current;Te!==null;){var _=Te,P=_.child;if((Te.flags&16)!==0){var M=_.deletions;if(M!==null){for(var W=0;W<M.length;W++){var ee=M[W];for(Te=ee;Te!==null;){var he=Te;switch(he.tag){case 0:case 11:case 15:Sd(8,he,_)}var me=he.child;if(me!==null)me.return=he,Te=me;else for(;Te!==null;){he=Te;var ce=he.sibling,Ie=he.return;if(k0(he),he===ee){Te=null;break}if(ce!==null){ce.return=Ie,Te=ce;break}Te=Ie}}}var Se=_.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var zt=Ae.sibling;Ae.sibling=null,Ae=zt}while(Ae!==null)}}Te=_}}if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,Te=P;else e:for(;Te!==null;){if(_=Te,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Sd(9,_,_.return)}var J=_.sibling;if(J!==null){J.return=_.return,Te=J;break e}Te=_.return}}var G=o.current;for(Te=G;Te!==null;){P=Te;var Z=P.child;if((P.subtreeFlags&2064)!==0&&Z!==null)Z.return=P,Te=Z;else e:for(P=G;Te!==null;){if(M=Te,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Up(9,M)}}catch(Ce){Vt(M,M.return,Ce)}if(M===P){Te=null;break e}var ye=M.sibling;if(ye!==null){ye.return=M.return,Te=ye;break e}Te=M.return}}if(et=g,wo(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Ea,o)}catch{}p=!0}return p}finally{Ye=c,Vr.transition=a}}return!1}function H0(o,a,c){a=cu(c,a),a=c0(o,a,1),o=Io(o,a,1),a=zn(),o!==null&&(Ra(o,1,a),er(o,a))}function Vt(o,a,c){if(o.tag===3)H0(o,o,c);else for(;a!==null;){if(a.tag===3){H0(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(So===null||!So.has(p))){o=cu(c,o),o=d0(a,o,1),a=Io(a,o,1),o=zn(),a!==null&&(Ra(a,1,o),er(a,o));break}}a=a.return}}function o2(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=zn(),o.pingedLanes|=o.suspendedLanes&c,un===o&&(En&c)===c&&(sn===4||sn===3&&(En&130023424)===En&&500>vt()-lv?Ua(o,0):av|=c),er(o,a)}function K0(o,a){a===0&&((o.mode&1)===0?a=1:(a=uo,uo<<=1,(uo&130023424)===0&&(uo=4194304)));var c=zn();o=Ts(o,a),o!==null&&(Ra(o,a,c),er(o,c))}function a2(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),K0(o,c)}function l2(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),K0(o,c)}var G0;G0=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Yn.current)Xn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Xn=!1,QL(o,a,c);Xn=(o.flags&131072)!==0}else Xn=!1,St&&(a.flags&1048576)!==0&&PS(a,Ip,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Mp(o,a),o=a.pendingProps;var g=nu(a,kn.current);lu(a,c),g=U_(null,a,p,o,g,c);var _=$_();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Jn(p)?(_=!0,vp(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,O_(a),g.updater=Lp,a.stateNode=g,g._reactInternals=a,H_(a,p,o,c),a=Y_(null,a,p,!0,_,c)):(a.tag=0,St&&_&&I_(a),Bn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Mp(o,a),o=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=c2(p),o=Jr(p,o),g){case 0:a=Q_(null,a,p,o,c);break e;case 1:a=w0(null,a,p,o,c);break e;case 11:a=m0(null,a,p,o,c);break e;case 14:a=g0(null,a,p,Jr(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Jr(p,g),Q_(o,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Jr(p,g),w0(o,a,p,g,c);case 3:e:{if(E0(a),o===null)throw Error(t(387));p=a.pendingProps,_=a.memoizedState,g=_.element,VS(o,a),Cp(a,p,null,c);var P=a.memoizedState;if(p=P.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=cu(Error(t(423)),a),a=I0(o,a,p,c,g);break e}else if(p!==g){g=cu(Error(t(424)),a),a=I0(o,a,p,c,g);break e}else for(yr=yo(a.stateNode.containerInfo.firstChild),gr=a,St=!0,Yr=null,c=DS(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(su(),p===g){a=Rs(o,a,c);break e}Bn(o,a,p,c)}a=a.child}return a;case 5:return US(a),o===null&&R_(a),p=a.type,g=a.pendingProps,_=o!==null?o.memoizedProps:null,P=g.children,g_(p,g)?P=null:_!==null&&g_(p,_)&&(a.flags|=32),v0(o,a),Bn(o,a,P,c),a.child;case 6:return o===null&&R_(a),null;case 13:return T0(o,a,c);case 4:return N_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=ou(a,null,p,c):Bn(o,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Jr(p,g),m0(o,a,p,g,c);case 7:return Bn(o,a,a.pendingProps,c),a.child;case 8:return Bn(o,a,a.pendingProps.children,c),a.child;case 12:return Bn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,_=a.memoizedProps,P=g.value,gt(Rp,p._currentValue),p._currentValue=P,_!==null)if(Qr(_.value,P)){if(_.children===g.children&&!Yn.current){a=Rs(o,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var M=_.dependencies;if(M!==null){P=_.child;for(var W=M.firstContext;W!==null;){if(W.context===p){if(_.tag===1){W=Ss(-1,c&-c),W.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var he=ee.pending;he===null?W.next=W:(W.next=he.next,he.next=W),ee.pending=W}}_.lanes|=c,W=_.alternate,W!==null&&(W.lanes|=c),k_(_.return,c,a),M.lanes|=c;break}W=W.next}}else if(_.tag===10)P=_.type===a.type?null:_.child;else if(_.tag===18){if(P=_.return,P===null)throw Error(t(341));P.lanes|=c,M=P.alternate,M!==null&&(M.lanes|=c),k_(P,c,a),P=_.sibling}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===a){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}Bn(o,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,lu(a,c),g=Dr(g),p=p(g),a.flags|=1,Bn(o,a,p,c),a.child;case 14:return p=a.type,g=Jr(p,a.pendingProps),g=Jr(p.type,g),g0(o,a,p,g,c);case 15:return y0(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Jr(p,g),Mp(o,a),a.tag=1,Jn(p)?(o=!0,vp(a)):o=!1,lu(a,c),l0(a,p,g),H_(a,p,g,c),Y_(null,a,p,!0,o,c);case 19:return R0(o,a,c);case 22:return _0(o,a,c)}throw Error(t(156,a.tag))};function Q0(o,a){return Wc(o,a)}function u2(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(o,a,c,p){return new u2(o,a,c,p)}function gv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function c2(o){if(typeof o=="function")return gv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===w)return 11;if(o===D)return 14}return 2}function Co(o,a){var c=o.alternate;return c===null?(c=Mr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Gp(o,a,c,p,g,_){var P=2;if(p=o,typeof o=="function")gv(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case N:return ja(c.children,g,_,a);case A:P=8,g|=8;break;case b:return o=Mr(12,c,a,g|2),o.elementType=b,o.lanes=_,o;case S:return o=Mr(13,c,a,g),o.elementType=S,o.lanes=_,o;case B:return o=Mr(19,c,a,g),o.elementType=B,o.lanes=_,o;case ae:return Qp(c,g,_,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:P=10;break e;case x:P=9;break e;case w:P=11;break e;case D:P=14;break e;case oe:P=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Mr(P,c,a,g),a.elementType=o,a.type=p,a.lanes=_,a}function ja(o,a,c,p){return o=Mr(7,o,p,a),o.lanes=c,o}function Qp(o,a,c,p){return o=Mr(22,o,p,a),o.elementType=ae,o.lanes=c,o.stateNode={isHidden:!1},o}function yv(o,a,c){return o=Mr(6,o,null,a),o.lanes=c,o}function _v(o,a,c){return a=Mr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function d2(o,a,c,p,g){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function vv(o,a,c,p,g,_,P,M,W){return o=new d2(o,a,c,M,W),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Mr(3,null,null,a),o.current=_,_.stateNode=o,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},O_(_),o}function h2(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function Y0(o){if(!o)return vo;o=o._reactInternals;e:{if(Kr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Jn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Jn(c))return SS(o,c,a)}return a}function J0(o,a,c,p,g,_,P,M,W){return o=vv(c,p,!0,o,g,_,P,M,W),o.context=Y0(null),c=o.current,p=zn(),g=Ao(c),_=Ss(p,g),_.callback=a??null,Io(c,_,g),o.current.lanes=g,Ra(o,g,p),er(o,p),o}function Yp(o,a,c,p){var g=a.current,_=zn(),P=Ao(g);return c=Y0(c),a.context===null?a.context=c:a.pendingContext=c,a=Ss(_,P),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=Io(g,a,P),o!==null&&(ei(o,g,P,_),Pp(o,g,P)),P}function Jp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function X0(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function wv(o,a){X0(o,a),(o=o.alternate)&&X0(o,a)}function f2(){return null}var Z0=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ev(o){this._internalRoot=o}Xp.prototype.render=Ev.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Yp(o,a,null,null)},Xp.prototype.unmount=Ev.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Fa(function(){Yp(null,o,null,null)}),a[vs]=null}};function Xp(o){this._internalRoot=o}Xp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Zc();o={blockedOn:null,target:o,priority:a};for(var c=0;c<hr.length&&a!==0&&a<hr[c].priority;c++);hr.splice(c,0,o),c===0&&$l(o)}};function Iv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Zp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function eR(){}function p2(o,a,c,p,g){if(g){if(typeof p=="function"){var _=p;p=function(){var ee=Jp(P);_.call(ee)}}var P=J0(a,p,o,0,null,!1,!1,"",eR);return o._reactRootContainer=P,o[vs]=P.current,dd(o.nodeType===8?o.parentNode:o),Fa(),P}for(;g=o.lastChild;)o.removeChild(g);if(typeof p=="function"){var M=p;p=function(){var ee=Jp(W);M.call(ee)}}var W=vv(o,0,!1,null,null,!1,!1,"",eR);return o._reactRootContainer=W,o[vs]=W.current,dd(o.nodeType===8?o.parentNode:o),Fa(function(){Yp(a,W,c,p)}),W}function em(o,a,c,p,g){var _=c._reactRootContainer;if(_){var P=_;if(typeof g=="function"){var M=g;g=function(){var W=Jp(P);M.call(W)}}Yp(a,P,o,g)}else P=p2(c,a,o,g,p);return Jp(P)}Jc=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=rt(a.pendingLanes);c!==0&&(Yc(a,c|1),er(a,vt()),(et&6)===0&&(fu=vt()+500,wo()))}break;case 13:Fa(function(){var p=Ts(o,1);if(p!==null){var g=zn();ei(p,o,1,g)}}),wv(o,1)}},Fl=function(o){if(o.tag===13){var a=Ts(o,134217728);if(a!==null){var c=zn();ei(a,o,134217728,c)}wv(o,134217728)}},Xc=function(o){if(o.tag===13){var a=Ao(o),c=Ts(o,a);if(c!==null){var p=zn();ei(c,o,a,p)}wv(o,a)}},Zc=function(){return Ye},ed=function(o,a){var c=Ye;try{return Ye=o,a()}finally{Ye=c}},us=function(o,a,c){switch(a){case"input":if(as(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var g=yp(p);if(!g)throw Error(t(90));qr(p),as(p,g)}}}break;case"textarea":ls(o,c);break;case"select":a=c.value,a!=null&&We(o,!!c.multiple,a,!1)}},qf=fv,Hf=Fa;var m2={usingClientEntryPoint:!1,Events:[pd,eu,yp,so,oo,fv]},Cd={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g2={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zf(o),o===null?null:o.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||f2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Ea=tm.inject(g2),cr=tm}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m2,tr.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(a))throw Error(t(200));return h2(o,a,null,c)},tr.createRoot=function(o,a){if(!Iv(o))throw Error(t(299));var c=!1,p="",g=Z0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=vv(o,1,!1,null,null,c,!1,p,g),o[vs]=a.current,dd(o.nodeType===8?o.parentNode:o),new Ev(a)},tr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Zf(a),o=o===null?null:o.stateNode,o},tr.flushSync=function(o){return Fa(o)},tr.hydrate=function(o,a,c){if(!Zp(a))throw Error(t(200));return em(null,o,a,!0,c)},tr.hydrateRoot=function(o,a,c){if(!Iv(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,_="",P=Z0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=J0(a,null,o,1,c??null,g,!1,_,P),o[vs]=a.current,dd(o),p)for(o=0;o<p.length;o++)c=p[o],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Xp(a)},tr.render=function(o,a,c){if(!Zp(a))throw Error(t(200));return em(null,o,a,!1,c)},tr.unmountComponentAtNode=function(o){if(!Zp(o))throw Error(t(40));return o._reactRootContainer?(Fa(function(){em(null,null,o,!1,function(){o._reactRootContainer=null,o[vs]=null})}),!0):!1},tr.unstable_batchedUpdates=fv,tr.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Zp(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return em(o,a,c,!1,p)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var lR;function R2(){if(lR)return Rv.exports;lR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rv.exports=S2(),Rv.exports}var uR;function A2(){if(uR)return nm;uR=1;var n=R2();return nm.createRoot=n.createRoot,nm.hydrateRoot=n.hydrateRoot,nm}var P2=A2();const C2=xE(P2);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cR="popstate";function b2(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return mw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ph(i)}return x2(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k2(){return Math.random().toString(36).substring(2,10)}function dR(n,e){return{usr:n.state,key:n.key,idx:e}}function mw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:t,key:e&&e.key||r||k2()}}function Ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function x2(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let k=m(),j=k==null?null:k-f;f=k,d&&d({action:u,location:R.location,delta:j})}function E(k,j){u="PUSH";let V=mw(R.location,k,j);f=m()+1;let $=dR(V,f),H=R.createHref(V);try{l.pushState($,"",H)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(H)}s&&d&&d({action:u,location:R.location,delta:1})}function C(k,j){u="REPLACE";let V=mw(R.location,k,j);f=m();let $=dR(V,f),H=R.createHref(V);l.replaceState($,"",H),s&&d&&d({action:u,location:R.location,delta:0})}function T(k){return O2(k)}let R={get action(){return u},get location(){return n(i,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(cR,y),d=k,()=>{i.removeEventListener(cR,y),d=null}},createHref(k){return e(i,k)},createURL:T,encodeLocation(k){let j=T(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:C,go(k){return l.go(k)}};return R}function O2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ph(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function gb(n,e,t="/"){return N2(n,e,t,!1)}function N2(n,e,t,r){let i=typeof e=="string"?Ec(e):e,s=Us(i.pathname||"/",t);if(s==null)return null;let l=yb(n);D2(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=q2(s);u=z2(l[d],f,r)}return u}function yb(n,e=[],t=[],r="",i=!1){let s=(l,u,d=i,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Ot(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=Vs([r,m.relativePath]),E=t.concat(m);l.children&&l.children.length>0&&(Ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yb(l.children,e,E,y,d)),!(l.path==null&&!l.index)&&e.push({path:y,score:j2(y,l.index),routesMeta:E})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let d of _b(l.path))s(l,u,!0,d)}),e}function _b(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=_b(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function D2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:B2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var L2=/^:[\w-]+$/,V2=3,M2=2,F2=1,U2=10,$2=-2,hR=n=>n==="*";function j2(n,e){let t=n.split("/"),r=t.length;return t.some(hR)&&(r+=$2),e&&(r+=M2),t.filter(i=>!hR(i)).reduce((i,s)=>i+(L2.test(s)?V2:s===""?F2:U2),r)}function B2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function z2(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",y=Xm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),E=d.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Xm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Vs([s,y.pathname]),pathnameBase:Q2(Vs([s,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(s=Vs([s,y.pathnameBase]))}return l}function Xm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=W2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},E)=>{if(m==="*"){let T=u[E]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const C=u[E];return y&&!C?f[m]=void 0:f[m]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function W2(n,e=!1,t=!0){Xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function q2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Us(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function H2(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ec(n):n;return{pathname:t?t.startsWith("/")?t:K2(t,e):e,search:Y2(r),hash:J2(i)}}function K2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Cv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vb(n){let e=G2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function wb(n,e,t,r=!1){let i;typeof n=="string"?i=Ec(n):(i={...n},Ot(!i.pathname||!i.pathname.includes("?"),Cv("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),Cv("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),Cv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),y-=1;i.pathname=E.join("/")}u=y>=0?e[y]:"/"}let d=H2(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Vs=n=>n.join("/").replace(/\/\/+/g,"/"),Q2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Y2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,J2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function X2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Eb=["POST","PUT","PATCH","DELETE"];new Set(Eb);var Z2=["GET",...Eb];new Set(Z2);var Ic=Q.createContext(null);Ic.displayName="DataRouter";var Fg=Q.createContext(null);Fg.displayName="DataRouterState";Q.createContext(!1);var Ib=Q.createContext({isTransitioning:!1});Ib.displayName="ViewTransition";var eV=Q.createContext(new Map);eV.displayName="Fetchers";var tV=Q.createContext(null);tV.displayName="Await";var rs=Q.createContext(null);rs.displayName="Navigation";var nf=Q.createContext(null);nf.displayName="Location";var is=Q.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var OE=Q.createContext(null);OE.displayName="RouteError";function nV(n,{relative:e}={}){Ot(rf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(rs),{hash:i,pathname:s,search:l}=sf(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Vs([t,s])),r.createHref({pathname:u,search:l,hash:i})}function rf(){return Q.useContext(nf)!=null}function oa(){return Ot(rf(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(nf).location}var Tb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sb(n){Q.useContext(rs).static||Q.useLayoutEffect(n)}function Ug(){let{isDataRoute:n}=Q.useContext(is);return n?mV():rV()}function rV(){Ot(rf(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Ic),{basename:e,navigator:t}=Q.useContext(rs),{matches:r}=Q.useContext(is),{pathname:i}=oa(),s=JSON.stringify(vb(r)),l=Q.useRef(!1);return Sb(()=>{l.current=!0}),Q.useCallback((d,f={})=>{if(Xi(l.current,Tb),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=wb(d,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Vs([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,s,i,n])}Q.createContext(null);function Rb(){let{matches:n}=Q.useContext(is),e=n[n.length-1];return e?e.params:{}}function sf(n,{relative:e}={}){let{matches:t}=Q.useContext(is),{pathname:r}=oa(),i=JSON.stringify(vb(t));return Q.useMemo(()=>wb(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function iV(n,e){return Ab(n,e)}function Ab(n,e,t,r,i){Ot(rf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=Q.useContext(rs),{matches:l}=Q.useContext(is),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let V=y&&y.path||"";Pb(f,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let E=oa(),C;if(e){let V=typeof e=="string"?Ec(e):e;Ot(m==="/"||V.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${V.pathname}" was given in the \`location\` prop.`),C=V}else C=E;let T=C.pathname||"/",R=T;if(m!=="/"){let V=m.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(V.length).join("/")}let k=gb(n,{pathname:R});Xi(y||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Xi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=uV(k&&k.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:Vs([m,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?m:Vs([m,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,t,r,i);return e&&j?Q.createElement(nf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},j):j}function sV(){let n=pV(),e=X2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:s},"ErrorBoundary")," or"," ",Q.createElement("code",{style:s},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:i},t):null,l)}var oV=Q.createElement(sV,null),aV=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(is.Provider,{value:this.props.routeContext},Q.createElement(OE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lV({routeContext:n,match:e,children:t}){let r=Q.useContext(Ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(is.Provider,{value:n},t)}function uV(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t?.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Ot(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:E}=t,C=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||C){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,y)=>{let E,C=!1,T=null,R=null;t&&(E=l&&m.route.id?l[m.route.id]:void 0,T=m.route.errorElement||oV,u&&(d<0&&y===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,R=null):d===y&&(C=!0,R=m.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,y+1)),j=()=>{let V;return E?V=T:C?V=R:m.route.Component?V=Q.createElement(m.route.Component,null):m.route.element?V=m.route.element:V=f,Q.createElement(lV,{match:m,routeContext:{outlet:f,matches:k,isDataRoute:t!=null},children:V})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?Q.createElement(aV,{location:t.location,revalidation:t.revalidation,component:T,error:E,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):j()},null)}function NE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cV(n){let e=Q.useContext(Ic);return Ot(e,NE(n)),e}function dV(n){let e=Q.useContext(Fg);return Ot(e,NE(n)),e}function hV(n){let e=Q.useContext(is);return Ot(e,NE(n)),e}function DE(n){let e=hV(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fV(){return DE("useRouteId")}function pV(){let n=Q.useContext(OE),e=dV("useRouteError"),t=DE("useRouteError");return n!==void 0?n:e.errors?.[t]}function mV(){let{router:n}=cV("useNavigate"),e=DE("useNavigate"),t=Q.useRef(!1);return Sb(()=>{t.current=!0}),Q.useCallback(async(i,s={})=>{Xi(t.current,Tb),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var fR={};function Pb(n,e,t){!e&&!fR[n]&&(fR[n]=!0,Xi(!1,t))}Q.memo(gV);function gV({routes:n,future:e,state:t,unstable_onError:r}){return Ab(n,void 0,t,r,e)}function Vo(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Ot(!rf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=Q.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=Ec(t));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:E="default"}=t,C=Q.useMemo(()=>{let T=Us(d,l);return T==null?null:{location:{pathname:T,search:f,hash:m,state:y,key:E},navigationType:r}},[l,d,f,m,y,E,r]);return Xi(C!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:Q.createElement(rs.Provider,{value:u},Q.createElement(nf.Provider,{children:e,value:C}))}function _V({children:n,location:e}){return iV(gw(n),e)}function gw(n,e=[]){let t=[];return Q.Children.forEach(n,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){t.push.apply(t,gw(r.props.children,s));return}Ot(r.type===Vo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=gw(r.props.children,s)),t.push(l)}),t}var Em="get",Im="application/x-www-form-urlencoded";function $g(n){return n!=null&&typeof n.tagName=="string"}function vV(n){return $g(n)&&n.tagName.toLowerCase()==="button"}function wV(n){return $g(n)&&n.tagName.toLowerCase()==="form"}function EV(n){return $g(n)&&n.tagName.toLowerCase()==="input"}function IV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function TV(n,e){return n.button===0&&(!e||e==="_self")&&!IV(n)}var rm=null;function SV(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var RV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bv(n){return n!=null&&!RV.has(n)?(Xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Im}"`),null):n}function AV(n,e){let t,r,i,s,l;if(wV(n)){let u=n.getAttribute("action");r=u?Us(u,e):null,t=n.getAttribute("method")||Em,i=bv(n.getAttribute("enctype"))||Im,s=new FormData(n)}else if(vV(n)||EV(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Us(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Em,i=bv(n.getAttribute("formenctype"))||bv(u.getAttribute("enctype"))||Im,s=new FormData(u,n),!SV()){let{name:f,type:m,value:y}=n;if(m==="image"){let E=f?`${f}.`:"";s.append(`${E}x`,"0"),s.append(`${E}y`,"0")}else f&&s.append(f,y)}}else{if($g(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Em,r=null,i=Im,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function LE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function PV(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Us(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function CV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function kV(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await CV(s,t);return l.links?l.links():[]}return[]}));return DV(r.flat(1).filter(bV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pR(n,e,t,r,i,s){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?e.filter((d,f)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function xV(n,e,{includeHydrateFallback:t}={}){return OV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function OV(n){return[...new Set(n)]}function NV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function DV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(NV(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function Cb(){let n=Q.useContext(Ic);return LE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LV(){let n=Q.useContext(Fg);return LE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var VE=Q.createContext(void 0);VE.displayName="FrameworkContext";function bb(){let n=Q.useContext(VE);return LE(n,"You must render this element inside a <HydratedRouter> element"),n}function VV(n,e){let t=Q.useContext(VE),[r,i]=Q.useState(!1),[s,l]=Q.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,E=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=j=>{j.forEach(V=>{l(V.isIntersecting)})},k=new IntersectionObserver(R,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let C=()=>{i(!0)},T=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,E,{}]:[s,E,{onFocus:kd(u,C),onBlur:kd(d,T),onMouseEnter:kd(f,C),onMouseLeave:kd(m,T),onTouchStart:kd(y,C)}]:[!1,E,{}]}function kd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MV({page:n,...e}){let{router:t}=Cb(),r=Q.useMemo(()=>gb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(UV,{page:n,matches:r,...e}):null}function FV(n){let{manifest:e,routeModules:t}=bb(),[r,i]=Q.useState([]);return Q.useEffect(()=>{let s=!1;return kV(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function UV({page:n,matches:e,...t}){let r=oa(),{manifest:i,routeModules:s}=bb(),{basename:l}=Cb(),{loaderData:u,matches:d}=LV(),f=Q.useMemo(()=>pR(n,e,d,i,r,"data"),[n,e,d,i,r]),m=Q.useMemo(()=>pR(n,e,d,i,r,"assets"),[n,e,d,i,r]),y=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,R=!1;if(e.forEach(j=>{let V=i.routes[j.route.id];!V||!V.hasLoader||(!f.some($=>$.route.id===j.route.id)&&j.route.id in u&&s[j.route.id]?.shouldRevalidate||V.hasClientLoader?R=!0:T.add(j.route.id))}),T.size===0)return[];let k=PV(n,l,"data");return R&&T.size>0&&k.searchParams.set("_routes",e.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[l,u,r,i,f,e,n,s]),E=Q.useMemo(()=>xV(m,i),[m,i]),C=FV(m);return Q.createElement(Q.Fragment,null,y.map(T=>Q.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),E.map(T=>Q.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),C.map(({key:T,link:R})=>Q.createElement("link",{key:T,nonce:t.nonce,...R})))}function $V(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kb&&(window.__reactRouterVersion="7.9.1")}catch{}function jV({basename:n,children:e,window:t}){let r=Q.useRef();r.current==null&&(r.current=b2({window:t,v5Compat:!0}));let i=r.current,[s,l]=Q.useState({action:i.action,location:i.location}),u=Q.useCallback(d=>{Q.startTransition(()=>l(d))},[l]);return Q.useLayoutEffect(()=>i.listen(u),[i,u]),Q.createElement(yV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:y,...E},C){let{basename:T}=Q.useContext(rs),R=typeof f=="string"&&xb.test(f),k,j=!1;if(typeof f=="string"&&R&&(k=f,kb))try{let b=new URL(window.location.href),L=f.startsWith("//")?new URL(b.protocol+f):new URL(f),x=Us(L.pathname,T);L.origin===b.origin&&x!=null?f=x+L.search+L.hash:j=!0}catch{Xi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=nV(f,{relative:i}),[$,H,q]=VV(r,E),U=qV(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:y});function N(b){e&&e(b),b.defaultPrevented||U(b)}let A=Q.createElement("a",{...E,...q,href:k||V,onClick:j||s?e:N,ref:$V(C,H),target:d,"data-discover":!R&&t==="render"?"true":void 0});return $&&!R?Q.createElement(Q.Fragment,null,A,Q.createElement(MV,{page:V})):A});ri.displayName="Link";var BV=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...f},m){let y=sf(l,{relative:f.relative}),E=oa(),C=Q.useContext(Fg),{navigator:T,basename:R}=Q.useContext(rs),k=C!=null&&YV(y)&&u===!0,j=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,V=E.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(V=V.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&R&&($=Us($,R)||$);const H=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let q=V===j||!i&&V.startsWith(j)&&V.charAt(H)==="/",U=$!=null&&($===j||!i&&$.startsWith(j)&&$.charAt(j.length)==="/"),N={isActive:q,isPending:U,isTransitioning:k},A=q?e:void 0,b;typeof r=="function"?b=r(N):b=[r,q?"active":null,U?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(N):s;return Q.createElement(ri,{...f,"aria-current":A,className:b,ref:m,style:L,to:l,viewTransition:u},typeof d=="function"?d(N):d)});BV.displayName="NavLink";var zV=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=Em,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,...E},C)=>{let T=GV(),R=QV(u,{relative:f}),k=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&xb.test(u),V=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let H=$.nativeEvent.submitter,q=H?.getAttribute("formmethod")||l;T(H||$.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:i,state:s,relative:f,preventScrollReset:m,viewTransition:y})};return Q.createElement("form",{ref:C,method:k,action:R,onSubmit:r?d:V,...E,"data-discover":!j&&n==="render"?"true":void 0})});zV.displayName="Form";function WV(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(n){let e=Q.useContext(Ic);return Ot(e,WV(n)),e}function qV(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Ug(),d=oa(),f=sf(n,{relative:s});return Q.useCallback(m=>{if(TV(m,e)){m.preventDefault();let y=t!==void 0?t:Ph(d)===Ph(f);u(n,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,f,t,r,e,n,i,s,l])}var HV=0,KV=()=>`__${String(++HV)}__`;function GV(){let{router:n}=Ob("useSubmit"),{basename:e}=Q.useContext(rs),t=fV();return Q.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:f}=AV(r,e);if(i.navigate===!1){let m=i.fetcherKey||KV();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function QV(n,{relative:e}={}){let{basename:t}=Q.useContext(rs),r=Q.useContext(is);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...sf(n||".",{relative:e})},l=oa();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Vs([t,s.pathname])),Ph(s)}function YV(n,{relative:e}={}){let t=Q.useContext(Ib);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ob("useViewTransitionState"),i=sf(n,{relative:e});if(!t.isTransitioning)return!1;let s=Us(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Us(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Xm(i.pathname,l)!=null||Xm(i.pathname,s)!=null}const JV="_fixed_9zv5b_9",XV="_header_container_9zv5b_19",ZV="_logo_container_9zv5b_37",eM="_delivery_9zv5b_65",tM="_search_9zv5b_91",nM="_order_container_9zv5b_167",rM="_language_9zv5b_201",iM="_cart_9zv5b_233",sM="_lower_container_9zv5b_265",bs={fixed:JV,header_container:XV,logo_container:ZV,delivery:eM,search:tM,order_container:nM,language:rM,cart:iM,lower_container:sM};var Nb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mR=Ne.createContext&&Ne.createContext(Nb),oM=["attr","size","title"];function aM(n,e){if(n==null)return{};var t=lM(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lM(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Zm(){return Zm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zm.apply(this,arguments)}function gR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function eg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(t),!0).forEach(function(r){uM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uM(n,e,t){return e=cM(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cM(n){var e=dM(n,"string");return typeof e=="symbol"?e:e+""}function dM(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Db(n){return n&&n.map((e,t)=>Ne.createElement(e.tag,eg({key:t},e.attr),Db(e.child)))}function Tc(n){return e=>Ne.createElement(hM,Zm({attr:eg({},n.attr)},e),Db(n.child))}function hM(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=aM(n,oM),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ne.createElement("svg",Zm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:eg(eg({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Ne.createElement("title",null,s),n.children)};return mR!==void 0?Ne.createElement(mR.Consumer,null,t=>e(t)):e(Nb)}function fM(n){return Tc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function pM(n){return Tc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function mM(n){return Tc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function gM(n){return Tc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function yM(){return F.jsx("div",{className:bs.lower_container,children:F.jsxs("ul",{children:[F.jsxs("li",{children:[F.jsx(gM,{}),F.jsx("p",{children:"All"})]}),F.jsx("li",{children:"Today's Deals"}),F.jsx("li",{children:"Costumer Service"}),F.jsx("li",{children:"Registry"}),F.jsx("li",{children:"Gift Cards"}),F.jsx("li",{children:"Sell"})]})})}const Hs=Q.createContext(),_M=({children:n,reducer:e,initialState:t})=>F.jsx(Hs.Provider,{value:Q.useReducer(e,t),children:n}),vM=()=>{};var yR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},wM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=s>>2,y=(s&3)<<4|u>>4;let E=(u&15)<<2|f>>6,C=f&63;d||(C=64,l||(E=64)),r.push(t[m],t[y],t[E],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Lb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||f==null||y==null)throw new EM;const E=s<<2|u>>4;if(r.push(E),f!==64){const C=u<<4&240|f>>2;if(r.push(C),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class EM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IM=function(n){const e=Lb(n);return Vb.encodeByteArray(e,!0)},tg=function(n){return IM(n).replace(/\./g,"")},jg=function(n){try{return Vb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ng(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!TM(t)||(n[t]=ng(n[t],e[t]));return n}function TM(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>ME().__FIREBASE_DEFAULTS__,RM=()=>{if(typeof process>"u"||typeof yR>"u")return;const n=yR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jg(n[1]);return e&&JSON.parse(e)},Bg=()=>{try{return vM()||SM()||RM()||AM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PM=n=>Bg()?.emulatorHosts?.[n],FE=()=>Bg()?.config,UE=n=>Bg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[tg(JSON.stringify(t)),tg(JSON.stringify(l)),""].join(".")}const uh={};function kM(){const n={prod:[],emulator:[]};for(const e of Object.keys(uh))uh[e]?n.emulator.push(e):n.prod.push(e);return n}function xM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let _R=!1;function jE(n,e){if(typeof window>"u"||typeof document>"u"||!Ks(window.location.host)||uh[n]===e||uh[n]||_R)return;uh[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",s=kM().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function f(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{_R=!0,l()},E}function m(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=xM(r),C=t("text"),T=document.getElementById(C)||document.createElement("span"),R=t("learnmore"),k=document.getElementById(R)||document.createElement("a"),j=t("preprendIcon"),V=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;u($),m(k,R);const H=f();d(V,j),$.append(V,T,k,H),document.body.appendChild($)}s?(T.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function zg(){const n=Bg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OM(){return typeof window<"u"||Fb()}function Fb(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Wg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zE(){const n=Qe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $b(){return!zg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jb(){return!zg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Ch(){try{return typeof indexedDB=="object"}catch{return!1}}function NM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="FirebaseError";class fn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DM,Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ss.prototype.create)}}class ss{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?LM(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new fn(i,u,r)}}function LM(n,e){return n.replace(VM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Bb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function li(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(wR(s)&&wR(l)){if(!li(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function wR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ii(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bi(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WE(n,e){const t=new MM(n,e);return t.subscribe.bind(t)}class MM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=kv),i.error===void 0&&(i.error=kv),i.complete===void 0&&(i.complete=kv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n){return n&&n._delegate?n._delegate:n}class Br{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new CM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jM(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$M(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $M(n){return n===qa?void 0:n}function jM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=[];var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const Wb={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},BM=ze.INFO,zM={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},WM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=zM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=BM,this._logHandler=WM,this._userLogHandler=null,qE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}function qM(n){qE.forEach(e=>{e.setLogLevel(n)})}function HM(n,e){for(const t of qE){let r=null;e&&e.level&&(r=Wb[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:ze[s].toLowerCase(),message:u,args:l,type:i.name})}}}const KM=(n,e)=>e.some(t=>n instanceof t);let ER,IR;function GM(){return ER||(ER=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QM(){return IR||(IR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,yw=new WeakMap,Hb=new WeakMap,xv=new WeakMap,HE=new WeakMap;function YM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(jo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&qb.set(t,n)}).catch(()=>{}),HE.set(e,n),e}function JM(n){if(yw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});yw.set(n,e)}let _w={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return jo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XM(n){_w=n(_w)}function ZM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ov(this),e,...t);return Hb.set(r,e.sort?e.sort():[e]),jo(r)}:QM().includes(n)?function(...e){return n.apply(Ov(this),e),jo(qb.get(this))}:function(...e){return jo(n.apply(Ov(this),e))}}function eF(n){return typeof n=="function"?ZM(n):(n instanceof IDBTransaction&&JM(n),KM(n,GM())?new Proxy(n,_w):n)}function jo(n){if(n instanceof IDBRequest)return YM(n);if(xv.has(n))return xv.get(n);const e=eF(n);return e!==n&&(xv.set(n,e),HE.set(e,n)),e}const Ov=n=>HE.get(n);function tF(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=jo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(jo(l.result),d.oldVersion,d.newVersion,jo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const nF=["get","getKey","getAll","getAllKeys","count"],rF=["put","add","delete","clear"],Nv=new Map;function TR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=rF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nF.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return Nv.set(e,s),s}XM(n=>({...n,get:(e,t,r)=>TR(e,t)||n.get(e,t,r),has:(e,t)=>!!TR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sF(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sF(n){return n.getComponent()?.type==="VERSION"}const rg="@firebase/app",vw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new of("@firebase/app"),oF="@firebase/app-compat",aF="@firebase/analytics-compat",lF="@firebase/analytics",uF="@firebase/app-check-compat",cF="@firebase/app-check",dF="@firebase/auth",hF="@firebase/auth-compat",fF="@firebase/database",pF="@firebase/data-connect",mF="@firebase/database-compat",gF="@firebase/functions",yF="@firebase/functions-compat",_F="@firebase/installations",vF="@firebase/installations-compat",wF="@firebase/messaging",EF="@firebase/messaging-compat",IF="@firebase/performance",TF="@firebase/performance-compat",SF="@firebase/remote-config",RF="@firebase/remote-config-compat",AF="@firebase/storage",PF="@firebase/storage-compat",CF="@firebase/firestore",bF="@firebase/ai",kF="@firebase/firestore-compat",xF="firebase",OF="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]",NF={[rg]:"fire-core",[oF]:"fire-core-compat",[lF]:"fire-analytics",[aF]:"fire-analytics-compat",[cF]:"fire-app-check",[uF]:"fire-app-check-compat",[dF]:"fire-auth",[hF]:"fire-auth-compat",[fF]:"fire-rtdb",[pF]:"fire-data-connect",[mF]:"fire-rtdb-compat",[gF]:"fire-fn",[yF]:"fire-fn-compat",[_F]:"fire-iid",[vF]:"fire-iid-compat",[wF]:"fire-fcm",[EF]:"fire-fcm-compat",[IF]:"fire-perf",[TF]:"fire-perf-compat",[SF]:"fire-rc",[RF]:"fire-rc-compat",[AF]:"fire-gcs",[PF]:"fire-gcs-compat",[CF]:"fire-fst",[kF]:"fire-fst-compat",[bF]:"fire-vertex","fire-js":"fire-js",[xF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Map,Gu=new Map,Qu=new Map;function bh(n,e){try{n.container.addComponent(e)}catch(t){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Kb(n,e){n.container.addOrOverwriteComponent(e)}function Zi(n){const e=n.name;if(Qu.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Qu.set(e,n);for(const t of Go.values())bh(t,n);for(const t of Gu.values())bh(t,n);return!0}function qg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function DF(n,e,t=Ko){qg(n,e).clearInstance(t)}function KE(n){return n.options!==void 0}function Gb(n){return KE(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Je(n){return n==null?!1:n.settings!==void 0}function LF(){Qu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new ss("app","Firebase",VF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e){const t=jg(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class MF extends Qb{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig={automaticDataCollectionEnabled:s,...t},this._serverConfig.authIdToken&&SR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&SR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,or(rg,vw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){QE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Sr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=OF;function GE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ko,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Sr.create("bad-app-name",{appName:String(i)});if(t||(t=FE()),!t)throw Sr.create("no-options");const s=Go.get(i);if(s){if(li(t,s.options)&&li(r,s.config))return s;throw Sr.create("duplicate-app",{appName:i})}const l=new zb(i);for(const d of Qu.values())l.addComponent(d);const u=new Qb(t,r,l);return Go.set(i,u),u}function FF(n,e={}){if(OM()&&!Fb())throw Sr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(KE(n)?t=n.options:Gb(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=FE()),!t)throw Sr.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=m=>[...m].reduce((y,E)=>Math.imul(31,y)+E.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Sr.create("finalization-registry-not-supported",{});const l=""+s(JSON.stringify(i)),u=Gu.get(l);if(u)return u.incRefCount(r.releaseOnDeref),u;const d=new zb(l);for(const m of Qu.values())d.addComponent(m);const f=new MF(t,r,l,d);return Gu.set(l,f),f}function Yb(n=Ko){const e=Go.get(n);if(!e&&n===Ko&&FE())return GE();if(!e)throw Sr.create("no-app",{appName:n});return e}function UF(){return Array.from(Go.values())}async function QE(n){let e=!1;const t=n.name;Go.has(t)?(e=!0,Go.delete(t)):Gu.has(t)&&n.decRefCount()<=0&&(Gu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function or(n,e,t){let r=NF[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(l.join(" "));return}Zi(new Br(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function Jb(n,e){if(n!==null&&typeof n!="function")throw Sr.create("invalid-log-argument");HM(n,e)}function Xb(n){qM(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="firebase-heartbeat-database",jF=1,kh="firebase-heartbeat-store";let Dv=null;function Zb(){return Dv||(Dv=tF($F,jF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sr.create("idb-open",{originalErrorMessage:n.message})})),Dv}async function BF(n){try{const t=(await Zb()).transaction(kh),r=await t.objectStore(kh).get(e1(n));return await t.done,r}catch(e){if(e instanceof fn)$s.warn(e.message);else{const t=Sr.create("idb-get",{originalErrorMessage:e?.message});$s.warn(t.message)}}}async function RR(n,e){try{const r=(await Zb()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,e1(n)),await r.done}catch(t){if(t instanceof fn)$s.warn(t.message);else{const r=Sr.create("idb-set",{originalErrorMessage:t?.message});$s.warn(r.message)}}}function e1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=1024,WF=30;class qF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>WF){const i=GF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AR(),{heartbeatsToSend:t,unsentEntries:r}=HF(this._heartbeatsCache.heartbeats),i=tg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return $s.warn(e),""}}}function AR(){return new Date().toISOString().substring(0,10)}function HF(n,e=zF){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),PR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class KF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ch()?NM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function PR(n){return tg(JSON.stringify({version:2,heartbeats:n})).length}function GF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(n){Zi(new Br("platform-logger",e=>new iF(e),"PRIVATE")),Zi(new Br("heartbeat",e=>new qF(e),"PRIVATE")),or(rg,vw,n),or(rg,vw,"esm2020"),or("fire-js","")}QF("");const YF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fn,SDK_VERSION:Cr,_DEFAULT_ENTRY_NAME:Ko,_addComponent:bh,_addOrOverwriteComponent:Kb,_apps:Go,_clearComponents:LF,_components:Qu,_getProvider:qg,_isFirebaseApp:KE,_isFirebaseServerApp:Je,_isFirebaseServerAppSettings:Gb,_registerComponent:Zi,_removeServiceInstance:DF,_serverApps:Gu,deleteApp:QE,getApp:Yb,getApps:UF,initializeApp:GE,initializeServerApp:FF,onLog:Jb,registerVersion:or,setLogLevel:Xb},Symbol.toStringTag,{value:"Module"}));var JF="firebase",XF="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(JF,XF,"app");function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZF=t1,n1=new ss("auth","Firebase",t1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=new of("@firebase/auth");function e4(n,...e){ig.logLevel<=ze.WARN&&ig.warn(`Auth (${Cr}): ${n}`,...e)}function Tm(n,...e){ig.logLevel<=ze.ERROR&&ig.error(`Auth (${Cr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,...e){throw YE(n,...e)}function Hi(n,...e){return YE(n,...e)}function r1(n,e,t){const r={...ZF(),[e]:t};return new ss("auth","Firebase",r).create(e,{appName:n.name})}function Ms(n){return r1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return n1.create(n,...e)}function Ve(n,e,...t){if(!n)throw YE(e,...t)}function xs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tm(e),new Error(e)}function js(n,e){n||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return typeof self<"u"&&self.location?.href||""}function t4(){return CR()==="http:"||CR()==="https:"}function CR(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t4()||BE()||"connection"in navigator)?navigator.onLine:!0}function r4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,js(t>e,"Short delay should be less than long delay!"),this.isMobile=Mb()||Wg()}get(){return n4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n,e){js(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i1=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o4=new af(3e4,6e4);function aa(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function la(n,e,t,r,i={}){return s1(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=di({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...s};return Ub()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ks(n.emulatorConfig.host)&&(f.credentials="include"),i1.fetch()(await o1(n,n.config.apiHost,t,u),f)})}async function s1(n,e,t){n._canInitEmulator=!1;const r={...i4,...e};try{const i=new l4(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw im(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw im(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw im(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw im(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw r1(n,m,f);ui(n,m)}}catch(i){if(i instanceof fn)throw i;ui(n,"network-request-failed",{message:String(i)})}}async function lf(n,e,t,r,i={}){const s=await la(n,e,t,r,i);return"mfaPendingCredential"in s&&ui(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function o1(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?JE(n.config,i):`${n.config.apiScheme}://${i}`;return s4.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function a4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let l4=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),o4.get())})}};function im(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Hi(n,e,r);return i.customData._tokenResponse=t,i}function bR(n){return n!==void 0&&n.enterprise!==void 0}let u4=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function c4(n,e){return la(n,"GET","/v2/recaptchaConfig",aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,e){return la(n,"POST","/v1/accounts:delete",e)}async function sg(n,e){return la(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h4(n,e=!1){const t=ke(n),r=await t.getIdToken(e),i=XE(r);Ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:ch(Lv(i.auth_time)),issuedAtTime:ch(Lv(i.iat)),expirationTime:ch(Lv(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Lv(n){return Number(n)*1e3}function XE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=jg(t);return i?JSON.parse(i):(Tm("Failed to decode base64 JWT payload"),null)}catch(i){return Tm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kR(n){const e=XE(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fn&&f4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function f4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p4=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ew=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ch(this.lastLoginAt),this.creationTime=ch(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(n){const e=n.auth,t=await n.getIdToken(),r=await xh(n,sg(e,{idToken:t}));Ve(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?a1(i.providerUserInfo):[],l=g4(n.providerData,s),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!l?.length,f=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ew(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function m4(n){const e=ke(n);await og(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function a1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(n,e){const t=await s1(n,{},async()=>{const r=di({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await o1(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&Ks(n.emulatorConfig.host)&&(d.credentials="include"),i1.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _4(n,e){return la(n,"POST","/v2/accounts:revokeToken",aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv=class Iw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=kR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await y4(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Iw;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ve(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Iw,this.toJSON())}_performRefresh(){return xs("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Mu=class Zd{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new p4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ew(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xh(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return h4(this,e)}reload(){return m4(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zd({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await og(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Je(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await xh(this,d4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:C,providerData:T,stsTokenManager:R}=t;Ve(y&&R,e,"internal-error");const k=Vv.fromJSON(this.name,R);Ve(typeof y=="string",e,"internal-error"),ko(r,e.name),ko(i,e.name),Ve(typeof E=="boolean",e,"internal-error"),Ve(typeof C=="boolean",e,"internal-error"),ko(s,e.name),ko(l,e.name),ko(u,e.name),ko(d,e.name),ko(f,e.name),ko(m,e.name);const j=new Zd({uid:y,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:C,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:k,createdAt:f,lastLoginAt:m});return T&&Array.isArray(T)&&(j.providerData=T.map(V=>({...V}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new Vv;i.updateFromServerResponse(t);const s=new Zd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await og(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ve(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?a1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new Vv;u.updateFromIdToken(r);const d=new Zd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ew(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new Map;function Os(n){js(n instanceof Function,"Expected a class definition");let e=xR.get(n);return e?(js(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};l1.type="NONE";const OR=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n,e,t){return`firebase:${n}:${e}:${t}`}let NR=class Rm{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sg(this.auth,{idToken:e}).catch(()=>{});return t?Mu._fromGetAccountInfoResponse(this.auth,t,e):null}return Mu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Rm(Os(OR),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Os(OR);const l=Sm(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const E=await sg(e,{idToken:m}).catch(()=>{});if(!E)break;y=await Mu._fromGetAccountInfoResponse(e,E,m)}else y=Mu._fromJSON(e,m);f!==s&&(u=y),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Rm(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Rm(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p1(e))return"Blackberry";if(m1(e))return"Webos";if(c1(e))return"Safari";if((e.includes("chrome/")||d1(e))&&!e.includes("edge/"))return"Chrome";if(f1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function u1(n=Qe()){return/firefox\//i.test(n)}function c1(n=Qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d1(n=Qe()){return/crios\//i.test(n)}function h1(n=Qe()){return/iemobile/i.test(n)}function f1(n=Qe()){return/android/i.test(n)}function p1(n=Qe()){return/blackberry/i.test(n)}function m1(n=Qe()){return/webos/i.test(n)}function ZE(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function v4(n=Qe()){return ZE(n)&&!!window.navigator?.standalone}function w4(){return zE()&&document.documentMode===10}function g1(n=Qe()){return ZE(n)||f1(n)||m1(n)||p1(n)||/windows phone/i.test(n)||h1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n,e=[]){let t;switch(n){case"Browser":t=DR(Qe());break;case"Worker":t=`${DR(Qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E4=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,e={}){return la(n,"GET","/v2/passwordPolicy",aa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=6;let S4=class{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??T4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R4=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LR(this),this.idTokenSubscription=new LR(this),this.beforeStateQueue=new E4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Os(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await NR.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sg(this,{idToken:e}),r=await Mu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Je(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await og(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Je(this.app))return Promise.reject(Ms(this));const t=e?ke(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Je(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Je(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I4(this),t=new S4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ss("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await _4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Os(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await NR.create(this,[Os(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&e4(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Sl(n){return ke(n)}let LR=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WE(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A4(n){Hg=n}function _1(n){return Hg.loadJS(n)}function P4(){return Hg.recaptchaEnterpriseScript}function C4(){return Hg.gapiScript}function b4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let k4=class{constructor(){this.enterprise=new x4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},x4=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const O4="recaptcha-enterprise",v1="NO_RECAPTCHA";let N4=class{constructor(e){this.type=O4,this.auth=Sl(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{c4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new u4(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;bR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(v1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k4().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&bR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=P4();d.length!==0&&(d+=u),_1(d).then(()=>{i(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}};async function VR(n,e,t,r=!1,i=!1){const s=new N4(n);let l;if(i)l=v1;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Tw(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await VR(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await VR(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(n,e){const t=qg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(li(s,e??{}))return i;ui(i,"already-initialized")}return t.initialize({options:e})}function L4(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Os);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function V4(n,e,t){const r=Sl(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=w1(e),{host:l,port:u}=M4(e),d=u===null?"":`:${u}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(li(f,r.config.emulator)&&li(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ks(l)?($E(`${s}//${l}${d}`),jE("Auth",!0)):F4()}function w1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function M4(n){const e=w1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:MR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:MR(l)}}}function MR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function F4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eI=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,t){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}};async function U4(n,e){return la(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(n,e){return lf(n,"POST","/v1/accounts:signInWithPassword",aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(n,e){return lf(n,"POST","/v1/accounts:signInWithEmailLink",aa(n,e))}async function B4(n,e){return lf(n,"POST","/v1/accounts:signInWithEmailLink",aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FR=class Sw extends eI{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Sw(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Sw(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tw(e,t,"signInWithPassword",$4);case"emailLink":return j4(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tw(e,r,"signUpPassword",U4);case"emailLink":return B4(e,{idToken:t,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(n,e){return lf(n,"POST","/v1/accounts:signInWithIdp",aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="http://localhost";let Kg=class Rw extends eI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const l=new Rw(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Uu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Uu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uu(e,t)}buildRequest(){const e={requestUri:z4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=di(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q4(n){const e=ii(Bi(n)).link,t=e?ii(Bi(e)).deep_link_id:null,r=ii(Bi(n)).deep_link_id;return(r?ii(Bi(r)).link:null)||r||t||e||n}let H4=class E1{constructor(e){const t=ii(Bi(e)),r=t.apiKey??null,i=t.oobCode??null,s=W4(t.mode??null);Ve(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=q4(e);try{return new E1(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg=class I1{constructor(){this.providerId=I1.PROVIDER_ID}static credential(e,t){return FR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=H4.parseLink(t);return Ve(r,"argument-error"),FR._fromEmailAndCode(e,r.code,r.tenantId)}};Gg.PROVIDER_ID="password";Gg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T1=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=class extends T1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S1=class Pu extends uf{constructor(){super("facebook.com")}static credential(e){return Kg._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pu.credential(e.oauthAccessToken)}catch{return null}}};S1.FACEBOOK_SIGN_IN_METHOD="facebook.com";S1.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R1=class Cu extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Kg._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Cu.credential(t,r)}catch{return null}}};R1.GOOGLE_SIGN_IN_METHOD="google.com";R1.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A1=class bu extends uf{constructor(){super("github.com")}static credential(e){return Kg._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bu.credential(e.oauthAccessToken)}catch{return null}}};A1.GITHUB_SIGN_IN_METHOD="github.com";A1.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P1=class ku extends uf{constructor(){super("twitter.com")}static credential(e,t){return Kg._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ku.credential(t,r)}catch{return null}}};P1.TWITTER_SIGN_IN_METHOD="twitter.com";P1.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(n,e){return lf(n,"POST","/v1/accounts:signUp",aa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg=class Aw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Mu._fromIdTokenResponse(e,r,i),l=UR(r);return new Aw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=UR(r);return new Aw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function UR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G4=class Pw extends fn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pw.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Pw(e,t,r,i)}};function C1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?G4._fromErrorAndOperation(n,s,e,r):s})}async function Q4(n,e,t=!1){const r=await xh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qg._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(n,e,t=!1){const{auth:r}=n;if(Je(r.app))return Promise.reject(Ms(r));const i="reauthenticate";try{const s=await xh(n,C1(r,i,e,n),t);Ve(s.idToken,r,"internal-error");const l=XE(s.idToken);Ve(l,r,"internal-error");const{sub:u}=l;return Ve(n.uid===u,r,"user-mismatch"),Qg._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(n,e,t=!1){if(Je(n.app))return Promise.reject(Ms(n));const r="signIn",i=await C1(n,r,e),s=await Qg._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function J4(n,e){return b1(Sl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(n){const e=Sl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X4(n,e,t){if(Je(n.app))return Promise.reject(Ms(n));const r=Sl(n),l=await Tw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K4).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&k1(n),d}),u=await Qg._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Z4(n,e,t){return Je(n.app)?Promise.reject(Ms(n)):J4(ke(n),Gg.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&k1(n),r})}function eU(n,e,t,r){return ke(n).onIdTokenChanged(e,t,r)}function tU(n,e,t){return ke(n).beforeAuthStateChanged(e,t)}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x1=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=1e3,rU=10;let O1=class extends x1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);w4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};O1.type="LOCAL";const iU=O1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N1=class extends x1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};N1.type="SESSION";const D1=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L1=class V1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new V1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),d=await sU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};L1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oU=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=tI("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const E=y;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(E.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function aU(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function lU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uU(){return navigator?.serviceWorker?.controller||null}function cU(){return M1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebaseLocalStorageDb",dU=1,lg="firebaseLocalStorage",U1="fbase_key";let cf=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Yg(n,e){return n.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function hU(){const n=indexedDB.deleteDatabase(F1);return new cf(n).toPromise()}function Cw(){const n=indexedDB.open(F1,dU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lg,{keyPath:U1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(lg)?e(r):(r.close(),await hU(),e(await Cw()))})})}async function $R(n,e,t){const r=Yg(n,!0).put({[U1]:e,value:t});return new cf(r).toPromise()}async function fU(n,e){const t=Yg(n,!1).get(e),r=await new cf(t).toPromise();return r===void 0?null:r.value}function jR(n,e){const t=Yg(n,!0).delete(e);return new cf(t).toPromise()}const pU=800,mU=3;let $1=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=L1._getInstance(cU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lU(),!this.activeServiceWorker)return;this.sender=new oU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cw();return await $R(e,ag,"1"),await jR(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$R(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>fU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yg(i,!1).getAll();return new cf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};$1.type="LOCAL";const gU=$1;new af(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(n,e){return e?Os(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nI=class extends eI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function _U(n){return b1(n.auth,new nI(n),n.bypassAuthState)}function vU(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),Y4(t,new nI(n),n.bypassAuthState)}async function wU(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),Q4(t,new nI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j1=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _U;case"linkViaPopup":case"linkViaRedirect":return wU;case"reauthViaPopup":case"reauthViaRedirect":return vU;default:ui(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new af(2e3,1e4);let IU=class eh extends j1{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,eh.currentPopupAction&&eh.currentPopupAction.cancel(),eh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=tI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EU.get())};e()}};IU.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="pendingRedirect",Am=new Map;let SU=class extends j1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const r=await RU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function RU(n,e){const t=CU(e),r=PU(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function AU(n,e){Am.set(n._key(),e)}function PU(n){return Os(n._redirectPersistence)}function CU(n){return Sm(TU,n.config.apiKey,n.name)}async function bU(n,e,t=!1){if(Je(n.app))return Promise.reject(Ms(n));const r=Sl(n),i=yU(r,e),l=await new SU(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=600*1e3;let xU=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!B1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Hi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kU&&this.cachedEventUids.clear(),this.cachedEventUids.has(BR(e))}saveEventToCache(e){this.cachedEventUids.add(BR(e)),this.lastProcessedEventTime=Date.now()}};function BR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function B1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function OU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(n,e={}){return la(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LU=/^https?/;async function VU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NU(n);for(const t of e)try{if(MU(t))return}catch{}ui(n,"unauthorized-domain")}function MU(n){const e=ww(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!LU.test(t))return!1;if(DU.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new af(3e4,6e4);function zR(){const n=Ki().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UU(n){return new Promise((e,t)=>{function r(){zR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zR(),t(Hi(n,"network-request-failed"))},timeout:FU.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)r();else{const i=b4("iframefcb");return Ki()[i]=()=>{gapi.load?r():t(Hi(n,"network-request-failed"))},_1(`${C4()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw Pm=null,e})}let Pm=null;function $U(n){return Pm=Pm||UU(n),Pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=new af(5e3,15e3),BU="__/auth/iframe",zU="emulator/auth/iframe",WU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HU(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?JE(e,zU):`https://${n.config.authDomain}/${BU}`,r={apiKey:e.apiKey,appName:n.name,v:Cr},i=qU.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${di(r).slice(1)}`}async function KU(n){const e=await $U(n),t=Ki().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:HU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=Hi(n,"network-request-failed"),u=Ki().setTimeout(()=>{s(l)},jU.get());function d(){Ki().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QU=500,YU=600,JU="_blank",XU="http://localhost";let WR=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ZU(n,e,t,r=QU,i=YU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...GU,width:r.toString(),height:i.toString(),top:s,left:l},f=Qe().toLowerCase();t&&(u=d1(f)?JU:t),u1(f)&&(e=e||XU,d.scrollbars="yes");const m=Object.entries(d).reduce((E,[C,T])=>`${E}${C}=${T},`,"");if(v4(f)&&u!=="_self")return e$(e||"",u),new WR(null);const y=window.open(e||"",u,m);Ve(y,n,"popup-blocked");try{y.focus()}catch{}return new WR(y)}function e$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="__/auth/handler",n$="emulator/auth/handler",r$=encodeURIComponent("fac");async function qR(n,e,t,r,i,s){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cr,eventId:i};if(e instanceof T1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Bb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof uf){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${r$}=${encodeURIComponent(d)}`:"";return`${i$(n)}?${di(u).slice(1)}${f}`}function i$({config:n}){return n.emulator?JE(n,n$):`https://${n.authDomain}/${t$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="webStorageSupport";let s$=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=bU,this._overrideRedirectResult=AU}async _openPopup(e,t,r,i){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await qR(e,t,r,ww(),i);return ZU(e,s,tI())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await qR(e,t,r,ww(),i);return aU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(js(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await KU(e),r=new xU(e);return t.register("authEvent",i=>(Ve(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mv,{type:Mv},i=>{const s=i?.[0]?.[Mv];s!==void 0&&t(!!s),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return g1()||c1()||ZE()}};const o$=s$;var HR="@firebase/auth",KR="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a$=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u$(n){Zi(new Br("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y1(n)},f=new R4(r,i,s,d);return L4(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zi(new Br("auth-internal",e=>{const t=Sl(e.getProvider("auth").getImmediate());return(r=>new a$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(HR,KR,l$(n)),or(HR,KR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=300,d$=UE("authIdTokenMaxAge")||c$;let GR=null;const h$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>d$)return;const i=t?.token;GR!==i&&(GR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function f$(n=Yb()){const e=qg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=D4(n,{popupRedirectResolver:o$,persistence:[gU,iU,D1]}),r=UE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=h$(s.toString());tU(t,l,()=>l(t.currentUser)),eU(t,u=>l(u))}}const i=PM("auth");return i&&V4(t,`http://${i}`),t}function p$(){return document.getElementsByTagName("head")?.[0]??document}A4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Hi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",p$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u$("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,t){this._delegate=e,this.firebase=t,bh(e,new Br("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),QE(this._delegate)))}_getService(e,t=Ko){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ko){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){bh(this._delegate,e)}_addOrOverwriteComponent(e){Kb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},QR=new ss("app-compat","Firebase",g$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:or,setLogLevel:Xb,onLog:Jb,apps:null,SDK_VERSION:Cr,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:YF}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||Ko,!vR(e,f))throw QR.create("no-app",{appName:f});return e[f]}i.App=n;function s(f,m={}){const y=GE(f,m);if(vR(e,y.name))return e[y.name];const E=new n(y,t);return e[y.name]=E,E}function l(){return Object.keys(e).map(f=>e[f])}function u(f){const m=f.name,y=m.replace("-compat","");if(Zi(f)&&f.type==="PUBLIC"){const E=(C=i())=>{if(typeof C[y]!="function")throw QR.create("invalid-app-argument",{appName:m});return C[y]()};f.serviceProps!==void 0&&ng(E,f.serviceProps),t[y]=E,n.prototype[y]=function(...C){return this._getService.bind(this,m).apply(this,f.multipleInstances?C:[])}}return f.type==="PUBLIC"?t[y]:null}function d(f,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){const n=y$(m$);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:z1,extendNamespace:e,createSubscribe:WE,ErrorFactory:ss,deepExtend:ng};function e(t){ng(n,t)}return n}const _$=z1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new of("@firebase/app-compat"),v$="@firebase/app-compat",w$="0.5.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(n){or(v$,w$,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ME();if(n.firebase!==void 0){YR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&YR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Sc=_$;E$();var JR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bo,W1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function b(){}b.prototype=A.prototype,N.F=A.prototype,N.prototype=new b,N.prototype.constructor=N,N.D=function(L,x,w){for(var S=Array(arguments.length-2),B=2;B<arguments.length;B++)S[B-2]=arguments[B];return A.prototype[x].apply(L,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,b){b||(b=0);const L=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)L[x]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(x=0;x<16;++x)L[x]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=N.g[0],b=N.g[1],x=N.g[2];let w=N.g[3],S;S=A+(w^b&(x^w))+L[0]+3614090360&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+L[1]+3905402710&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+L[2]+606105819&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+L[3]+3250441966&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(w^b&(x^w))+L[4]+4118548399&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+L[5]+1200080426&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+L[6]+2821735955&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+L[7]+4249261313&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(w^b&(x^w))+L[8]+1770035416&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+L[9]+2336552879&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+L[10]+4294925233&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+L[11]+2304563134&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(w^b&(x^w))+L[12]+1804603682&4294967295,A=b+(S<<7&4294967295|S>>>25),S=w+(x^A&(b^x))+L[13]+4254626195&4294967295,w=A+(S<<12&4294967295|S>>>20),S=x+(b^w&(A^b))+L[14]+2792965006&4294967295,x=w+(S<<17&4294967295|S>>>15),S=b+(A^x&(w^A))+L[15]+1236535329&4294967295,b=x+(S<<22&4294967295|S>>>10),S=A+(x^w&(b^x))+L[1]+4129170786&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+L[6]+3225465664&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+L[11]+643717713&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+L[0]+3921069994&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(x^w&(b^x))+L[5]+3593408605&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+L[10]+38016083&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+L[15]+3634488961&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+L[4]+3889429448&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(x^w&(b^x))+L[9]+568446438&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+L[14]+3275163606&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+L[3]+4107603335&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+L[8]+1163531501&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(x^w&(b^x))+L[13]+2850285829&4294967295,A=b+(S<<5&4294967295|S>>>27),S=w+(b^x&(A^b))+L[2]+4243563512&4294967295,w=A+(S<<9&4294967295|S>>>23),S=x+(A^b&(w^A))+L[7]+1735328473&4294967295,x=w+(S<<14&4294967295|S>>>18),S=b+(w^A&(x^w))+L[12]+2368359562&4294967295,b=x+(S<<20&4294967295|S>>>12),S=A+(b^x^w)+L[5]+4294588738&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+L[8]+2272392833&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+L[11]+1839030562&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+L[14]+4259657740&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(b^x^w)+L[1]+2763975236&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+L[4]+1272893353&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+L[7]+4139469664&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+L[10]+3200236656&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(b^x^w)+L[13]+681279174&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+L[0]+3936430074&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+L[3]+3572445317&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+L[6]+76029189&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(b^x^w)+L[9]+3654602809&4294967295,A=b+(S<<4&4294967295|S>>>28),S=w+(A^b^x)+L[12]+3873151461&4294967295,w=A+(S<<11&4294967295|S>>>21),S=x+(w^A^b)+L[15]+530742520&4294967295,x=w+(S<<16&4294967295|S>>>16),S=b+(x^w^A)+L[2]+3299628645&4294967295,b=x+(S<<23&4294967295|S>>>9),S=A+(x^(b|~w))+L[0]+4096336452&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+L[7]+1126891415&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+L[14]+2878612391&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+L[5]+4237533241&4294967295,b=x+(S<<21&4294967295|S>>>11),S=A+(x^(b|~w))+L[12]+1700485571&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+L[3]+2399980690&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+L[10]+4293915773&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+L[1]+2240044497&4294967295,b=x+(S<<21&4294967295|S>>>11),S=A+(x^(b|~w))+L[8]+1873313359&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+L[15]+4264355552&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+L[6]+2734768916&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+L[13]+1309151649&4294967295,b=x+(S<<21&4294967295|S>>>11),S=A+(x^(b|~w))+L[4]+4149444226&4294967295,A=b+(S<<6&4294967295|S>>>26),S=w+(b^(A|~x))+L[11]+3174756917&4294967295,w=A+(S<<10&4294967295|S>>>22),S=x+(A^(w|~b))+L[2]+718787259&4294967295,x=w+(S<<15&4294967295|S>>>17),S=b+(w^(x|~A))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+w&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const b=A-this.blockSize,L=this.C;let x=this.h,w=0;for(;w<A;){if(x==0)for(;w<=b;)i(this,N,w),w+=this.blockSize;if(typeof N=="string"){for(;w<A;)if(L[x++]=N.charCodeAt(w++),x==this.blockSize){i(this,L),x=0;break}}else for(;w<A;)if(L[x++]=N[w++],x==this.blockSize){i(this,L),x=0;break}}this.h=x,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var b=N.length-8;b<N.length;++b)N[b]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,b=0;b<4;++b)for(let L=0;L<32;L+=8)N[A++]=this.g[b]>>>L&255;return N};function s(N,A){var b=u;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=A(N)}function l(N,A){this.h=A;const b=[];let L=!0;for(let x=N.length-1;x>=0;x--){const w=N[x]|0;L&&w==A||(b[x]=w,L=!1)}this.g=b}var u={};function d(N){return-128<=N&&N<128?s(N,function(A){return new l([A|0],A<0?-1:0)}):new l([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return k(f(-N));const A=[];let b=1;for(let L=0;N>=b;L++)A[L]=N/b|0,b*=4294967296;return new l(A,0)}function m(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return k(m(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=f(Math.pow(A,8));let L=y;for(let w=0;w<N.length;w+=8){var x=Math.min(8,N.length-w);const S=parseInt(N.substring(w,w+x),A);x<8?(x=f(Math.pow(A,x)),L=L.j(x).add(f(S))):(L=L.j(b),L=L.add(f(S)))}return L}var y=d(0),E=d(1),C=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-k(this).m();let N=0,A=1;for(let b=0;b<this.g.length;b++){const L=this.i(b);N+=(L>=0?L:4294967296+L)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(R(this))return"-"+k(this).toString(N);const A=f(Math.pow(N,6));var b=this;let L="";for(;;){const x=H(b,A).g;b=j(b,x.j(A));let w=((b.g.length>0?b.g[0]:b.h)>>>0).toString(N);if(b=x,T(b))return w+L;for(;w.length<6;)w="0"+w;L=w+L}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function R(N){return N.h==-1}n.l=function(N){return N=j(this,N),R(N)?-1:T(N)?0:1};function k(N){const A=N.g.length,b=[];for(let L=0;L<A;L++)b[L]=~N.g[L];return new l(b,~N.h).add(E)}n.abs=function(){return R(this)?k(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),b=[];let L=0;for(let x=0;x<=A;x++){let w=L+(this.i(x)&65535)+(N.i(x)&65535),S=(w>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);L=S>>>16,w&=65535,S&=65535,b[x]=S<<16|w}return new l(b,b[b.length-1]&-2147483648?-1:0)};function j(N,A){return N.add(k(A))}n.j=function(N){if(T(this)||T(N))return y;if(R(this))return R(N)?k(this).j(k(N)):k(k(this).j(N));if(R(N))return k(this.j(k(N)));if(this.l(C)<0&&N.l(C)<0)return f(this.m()*N.m());const A=this.g.length+N.g.length,b=[];for(var L=0;L<2*A;L++)b[L]=0;for(L=0;L<this.g.length;L++)for(let x=0;x<N.g.length;x++){const w=this.i(L)>>>16,S=this.i(L)&65535,B=N.i(x)>>>16,D=N.i(x)&65535;b[2*L+2*x]+=S*D,V(b,2*L+2*x),b[2*L+2*x+1]+=w*D,V(b,2*L+2*x+1),b[2*L+2*x+1]+=S*B,V(b,2*L+2*x+1),b[2*L+2*x+2]+=w*B,V(b,2*L+2*x+2)}for(N=0;N<A;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=A;N<2*A;N++)b[N]=0;return new l(b,0)};function V(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function $(N,A){this.g=N,this.h=A}function H(N,A){if(T(A))throw Error("division by zero");if(T(N))return new $(y,y);if(R(N))return A=H(k(N),A),new $(k(A.g),k(A.h));if(R(A))return A=H(N,k(A)),new $(k(A.g),A.h);if(N.g.length>30){if(R(N)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var b=E,L=A;L.l(N)<=0;)b=q(b),L=q(L);var x=U(b,1),w=U(L,1);for(L=U(L,2),b=U(b,2);!T(L);){var S=w.add(L);S.l(N)<=0&&(x=x.add(b),w=S),L=U(L,1),b=U(b,1)}return A=j(N,x.j(A)),new $(x,A)}for(x=y;N.l(A)>=0;){for(b=Math.max(1,Math.floor(N.m()/A.m())),L=Math.ceil(Math.log(b)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),w=f(b),S=w.j(A);R(S)||S.l(N)>0;)b-=L,w=f(b),S=w.j(A);T(w)&&(w=E),x=x.add(w),N=j(N,S)}return new $(x,N)}n.B=function(N){return H(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),b=[];for(let L=0;L<A;L++)b[L]=this.i(L)&N.i(L);return new l(b,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),b=[];for(let L=0;L<A;L++)b[L]=this.i(L)|N.i(L);return new l(b,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),b=[];for(let L=0;L<A;L++)b[L]=this.i(L)^N.i(L);return new l(b,this.h^N.h)};function q(N){const A=N.g.length+1,b=[];for(let L=0;L<A;L++)b[L]=N.i(L)<<1|N.i(L-1)>>>31;return new l(b,N.h)}function U(N,A){const b=A>>5;A%=32;const L=N.g.length-b,x=[];for(let w=0;w<L;w++)x[w]=A>0?N.i(w+b)>>>A|N.i(w+b+1)<<32-A:N.i(w+b);return new l(x,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,W1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Bo=l}).apply(typeof JR<"u"?JR:typeof self<"u"?self:typeof window<"u"?window:{});var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q1,th,H1,Cm,bw,K1,G1,Q1;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sm=="object"&&sm];for(var v=0;v<h.length;++v){var I=h[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var I=r;h=h.split(".");for(var O=0;O<h.length-1;O++){var X=h[O];if(!(X in I))break e;I=I[X]}h=h[h.length-1],O=I[h],v=v(O),v!=O&&v!=null&&e(I,h,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(v){var I=[],O;for(O in v)Object.prototype.hasOwnProperty.call(v,O)&&I.push([O,v[O]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function d(h,v,I){return h.call.apply(h.bind,arguments)}function f(h,v,I){return f=d,f.apply(null,arguments)}function m(h,v){var I=Array.prototype.slice.call(arguments,1);return function(){var O=I.slice();return O.push.apply(O,arguments),h.apply(this,O)}}function y(h,v){function I(){}I.prototype=v.prototype,h.Z=v.prototype,h.prototype=new I,h.prototype.constructor=h,h.Ob=function(O,X,ne){for(var _e=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)_e[$e-2]=arguments[$e];return v.prototype[X].apply(O,_e)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const I=Array(v);for(let O=0;O<v;O++)I[O]=h[O];return I}return[]}function T(h,v){for(let O=1;O<arguments.length;O++){const X=arguments[O];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=h.length||0;const ne=X.length||0;h.length=I+ne;for(let _e=0;_e<ne;_e++)h[I+_e]=X[_e]}else h.push(X)}}class R{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(h){l.setTimeout(()=>{throw h},0)}function j(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class V{constructor(){this.h=this.g=null}add(v,I){const O=$.get();O.set(v,I),this.h?this.h.next=O:this.g=O,this.h=O}}var $=new R(()=>new H,h=>h.reset());class H{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let q,U=!1,N=new V,A=()=>{const h=Promise.resolve(void 0);q=()=>{h.then(b)}};function b(){for(var h;h=j();){try{h.h.call(h.g)}catch(I){k(I)}var v=$;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}U=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var w=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};l.addEventListener("test",I,v),l.removeEventListener("test",I,v)}catch{}return h})();function S(h){return/^[\s\xa0]*$/.test(h)}function B(h,v){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}y(B,x),B.prototype.init=function(h,v){const I=this.type=h.type,O=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(I=="mouseover"?v=h.fromElement:I=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var D="closure_listenable_"+(Math.random()*1e6|0),oe=0;function ae(h,v,I,O,X){this.listener=h,this.proxy=null,this.src=v,this.type=I,this.capture=!!O,this.ha=X,this.key=++oe,this.da=this.fa=!1}function K(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function fe(h,v,I){for(const O in h)v.call(I,h[O],O,h)}function le(h,v){for(const I in h)v.call(void 0,h[I],I,h)}function z(h){const v={};for(const I in h)v[I]=h[I];return v}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pe(h,v){let I,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(I in O)h[I]=O[I];for(let ne=0;ne<ie.length;ne++)I=ie[ne],Object.prototype.hasOwnProperty.call(O,I)&&(h[I]=O[I])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,v,I,O,X){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const _e=Me(h,v,O,X);return _e>-1?(v=h[_e],I||(v.fa=!1)):(v=new ae(v,this.src,ne,!!O,X),v.fa=I,h.push(v)),v};function De(h,v){const I=v.type;if(I in h.g){var O=h.g[I],X=Array.prototype.indexOf.call(O,v,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(O,X,1),ne&&(K(v),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Me(h,v,I,O){for(let X=0;X<h.length;++X){const ne=h[X];if(!ne.da&&ne.listener==v&&ne.capture==!!I&&ne.ha==O)return X}return-1}var Ze="closure_lm_"+(Math.random()*1e6|0),He={};function at(h,v,I,O,X){if(Array.isArray(v)){for(let ne=0;ne<v.length;ne++)at(h,v[ne],I,O,X);return null}return I=ma(I),h&&h[D]?h.J(v,I,u(O)?!!O.capture:!1,X):mn(h,v,I,!1,O,X)}function mn(h,v,I,O,X,ne){if(!v)throw Error("Invalid event type");const _e=u(X)?!!X.capture:!!X;let $e=eo(h);if($e||(h[Ze]=$e=new ge(h)),I=$e.add(v,I,O,_e,ne),I.proxy)return I;if(O=os(),I.proxy=O,O.src=h,O.listener=I,h.addEventListener)w||(X=_e),X===void 0&&(X=!1),h.addEventListener(v.toString(),O,X);else if(h.attachEvent)h.attachEvent(fi(v.toString()),O);else if(h.addListener&&h.removeListener)h.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return I}function os(){function h(I){return v.call(h.src,h.listener,I)}const v=kl;return h}function qr(h,v,I,O,X){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)qr(h,v[ne],I,O,X);else O=u(O)?!!O.capture:!!O,I=ma(I),h&&h[D]?(h=h.i,ne=String(v).toString(),ne in h.g&&(v=h.g[ne],I=Me(v,I,O,X),I>-1&&(K(v[I]),Array.prototype.splice.call(v,I,1),v.length==0&&(delete h.g[ne],h.h--)))):h&&(h=eo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Me(v,I,O,X)),(I=h>-1?v[h]:null)&&gn(I))}function gn(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[D])De(v.i,h);else{var I=h.type,O=h.proxy;v.removeEventListener?v.removeEventListener(I,O,h.capture):v.detachEvent?v.detachEvent(fi(I),O):v.addListener&&v.removeListener&&v.removeListener(O),(I=eo(v))?(De(I,h),I.h==0&&(I.src=null,v[Ze]=null)):K(h)}}}function fi(h){return h in He?He[h]:He[h]="on"+h}function kl(h,v){if(h.da)h=!0;else{v=new B(v,this);const I=h.listener,O=h.ha||h.src;h.fa&&gn(h),h=I.call(O,v)}return h}function eo(h){return h=h[Ze],h instanceof ge?h:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function ma(h){return typeof h=="function"?h:(h[as]||(h[as]=function(v){return h.handleEvent(v)}),h[as])}function Dt(){L.call(this),this.i=new ge(this),this.M=this,this.G=null}y(Dt,L),Dt.prototype[D]=!0,Dt.prototype.removeEventListener=function(h,v,I,O){qr(this,h,v,I,O)};function Tt(h,v){var I,O=h.G;if(O)for(I=[];O;O=O.G)I.push(O);if(h=h.M,O=v.type||v,typeof v=="string")v=new x(v,h);else if(v instanceof x)v.target=v.target||h;else{var X=v;v=new x(O,h),Pe(v,X)}X=!0;let ne,_e;if(I)for(_e=I.length-1;_e>=0;_e--)ne=v.g=I[_e],X=We(ne,O,!0,v)&&X;if(ne=v.g=h,X=We(ne,O,!0,v)&&X,X=We(ne,O,!1,v)&&X,I)for(_e=0;_e<I.length;_e++)ne=v.g=I[_e],X=We(ne,O,!1,v)&&X}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const I=h.g[v];for(let O=0;O<I.length;O++)K(I[O]);delete h.g[v],h.h--}}this.G=null},Dt.prototype.J=function(h,v,I,O){return this.i.add(String(h),v,!1,I,O)},Dt.prototype.K=function(h,v,I,O){return this.i.add(String(h),v,!0,I,O)};function We(h,v,I,O){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let X=!0;for(let ne=0;ne<v.length;++ne){const _e=v[ne];if(_e&&!_e.da&&_e.capture==I){const $e=_e.listener,Bt=_e.ha||_e.src;_e.fa&&De(h.i,_e),X=$e.call(Bt,O)!==!1&&X}}return X&&!O.defaultPrevented}function ft(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(h,v||0)}function yn(h){h.g=ft(()=>{h.g=null,h.i&&(h.i=!1,yn(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ls extends L{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(h){L.call(this),this.h=h,this.g={}}y(jn,L);var br=[];function Pn(h){fe(h.g,function(v,I){this.g.hasOwnProperty(I)&&gn(v)},h),h.g={}}jn.prototype.N=function(){jn.Z.N.call(this),Pn(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=l.JSON.stringify,to=l.JSON.parse,ga=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function no(){}function Wf(){}var ro={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xl(){x.call(this,"d")}y(xl,x);function $c(){x.call(this,"c")}y($c,x);var Hr={},Ol=null;function io(){return Ol=Ol||new Dt}Hr.Ia="serverreachability";function Nl(h){x.call(this,Hr.Ia,h)}y(Nl,x);function us(h){const v=io();Tt(v,new Nl(v))}Hr.STAT_EVENT="statevent";function cs(h,v){x.call(this,Hr.STAT_EVENT,h),this.stat=v}y(cs,x);function Lt(h){const v=io();Tt(v,new cs(v,h))}Hr.Ja="timingevent";function jc(h,v){x.call(this,Hr.Ja,h),this.size=v}y(jc,x);function so(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},v)}function oo(){this.g=!0}oo.prototype.ua=function(){this.g=!1};function qf(h,v,I,O,X,ne){h.info(function(){if(h.g)if(ne){var _e="",$e=ne.split("&");for(let lt=0;lt<$e.length;lt++){var Bt=$e[lt].split("=");if(Bt.length>1){const Gt=Bt[0];Bt=Bt[1];const mr=Gt.split("_");_e=mr.length>=2&&mr[1]=="type"?_e+(Gt+"="+Bt+"&"):_e+(Gt+"=redacted&")}}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+v+`
`+I+`
`+_e})}function Hf(h,v,I,O,X,ne,_e){h.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+v+`
`+I+`
`+ne+" "+_e})}function pi(h,v,I,O){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ya(h,I)+(O?" "+O:"")})}function Kf(h,v){h.info(function(){return"TIMEOUT: "+v})}oo.prototype.info=function(){};function ya(h,v){if(!h.g)return v;if(!v)return null;try{const ne=JSON.parse(v);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var I=ne[h];if(!(I.length<2)){var O=I[1];if(Array.isArray(O)&&!(O.length<1)){var X=O[0];if(X!="noop"&&X!="stop"&&X!="close")for(let _e=1;_e<O.length;_e++)O[_e]=""}}}}return Cn(ne)}catch{return v}}var ao={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gf;function ds(){}y(ds,no),ds.prototype.g=function(){return new XMLHttpRequest},Gf=new ds;function mi(h){return encodeURIComponent(String(h))}function Dl(h){var v=1;h=h.split(":");const I=[];for(;v>0&&h.length;)I.push(h.shift()),v--;return h.length&&I.push(h.join(":")),I}function kr(h,v,I,O){this.j=h,this.i=v,this.l=I,this.S=O||1,this.V=new jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qf}function Qf(){this.i=null,this.g="",this.h=!1}var Yf={},Bc={};function Kr(h,v,I){h.M=1,h.A=fs(xr(v)),h.u=I,h.R=!0,zc(h,null)}function zc(h,v){h.F=Date.now(),_a(h),h.B=xr(h.A);var I=h.B,O=h.S;Array.isArray(O)||(O=[String(O)]),Zc(I.i,"t",O),h.C=0,I=h.j.L,h.h=new Qf,h.g=op(h.j,I?v:null,!h.u),h.P>0&&(h.O=new ls(f(h.Y,h,h.g),h.P)),v=h.V,I=h.g,O=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(br[0]=X.toString()),X=br);for(let ne=0;ne<X.length;ne++){const _e=at(I,X[ne],O||v.handleEvent,!1,v.h||v);if(!_e)break;v.g[_e.key]=_e}v=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),us(),qf(h.i,h.v,h.B,h.l,h.S,h.u)}kr.prototype.ba=function(h){h=h.target;const v=this.O;v&&Ii(h)==3?v.j():this.Y(h)},kr.prototype.Y=function(h){try{if(h==this.g)e:{const $e=Ii(this.g),Bt=this.g.ya(),lt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||ip(this.g)))){this.K||$e!=4||Bt==7||(Bt==8||lt<=0?us(3):us(2)),Ll(this);var v=this.g.ca();this.X=v;var I=Jf(this);if(this.o=v==200,Hf(this.i,this.v,this.B,this.l,this.S,$e,v),this.o){if(this.U&&!this.L){t:{if(this.g){var O,X=this.g;if((O=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(O)){var ne=O;break t}}ne=null}if(h=ne)pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vt(this,h);else{this.o=!1,this.m=3,Lt(12),hs(this),va(this);break e}}if(this.R){h=!0;let Gt;for(;!this.K&&this.C<I.length;)if(Gt=Zf(this,I),Gt==Bc){$e==4&&(this.m=4,Lt(14),h=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Yf){this.m=4,Lt(15),pi(this.i,this.l,I,"[Invalid Chunk]"),h=!1;break}else pi(this.i,this.l,Gt,null),vt(this,Gt);if(Xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||I.length!=0||this.h.h||(this.m=1,Lt(16),h=!1),this.o=this.o&&h,!h)pi(this.i,this.l,I,"[Invalid Chunked Response]"),hs(this),va(this);else if(I.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Ca(_e),_e.P=!0,Lt(11))}}else pi(this.i,this.l,I,null),vt(this,I);$e==4&&hs(this),this.o&&!this.K&&($e==4?ql(this.j,this):(this.o=!1,_a(this)))}else td(this.g),v==400&&I.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),hs(this),va(this)}}}catch{}finally{}};function Jf(h){if(!Xf(h))return h.g.la();const v=ip(h.g);if(v==="")return"";let I="";const O=v.length,X=Ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return hs(h),va(h),"";h.h.i=new l.TextDecoder}for(let ne=0;ne<O;ne++)h.h.h=!0,I+=h.h.i.decode(v[ne],{stream:!(X&&ne==O-1)});return v.length=0,h.h.g+=I,h.C=0,h.h.g}function Xf(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zf(h,v){var I=h.C,O=v.indexOf(`
`,I);return O==-1?Bc:(I=Number(v.substring(I,O)),isNaN(I)?Yf:(O+=1,O+I>v.length?Bc:(v=v.slice(O,O+I),h.C=O+I,v)))}kr.prototype.cancel=function(){this.K=!0,hs(this)};function _a(h){h.T=Date.now()+h.H,Wc(h,h.H)}function Wc(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=so(f(h.aa,h),v)}function Ll(h){h.D&&(l.clearTimeout(h.D),h.D=null)}kr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Kf(this.i,this.B),this.M!=2&&(us(),Lt(17)),hs(this),this.m=2,va(this)):Wc(this,this.T-h)};function va(h){h.j.I==0||h.K||ql(h.j,h)}function hs(h){Ll(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Pn(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function vt(h,v){try{var I=h.j;if(I.I!=0&&(I.g==h||Hc(I.h,h))){if(!h.L&&Hc(I.h,h)&&I.I==3){try{var O=I.Ba.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<h.F)Wl(I),fr(I);else break e;Ri(I),Lt(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=so(f(I.Va,I),6e3));wa(I.h)<=1&&I.ta&&(I.ta=void 0)}else pr(I,11)}else if((h.L||I.g==h)&&Wl(I),!S(v))for(X=I.Ba.g.parse(v),v=0;v<X.length;v++){let lt=X[v];const Gt=lt[0];if(!(Gt<=I.K))if(I.K=Gt,lt=lt[1],I.I==2)if(lt[0]=="c"){I.M=lt[1],I.ba=lt[2];const mr=lt[3];mr!=null&&(I.ka=mr,I.j.info("VER="+I.ka));const _s=lt[4];_s!=null&&(I.za=_s,I.j.info("SVER="+I.za));const Ai=lt[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(O=1.5*Ai,I.O=O,I.j.info("backChannelRequestTimeoutMs_="+O)),O=I;const Pi=h.g;if(Pi){const Gl=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gl){var ne=O.h;ne.g||Gl.indexOf("spdy")==-1&&Gl.indexOf("quic")==-1&&Gl.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ml(ne,ne.h),ne.h=null))}if(O.G){const id=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;id&&(O.wa=id,rt(O.J,O.G,id))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-h.F,I.j.info("Handshake RTT: "+I.T+"ms")),O=I;var _e=h;if(O.na=rd(O,O.L?O.ba:null,O.W),_e.L){Ea(O.h,_e);var $e=_e,Bt=O.O;Bt&&($e.H=Bt),$e.D&&(Ll($e),_a($e)),O.g=_e}else bn(O);I.i.length>0&&ys(I)}else lt[0]!="stop"&&lt[0]!="close"||pr(I,7);else I.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?pr(I,7):Bl(I):lt[0]!="noop"&&I.l&&I.l.qa(lt),I.A=0)}}us(4)}catch{}}var e_=class{constructor(h,v){this.g=h,this.map=v}};function Vl(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wa(h){return h.h?1:h.g?h.g.size:0}function Hc(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ml(h,v){h.g?h.g.add(v):h.h=v}function Ea(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function cr(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const I of h.g.values())v=v.concat(I.G);return v}return C(h.i)}var ep=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(h,v){if(h){h=h.split("&");for(let I=0;I<h.length;I++){const O=h[I].indexOf("=");let X,ne=null;O>=0?(X=h[I].substring(0,O),ne=h[I].substring(O+1)):X=h[I],v(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function gi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof gi?(this.l=h.l,Ia(this,h.j),this.o=h.o,this.g=h.g,yi(this,h.u),this.h=h.h,uo(this,ed(h.i)),this.m=h.m):h&&(v=String(h).match(ep))?(this.l=!1,Ia(this,v[1]||"",!0),this.o=Ta(v[2]||""),this.g=Ta(v[3]||"",!0),yi(this,v[4]),this.h=Ta(v[5]||"",!0),uo(this,v[6]||"",!0),this.m=Ta(v[7]||"")):(this.l=!1,this.i=new Ye(null,this.l))}gi.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Sa(v,Gc,!0),":");var I=this.g;return(I||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Sa(v,Gc,!0),"@"),h.push(mi(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&h.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(Sa(I,I.charAt(0)=="/"?Ra:Qc,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",Sa(I,Yc)),h.join("")},gi.prototype.resolve=function(h){const v=xr(this);let I=!!h.j;I?Ia(v,h.j):I=!!h.o,I?v.o=h.o:I=!!h.g,I?v.g=h.g:I=h.u!=null;var O=h.h;if(I)yi(v,h.u);else if(I=!!h.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var X=v.h.lastIndexOf("/");X!=-1&&(O=v.h.slice(0,X+1)+O)}if(X=O,X==".."||X==".")O="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){O=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let _e=0;_e<X.length;){const $e=X[_e++];$e=="."?O&&_e==X.length&&ne.push(""):$e==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),O&&_e==X.length&&ne.push("")):(ne.push($e),O=!0)}O=ne.join("/")}else O=X}return I?v.h=O:I=h.i.toString()!=="",I?uo(v,ed(h.i)):I=!!h.m,I&&(v.m=h.m),v};function xr(h){return new gi(h)}function Ia(h,v,I){h.j=I?Ta(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function yi(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function uo(h,v,I){v instanceof Ye?(h.i=v,Ul(h.i,h.l)):(I||(v=Sa(v,t_)),h.i=new Ye(v,h.l))}function rt(h,v,I){h.i.set(v,I)}function fs(h){return rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ta(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Sa(h,v,I){return typeof h=="string"?(h=encodeURI(h).replace(v,Kc),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Kc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gc=/[#\/\?@]/g,Qc=/[#\?:]/g,Ra=/[#\?]/g,t_=/[#\?@]/g,Yc=/#/g;function Ye(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function _i(h){h.g||(h.g=new Map,h.h=0,h.i&&dr(h.i,function(v,I){h.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}n=Ye.prototype,n.add=function(h,v){_i(this),this.i=null,h=vi(this,h);let I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(v),this.h+=1,this};function Jc(h,v){_i(h),v=vi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Fl(h,v){return _i(h),v=vi(h,v),h.g.has(v)}n.forEach=function(h,v){_i(this),this.g.forEach(function(I,O){I.forEach(function(X){h.call(v,X,O,this)},this)},this)};function Xc(h,v){_i(h);let I=[];if(typeof v=="string")Fl(h,v)&&(I=I.concat(h.g.get(vi(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)I=I.concat(h[v]);return I}n.set=function(h,v){return _i(this),this.i=null,h=vi(this,h),Fl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=Xc(this,h),h.length>0?String(h[0]):v):v};function Zc(h,v,I){Jc(h,v),I.length>0&&(h.i=null,h.g.set(vi(h,v),C(I)),h.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let O=0;O<v.length;O++){var I=v[O];const X=mi(I);I=Xc(this,I);for(let ne=0;ne<I.length;ne++){let _e=X;I[ne]!==""&&(_e+="="+mi(I[ne])),h.push(_e)}}return this.i=h.join("&")};function ed(h){const v=new Ye;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function vi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ul(h,v){v&&!h.j&&(_i(h),h.i=null,h.g.forEach(function(I,O){const X=O.toLowerCase();O!=X&&(Jc(this,O),Zc(this,X,I))},h)),h.j=v}function wi(h,v){const I=new oo;if(l.Image){const O=new Image;O.onload=m(_n,I,"TestLoadImage: loaded",!0,v,O),O.onerror=m(_n,I,"TestLoadImage: error",!1,v,O),O.onabort=m(_n,I,"TestLoadImage: abort",!1,v,O),O.ontimeout=m(_n,I,"TestLoadImage: timeout",!1,v,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=h}else v(!1)}function Ei(h,v){const I=new oo,O=new AbortController,X=setTimeout(()=>{O.abort(),_n(I,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:O.signal}).then(ne=>{clearTimeout(X),ne.ok?_n(I,"TestPingServer: ok",!0,v):_n(I,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),_n(I,"TestPingServer: error",!1,v)})}function _n(h,v,I,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(I)}catch{}}function Aa(){this.g=new ga}function ps(h){this.i=h.Sb||null,this.h=h.ab||!1}y(ps,no),ps.prototype.g=function(){return new hr(this.i,this.h)};function hr(h,v){Dt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(hr,Dt),n=hr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Gr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tp(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function tp(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?co(this):Gr(this),this.readyState==3&&tp(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,co(this))},n.Na=function(h){this.g&&(this.response=h,co(this))},n.ga=function(){this.g&&co(this)};function co(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Gr(h)}n.setRequestHeader=function(h,v){this.A.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var I=v.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=v.next();return h.join(`\r
`)};function Gr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function np(h){let v="";return fe(h,function(I,O){v+=O,v+=":",v+=I,v+=`\r
`}),v}function $l(h,v,I){e:{for(O in I){var O=!1;break e}O=!0}O||(I=np(I),typeof h=="string"?I!=null&&mi(I):rt(h,v,I))}function mt(h){Dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(mt,Dt);var rp=/^https?$/i,n_=["POST","PUT"];n=mt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,v,I,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gf.g(),this.g.onreadystatechange=E(f(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){ho(this,ne);return}if(h=I||"",I=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)I.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ne of O.keys())I.set(ne,O.get(ne));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(n_,v,void 0)>=0)||O||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of I)this.g.setRequestHeader(ne,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){ho(this,ne)}};function ho(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,fo(h),gs(h)}function fo(h){h.A||(h.A=!0,Tt(h,"complete"),Tt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Tt(this,"complete"),Tt(this,"abort"),gs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),mt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},n.Xa=function(){ms(this)};function ms(h){if(h.h&&typeof s<"u"){if(h.v&&Ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(Tt(h,"readystatechange"),Ii(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var O;if(O=ne===0){let _e=String(h.D).match(ep)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),O=!rp.test(_e?_e.toLowerCase():"")}I=O}if(I)Tt(h,"complete"),Tt(h,"success");else{h.o=6;try{var X=Ii(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",fo(h)}}finally{gs(h)}}}}function gs(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const I=h.g;h.g=null,v||Tt(h,"ready");try{I.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ii(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),to(v)}};function ip(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function td(h){const v={};h=(h.g&&Ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<h.length;O++){if(S(h[O]))continue;var I=Dl(h[O]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=v[X]||[];v[X]=ne,ne.push(I)}le(v,function(O){return O.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(h,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||v}function jl(h){this.za=0,this.i=[],this.j=new oo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,h),this.Za=Ti("retryDelaySeedMs",1e4,h),this.Ta=Ti("forwardChannelMaxRetries",2,h),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Ba=new Aa,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=jl.prototype,n.ka=8,n.I=1,n.connect=function(h,v,I,O){Lt(0),this.W=h,this.H=v||{},I&&O!==void 0&&(this.H.OSID=I,this.H.OAID=O),this.F=this.X,this.J=rd(this,null,this.W),ys(this)};function Bl(h){if(zl(h),h.I==3){var v=h.V++,I=xr(h.J);if(rt(I,"SID",h.M),rt(I,"RID",v),rt(I,"TYPE","terminate"),Si(h,I),v=new kr(h,h.j,v),v.M=2,v.A=fs(xr(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!I&&l.Image&&(new Image().src=v.A,I=!0),I||(v.g=op(v.j,null),v.g.ea(v.A)),v.F=Date.now(),_a(v)}ba(h)}function fr(h){h.g&&(Ca(h),h.g.cancel(),h.g=null)}function zl(h){fr(h),h.v&&(l.clearTimeout(h.v),h.v=null),Wl(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function ys(h){if(!qc(h.h)&&!h.m){h.m=!0;var v=h.Ea;q||A(),U||(q(),U=!0),N.add(v,h),h.D=0}}function sp(h,v){return wa(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=so(f(h.Ea,h,v),Hl(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new kr(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=z(ne),Pe(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var v=0,I=0;I<this.i.length;I++){t:{var O=this.i[I];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,v>4096){v=I;break e}if(v===4096||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=nd(this,X,v),I=xr(this.J),rt(I,"RID",h),rt(I,"CVER",22),this.G&&rt(I,"X-HTTP-Session-Id",this.G),Si(this,I),ne&&(this.R?v="headers="+mi(np(ne))+"&"+v:this.u&&$l(I,this.u,ne)),Ml(this.h,X),this.Ra&&rt(I,"TYPE","init"),this.S?(rt(I,"$req",v),rt(I,"SID","null"),X.U=!0,Kr(X,I,null)):Kr(X,I,v),this.I=2}}else this.I==3&&(h?Pa(this,h):this.i.length==0||qc(this.h)||Pa(this))};function Pa(h,v){var I;v?I=v.l:I=h.V++;const O=xr(h.J);rt(O,"SID",h.M),rt(O,"RID",I),rt(O,"AID",h.K),Si(h,O),h.u&&h.o&&$l(O,h.u,h.o),I=new kr(h,h.j,I,h.D+1),h.u===null&&(I.J=h.o),v&&(h.i=v.G.concat(h.i)),v=nd(h,I,1e3),I.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ml(h.h,I),Kr(I,O,v)}function Si(h,v){h.H&&fe(h.H,function(I,O){rt(v,O,I)}),h.l&&fe({},function(I,O){rt(v,O,I)})}function nd(h,v,I){I=Math.min(h.i.length,I);const O=h.l?f(h.l.Ka,h.l,h):null;e:{var X=h.i;let $e=-1;for(;;){const Bt=["count="+I];$e==-1?I>0?($e=X[0].g,Bt.push("ofs="+$e)):$e=0:Bt.push("ofs="+$e);let lt=!0;for(let Gt=0;Gt<I;Gt++){var ne=X[Gt].g;const mr=X[Gt].map;if(ne-=$e,ne<0)$e=Math.max(0,X[Gt].g-100),lt=!1;else try{ne="req"+ne+"_"||"";try{var _e=mr instanceof Map?mr:Object.entries(mr);for(const[_s,Ai]of _e){let Pi=Ai;u(Ai)&&(Pi=Cn(Ai)),Bt.push(ne+_s+"="+encodeURIComponent(Pi))}}catch(_s){throw Bt.push(ne+"type="+encodeURIComponent("_badmap")),_s}}catch{O&&O(mr)}}if(lt){_e=Bt.join("&");break e}}_e=void 0}return h=h.i.splice(0,I),v.G=h,_e}function bn(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;q||A(),U||(q(),U=!0),N.add(v,h),h.A=0}}function Ri(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=so(f(h.Da,h),Hl(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=so(f(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),fr(this),po(this))};function Ca(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function po(h){h.g=new kr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xr(h.na);rt(v,"RID","rpc"),rt(v,"SID",h.M),rt(v,"AID",h.K),rt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&rt(v,"TO",h.ia),rt(v,"TYPE","xmlhttp"),Si(h,v),h.u&&h.o&&$l(v,h.u,h.o),h.O&&(h.g.H=h.O);var I=h.g;h=h.ba,I.M=1,I.A=fs(xr(v)),I.u=null,I.R=!0,zc(I,h)}n.Va=function(){this.C!=null&&(this.C=null,fr(this),Ri(this),Lt(19))};function Wl(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function ql(h,v){var I=null;if(h.g==v){Wl(h),Ca(h),h.g=null;var O=2}else if(Hc(h.h,v))I=v.G,Ea(h.h,v),O=1;else return;if(h.I!=0){if(v.o)if(O==1){I=v.u?v.u.length:0,v=Date.now()-v.F;var X=h.D;O=io(),Tt(O,new jc(O,I)),ys(h)}else bn(h);else if(X=v.m,X==3||X==0&&v.X>0||!(O==1&&sp(h,v)||O==2&&Ri(h)))switch(I&&I.length>0&&(v=h.h,v.i=v.i.concat(I)),X){case 1:pr(h,5);break;case 4:pr(h,10);break;case 3:pr(h,6);break;default:pr(h,2)}}}function Hl(h,v){let I=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(I*=2),I*v}function pr(h,v){if(h.j.info("Error code "+v),v==2){var I=f(h.bb,h),O=h.Ua;const X=!O;O=new gi(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ia(O,"https"),fs(O),X?wi(O.toString(),I):Ei(O.toString(),I)}else Lt(2);h.I=0,h.l&&h.l.pa(v),ba(h),zl(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function ba(h){if(h.I=0,h.ja=[],h.l){const v=cr(h.h);(v.length!=0||h.i.length!=0)&&(T(h.ja,v),T(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function rd(h,v,I){var O=I instanceof gi?xr(I):new gi(I);if(O.g!="")v&&(O.g=v+"."+O.g),yi(O,O.u);else{var X=l.location;O=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;const ne=new gi(null);O&&Ia(ne,O),v&&(ne.g=v),X&&yi(ne,X),I&&(ne.h=I),O=ne}return I=h.G,v=h.wa,I&&v&&rt(O,I,v),rt(O,"VER",h.ka),Si(h,O),O}function op(h,v,I){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new mt(new ps({ab:I})):new mt(h.ma),v.Fa(h.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ap(){}n=ap.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Kl(){}Kl.prototype.g=function(h,v){return new vn(h,v)};function vn(h,v){Dt.call(this),this.g=new jl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!S(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!S(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new mo(this)}y(vn,Dt),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Bl(this.g)},vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.v&&(I={},I.__data__=Cn(h),h=I);v.i.push(new e_(v.Ya++,h)),v.I==3&&ys(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,vn.Z.N.call(this)};function lp(h){xl.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const I in v){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}y(lp,xl);function up(){$c.call(this),this.status=1}y(up,$c);function mo(h){this.g=h}y(mo,ap),mo.prototype.ra=function(){Tt(this.g,"a")},mo.prototype.qa=function(h){Tt(this.g,new lp(h))},mo.prototype.pa=function(h){Tt(this.g,new up)},mo.prototype.oa=function(){Tt(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,Q1=function(){return new Kl},G1=function(){return io()},K1=Hr,bw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,Cm=ao,lo.COMPLETE="complete",H1=lo,Wf.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,th=Wf,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,q1=mt}).apply(typeof sm<"u"?sm:typeof self<"u"?self:typeof window<"u"?window:{});const XR="@firebase/firestore",ZR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new of("@firebase/firestore");function xu(){return Qo.logLevel}function I$(n){Qo.setLogLevel(n)}function de(n,...e){if(Qo.logLevel<=ze.DEBUG){const t=e.map(rI);Qo.debug(`Firestore (${Rc}): ${n}`,...t)}}function Wt(n,...e){if(Qo.logLevel<=ze.ERROR){const t=e.map(rI);Qo.error(`Firestore (${Rc}): ${n}`,...t)}}function es(n,...e){if(Qo.logLevel<=ze.WARN){const t=e.map(rI);Qo.warn(`Firestore (${Rc}): ${n}`,...t)}}function rI(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Y1(n,r,t)}function Y1(n,e,t){let r=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wt(r),new Error(r)}function Re(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Y1(e,i,r)}function T$(n,e){n||Ee(57014,e)}function we(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends fn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class R${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class A${constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new J1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class P${constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C${constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new P$(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b${constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Je(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0,3512);const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,de("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Re(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eA(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=k$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function kw(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return Fv(i)===Fv(s)?Ue(i,s):Fv(i)?1:-1}return Ue(n.length,e.length)}const x$=55296,O$=57343;function Fv(n){const e=n.charCodeAt(0);return e>=x$&&e<=O$}function Yu(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}function X1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__name__";class Di{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Di.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Di.isNumericId(e),i=Di.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Di.extractNumericId(e).compare(Di.extractNumericId(t)):kw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bo.fromString(e.substring(4,e.length-2))}}class Ke extends Di{construct(e,t,r){return new Ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Ke(t)}static emptyPath(){return new Ke([])}}const N$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Di{construct(e,t,r){return new Pt(e,t,r)}static isValidIdentifier(e){return N$.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tA}static keyField(){return new Pt([tA])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ue(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ue(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ue(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ke.fromString(e))}static fromName(e){return new ve(Ke.fromString(e).popFirst(5))}static empty(){return new ve(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n,e,t){if(!t)throw new ue(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z1(n,e,t,r){if(e===!0&&r===!0)throw new ue(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nA(n){if(!ve.isDocumentKey(n))throw new ue(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rA(n){if(ve.isDocumentKey(n))throw new ue(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ek(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Jg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jg(n);throw new ue(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tk(n,e){if(e<=0)throw new ue(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(n,e){const t={typeString:n};return e&&(t.value=e),t}function df(n,e){if(!ek(n))throw new ue(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new ue(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=-62135596800,sA=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sA);return new ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<iA)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sA}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(df(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:en("string",ot._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ot(0,0))}static max(){return new be(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;class ug{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function xw(n){return n.fields.find((e=>e.kind===2))}function Ha(n){return n.fields.filter((e=>e.kind!==2))}ug.UNKNOWN_ID=-1;class bm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Oh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Oh(0,Pr.min())}}function nk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new ot(t+1,0):new ot(t,r));return new Pr(i,ve.empty(),e)}function rk(n){return new Pr(n.readTime,n.key,Ju)}class Pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pr(be.min(),ve.empty(),Ju)}static max(){return new Pr(be.max(),ve.empty(),Ju)}}function oI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==ik)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,r)=>{t(e)}))}static reject(e){return new Y(((t,r)=>{r(e)}))}static waitFor(e){return new Y(((t,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&t()}),(d=>r(d)))})),l=!0,s===i&&t()}))}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next((i=>i?Y.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new Y(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const f=d;t(e[f]).next((m=>{l[f]=m,++u,u===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,t){return new Y(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="SimpleDb";class Xg{static open(e,t,r,i){try{return new Xg(t,e.transaction(i,r))}catch(s){throw new dh(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Rn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new dh(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=aI(r.target.error);this.S.reject(new dh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(de(wr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new L$(t)}}class Gi{static delete(e){return de(wr,"Removing database:",e),Ga(ME().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Ch())return!1;if(Gi.F())return!0;const e=Qe(),t=Gi.M(e),r=0<t&&t<10,i=ok(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Gi.M(Qe())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(de(wr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new dh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ue(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ue(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new dh(e,l))},i.onupgradeneeded=s=>{de(wr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.N.k(l,i.transaction,s.oldVersion,this.version).next((()=>{de(wr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=Xg.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next((f=>(u.C(),f))).catch((f=>(u.abort(f),Y.reject(f)))).toPromise();return d.catch((()=>{})),await u.D,d}catch(u){const d=u,f=d.name!=="FirebaseError"&&l<3;if(de(wr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ok(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class D${constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ga(this.U.delete())}}class dh extends ue{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ca(n){return n.name==="IndexedDbTransactionError"}class L${constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(de(wr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(de(wr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ga(r)}add(e){return de(wr,"ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next((t=>(t===void 0&&(t=null),de(wr,"GET",this.store.name,e,t),t)))}delete(e){return de(wr,"DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return de(wr,"COUNT",this.store.name),Ga(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Y(((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}}))}{const s=this.cursor(r),l=[];return this.H(s,((u,d)=>{l.push(d)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Y(((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,t){de(wr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,((s,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new Y(((r,i)=>{t.onerror=s=>{const l=aI(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Y(((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new D$(u),f=t(u.primaryKey,u.value,d);if(f instanceof Y){const m=f.catch((y=>(d.done(),Y.reject(y))));r.push(m)}d.isDone?i():d.G===null?u.continue():u.continue(d.G)}})).next((()=>Y.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ga(n){return new Y(((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=aI(r.target.error);t(i)}}))}let oA=!1;function aI(n){const e=Gi.M(Qe());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oA||(oA=!0,setTimeout((()=>{throw r}),0)),r}}return n}const hh="IndexBackfiller";class V${constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){de(hh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();de(hh,`Documents written: ${t}`)}catch(t){ca(t)?de(hh,"Ignoring IndexedDB error during index backfill: ",t):await ua(t)}await this.re(6e4)}))}}class M${constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let i=t,s=!0;return Y.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return de(hh,`Processing collection: ${l}`),this.oe(e,l,i).next((u=>{i-=u,r.add(l)}));s=!1})))).next((()=>t-i))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next((s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,s))).next((u=>(de(hh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((i,s)=>{const l=rk(s);oI(l,r)>0&&(r=l)})),new Pr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=-1;function hf(n){return n==null}function Nh(n){return n===0&&1/n==-1/0}function ak(n){return typeof n=="number"&&Number.isInteger(n)&&!Nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="";function Un(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aA(e)),e=F$(n.get(t),e);return aA(e)}function F$(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case cg:t+="";break;default:t+=s}}return t}function aA(n){return n+cg+""}function zi(n){const e=n.length;if(Re(e>=2,64408,{path:n}),e===2)return Re(n.charAt(0)===cg&&n.charAt(1)==="",56145,{path:n}),Ke.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(cg,s);switch((l<0||l>t)&&Ee(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ee(61167,{path:n})}s=l+2}return new Ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="remoteDocuments",ff="owner",mu="owner",Dh="mutationQueues",U$="userId",ni="mutations",lA="batchId",Za="userMutationsIndex",uA=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n,e){return[n,Un(e)]}function lk(n,e,t){return[n,Un(e),t]}const $$={},Xu="documentMutations",dg="remoteDocumentsV14",j$=["prefixPath","collectionGroup","readTime","documentId"],xm="documentKeyIndex",B$=["prefixPath","collectionGroup","documentId"],uk="collectionGroupIndex",z$=["collectionGroup","readTime","prefixPath","documentId"],Lh="remoteDocumentGlobal",Ow="remoteDocumentGlobalKey",Zu="targets",ck="queryTargetsIndex",W$=["canonicalId","targetId"],ec="targetDocuments",q$=["targetId","path"],lI="documentTargetsIndex",H$=["path","targetId"],hg="targetGlobalKey",sl="targetGlobal",Vh="collectionParents",K$=["collectionId","parent"],tc="clientMetadata",G$="clientId",Zg="bundles",Q$="bundleId",ey="namedQueries",Y$="name",uI="indexConfiguration",J$="indexId",Nw="collectionGroupIndex",X$="collectionGroup",fh="indexState",Z$=["indexId","uid"],dk="sequenceNumberIndex",e5=["uid","sequenceNumber"],ph="indexEntries",t5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hk="documentKeyIndex",n5=["indexId","uid","orderedDocumentKey"],ty="documentOverlays",r5=["userId","collectionPath","documentId"],Dw="collectionPathOverlayIndex",i5=["userId","collectionPath","largestBatchId"],fk="collectionGroupOverlayIndex",s5=["userId","collectionGroup","largestBatchId"],cI="globals",o5="name",pk=[Dh,ni,Xu,Ka,Zu,ff,sl,ec,tc,Lh,Vh,Zg,ey],a5=[...pk,ty],mk=[Dh,ni,Xu,dg,Zu,ff,sl,ec,tc,Lh,Vh,Zg,ey,ty],gk=mk,dI=[...gk,uI,fh,ph],l5=dI,yk=[...dI,cI],u5=yk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends sk{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function an(n,e){const t=we(n);return Gi.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _k(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=s??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new In(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dA(this.data.getIterator())}getIteratorFrom(e){return new dA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ht(this.comparator);return t.data=e,t}}class dA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new ir([])}unionWith(e){let t=new ht(Pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vk("Invalid base64 string: "+s):s}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const d5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(Re(!!n,39018),typeof n=="string"){let e=0;const t=d5.exec(n);if(Re(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="server_timestamp",Ek="__type__",Ik="__previous_value__",Tk="__local_write_time__";function ny(n){return(n?.mapValue?.fields||{})[Ek]?.stringValue===wk}function ry(n){const e=n.mapValue.fields[Ik];return ny(e)?ry(e):e}function Mh(n){const e=Bs(n.mapValue.fields[Tk].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,t,r,i,s,l,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Vw="(default)";class Yo{constructor(e,t){this.projectId=e,this.database=t||Vw}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===Vw}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__type__",Sk="__max__",Fo={mapValue:{fields:{__type__:{stringValue:Sk}}}},fI="__vector__",nc="value",Om={nullValue:"NULL_VALUE"};function Jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:Rk(n)?9007199254740991:iy(n)?10:11:Ee(28295,{value:n})}function ts(n,e){if(n===e)return!0;const t=Jo(n);if(t!==Jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mh(n).isEqual(Mh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Bs(i.timestampValue),u=Bs(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return zs(i.bytesValue).isEqual(zs(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return At(i.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return At(i.integerValue)===At(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=At(i.doubleValue),u=At(s.doubleValue);return l===u?Nh(l)===Nh(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Yu(n.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(cA(l)!==cA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ts(l[d],u[d])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function Fh(n,e){return(n.values||[]).find((t=>ts(t,e)))!==void 0}function Xo(n,e){if(n===e)return 0;const t=Jo(n),r=Jo(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=At(s.integerValue||s.doubleValue),d=At(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,e);case 3:return hA(n.timestampValue,e.timestampValue);case 4:return hA(Mh(n),Mh(e));case 5:return kw(n.stringValue,e.stringValue);case 6:return(function(s,l){const u=zs(s),d=zs(l);return u.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=Ue(u[f],d[f]);if(m!==0)return m}return Ue(u.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=Ue(At(s.latitude),At(l.latitude));return u!==0?u:Ue(At(s.longitude),At(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return fA(n.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},f=u[nc]?.arrayValue,m=d[nc]?.arrayValue,y=Ue(f?.values?.length||0,m?.values?.length||0);return y!==0?y:fA(f,m)})(n.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Fo.mapValue&&l===Fo.mapValue)return 0;if(s===Fo.mapValue)return 1;if(l===Fo.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const E=kw(d[y],m[y]);if(E!==0)return E;const C=Xo(u[d[y]],f[m[y]]);if(C!==0)return C}return Ue(d.length,m.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function hA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Bs(n),r=Bs(e),i=Ue(t.seconds,r.seconds);return i!==0?i:Ue(t.nanos,r.nanos)}function fA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Xo(t[i],r[i]);if(s)return s}return Ue(t.length,r.length)}function rc(n){return Mw(n)}function Mw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Bs(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Mw(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Mw(t.fields[l])}`;return i+"}"})(n.mapValue):Ee(61005,{value:n})}function Nm(n){switch(Jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ry(n);return e?16+Nm(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Nm(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return da(r.fields,((s,l)=>{i+=s.length+Nm(l)})),i})(n.mapValue);default:throw Ee(13486,{value:n})}}function cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fw(n){return!!n&&"integerValue"in n}function Uh(n){return!!n&&"arrayValue"in n}function pA(n){return!!n&&"nullValue"in n}function mA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dm(n){return!!n&&"mapValue"in n}function iy(n){return(n?.mapValue?.fields||{})[hI]?.stringValue===fI}function mh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return da(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=mh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mh(n.arrayValue.values[t]);return e}return{...n}}function Rk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Sk}const Ak={mapValue:{fields:{[hI]:{stringValue:fI},[nc]:{arrayValue:{}}}}};function f5(n){return"nullValue"in n?Om:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cl(Yo.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?iy(n)?Ak:{mapValue:{}}:Ee(35942,{value:n})}function p5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cl(Yo.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?Ak:"mapValue"in n?iy(n)?{mapValue:{}}:Fo:Ee(61959,{value:n})}function gA(n,e){const t=Xo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function yA(n,e){const t=Xo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(t)}setAll(e){let t=Pt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=mh(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Dm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){da(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Sn(mh(this.value))}}function Pk(n){const e=[];return da(n.fields,((t,r)=>{const i=new Pt([t]);if(Dm(r)){const s=Pk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new It(e,0,be.min(),be.min(),be.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,i){return new It(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new It(e,2,t,be.min(),be.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,be.min(),be.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){this.position=e,this.inclusive=t}}function _A(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Xo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ts(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t="asc"){this.field=e,this.dir=t}}function m5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{}class Ge extends Ck{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new g5(e,t,r):t==="array-contains"?new v5(e,r):t==="in"?new Dk(e,r):t==="not-in"?new w5(e,r):t==="array-contains-any"?new E5(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new y5(e,r):new _5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xo(t,this.value)):t!==null&&Jo(this.value)===Jo(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dt extends Ck{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dt(e,t)}matches(e){return ic(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ic(n){return n.op==="and"}function Uw(n){return n.op==="or"}function pI(n){return bk(n)&&ic(n)}function bk(n){for(const e of n.filters)if(e instanceof dt)return!1;return!0}function $w(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+rc(n.value);if(pI(n))return n.filters.map((e=>$w(e))).join(",");{const e=n.filters.map((t=>$w(t))).join(",");return`${n.op}(${e})`}}function kk(n,e){return n instanceof Ge?(function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&ts(r.value,i.value)})(n,e):n instanceof dt?(function(r,i){return i instanceof dt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&kk(l,i.filters[u])),!0):!1})(n,e):void Ee(19439)}function xk(n,e){const t=n.filters.concat(e);return dt.create(t,n.op)}function Ok(n){return n instanceof Ge?(function(t){return`${t.field.canonicalString()} ${t.op} ${rc(t.value)}`})(n):n instanceof dt?(function(t){return t.op.toString()+" {"+t.getFilters().map(Ok).join(" ,")+"}"})(n):"Filter"}class g5 extends Ge{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class y5 extends Ge{constructor(e,t){super(e,"in",t),this.keys=Nk("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _5 extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=Nk("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Nk(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class v5 extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uh(t)&&Fh(t.arrayValue,this.value)}}class Dk extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fh(this.value.arrayValue,t)}}class w5 extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fh(this.value.arrayValue,t)}}class E5 extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Fh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function jw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new I5(n,e,t,r,i,s,l)}function dl(n){const e=we(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>$w(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>rc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>rc(r))).join(",")),e.Te=t}return e.Te}function pf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!m5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vA(n.startAt,e.startAt)&&vA(n.endAt,e.endAt)}function fg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function pg(n,e){return n.filters.filter((t=>t instanceof Ge&&t.field.isEqual(e)))}function wA(n,e,t){let r=Om,i=!0;for(const s of pg(n,e)){let l=Om,u=!0;switch(s.op){case"<":case"<=":l=f5(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=Om}gA({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];gA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function EA(n,e,t){let r=Fo,i=!0;for(const s of pg(n,e)){let l=Fo,u=!0;switch(s.op){case">=":case">":l=p5(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=Fo}yA({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];yA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Lk(n,e,t,r,i,s,l,u){return new Gs(n,e,t,r,i,s,l,u)}function Ac(n){return new Gs(n)}function IA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mI(n){return n.collectionGroup!==null}function $u(n){const e=we(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ht(Pt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new $h(s,r))})),t.has(Pt.keyField().canonicalString())||e.Ie.push(new $h(Pt.keyField(),r))}return e.Ie}function Gn(n){const e=we(n);return e.Ee||(e.Ee=T5(e,$u(n))),e.Ee}function T5(n,e){if(n.limitType==="F")return jw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new $h(i.field,s)}));const t=n.endAt?new Zo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zo(n.startAt.position,n.startAt.inclusive):null;return jw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bw(n,e){const t=n.filters.concat([e]);return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mg(n,e,t){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mf(n,e){return pf(Gn(n),Gn(e))&&n.limitType===e.limitType}function Vk(n){return`${dl(Gn(n))}|lt:${n.limitType}`}function Ou(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>Ok(i))).join(", ")}]`),hf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>rc(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>rc(i))).join(",")),`Target(${r})`})(Gn(n))}; limitType=${n.limitType})`}function gf(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of $u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const f=_A(l,u,d);return l.inclusive?f<=0:f<0})(r.startAt,$u(r),i)||r.endAt&&!(function(l,u,d){const f=_A(l,u,d);return l.inclusive?f>=0:f>0})(r.endAt,$u(r),i))})(n,e)}function Mk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fk(n){return(e,t)=>{let r=!1;for(const i of $u(n)){const s=S5(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S5(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(s,l,u){const d=l.data.field(s),f=u.data.field(s);return d!==null&&f!==null?Xo(d,f):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return _k(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new _t(ve.comparator);function sr(){return R5}const Uk=new _t(ve.comparator);function nh(...n){let e=Uk;for(const t of n)e=e.insert(t.key,t);return e}function $k(n){let e=Uk;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Wi(){return gh()}function jk(){return gh()}function gh(){return new Qs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const A5=new _t(ve.comparator),P5=new ht(ve.comparator);function Be(...n){let e=P5;for(const t of n)e=e.add(t);return e}const C5=new ht(Ue);function gI(){return C5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function Bk(n){return{integerValue:""+n}}function zk(n,e){return ak(e)?Bk(e):yI(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this._=void 0}}function b5(n,e,t){return n instanceof sc?(function(i,s){const l={fields:{[Ek]:{stringValue:wk},[Tk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ny(s)&&(s=ry(s)),s&&(l.fields[Ik]=s),{mapValue:l}})(t,e):n instanceof hl?qk(n,e):n instanceof fl?Hk(n,e):(function(i,s){const l=Wk(i,s),u=TA(l)+TA(i.Ae);return Fw(l)&&Fw(i.Ae)?Bk(u):yI(i.serializer,u)})(n,e)}function k5(n,e,t){return n instanceof hl?qk(n,e):n instanceof fl?Hk(n,e):t}function Wk(n,e){return n instanceof oc?(function(r){return Fw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class sc extends sy{}class hl extends sy{constructor(e){super(),this.elements=e}}function qk(n,e){const t=Kk(e);for(const r of n.elements)t.some((i=>ts(i,r)))||t.push(r);return{arrayValue:{values:t}}}class fl extends sy{constructor(e){super(),this.elements=e}}function Hk(n,e){let t=Kk(e);for(const r of n.elements)t=t.filter((i=>!ts(i,r)));return{arrayValue:{values:t}}}class oc extends sy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function TA(n){return At(n.integerValue||n.doubleValue)}function Kk(n){return Uh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.field=e,this.transform=t}}function x5(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof hl&&i instanceof hl||r instanceof fl&&i instanceof fl?Yu(r.elements,i.elements,ts):r instanceof oc&&i instanceof oc?ts(r.Ae,i.Ae):r instanceof sc&&i instanceof sc})(n.transform,e.transform)}class O5{constructor(e,t){this.version=e,this.transformResults=t}}class Ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class oy{}function Gk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cc(n.key,Ct.none()):new Pc(n.key,n.data,Ct.none());{const t=n.data,r=Sn.empty();let i=new ht(Pt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Ys(n.key,r,new ir(i.toArray()),Ct.none())}}function N5(n,e,t){n instanceof Pc?(function(i,s,l){const u=i.value.clone(),d=RA(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Ys?(function(i,s,l){if(!Lm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=RA(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(Qk(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function yh(n,e,t,r){return n instanceof Pc?(function(s,l,u,d){if(!Lm(s.precondition,l))return u;const f=s.value.clone(),m=AA(s.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ys?(function(s,l,u,d){if(!Lm(s.precondition,l))return u;const f=AA(s.fieldTransforms,d,l),m=l.data;return m.setAll(Qk(s)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(s,l,u){return Lm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function D5(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Wk(r.transform,i||null);s!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,s))}return t||null}function SA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yu(r,i,((s,l)=>x5(s,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pc extends oy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ys extends oy{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qk(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function RA(n,e,t){const r=new Map;Re(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,k5(l,u,t[i]))}return r}function AA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,b5(s,l,e))}return r}class Cc extends oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&N5(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jk();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=Gk(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,((t,r)=>SA(t,r)))&&Yu(this.baseMutations,e.baseMutations,((t,r)=>SA(t,r)))}}class wI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return A5})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new wI(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Xe;function Yk(n){switch(n){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function Jk(n){if(n===void 0)return Wt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Jt.OK:return te.OK;case Jt.CANCELLED:return te.CANCELLED;case Jt.UNKNOWN:return te.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return te.INTERNAL;case Jt.UNAVAILABLE:return te.UNAVAILABLE;case Jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Jt.NOT_FOUND:return te.NOT_FOUND;case Jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Jt.ABORTED:return te.ABORTED;case Jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Jt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:n})}}(Xe=Jt||(Jt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new Bo([4294967295,4294967295],0);function PA(n){const e=Xk().encode(n),t=new W1;return t.update(e),new Uint8Array(t.digest())}function CA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bo([t,r],0),new Bo([i,s],0)]}class II{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rh(`Invalid padding: ${t}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new rh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Bo.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Bo.fromNumber(r)));return i.compare(V5)===1&&(i=new Bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=PA(e),[r,i]=CA(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new II(s,i,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=PA(e),[r,i]=CA(t);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _f(be.min(),i,new _t(Ue),sr(),Be())}}class vf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vf(r,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class Zk{constructor(e,t){this.targetId=e,this.Ce=t}}class ex{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class bA{constructor(){this.ve=0,this.Fe=kA(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),r=Be();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:s})}})),new vf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=kA()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M5{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=am(),this.He=am(),this.Ye=new _t(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(fg(s))if(r===0){const l=new ve(s.path);this.et(t,l,It.newNoDocument(l,be.min()))}else Re(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=zs(r).toUint8Array()}catch(d){if(d instanceof vk)return es("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new II(l,i,s)}catch(d){return es(d instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&fg(u.target)){const d=new ve(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,It.newNoDocument(d,e))}s.Be&&(t.set(l,s.ke()),s.qe())}}));let r=Be();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new _f(e,t,this.Ye,this.je,r);return this.je=sr(),this.Je=am(),this.He=am(),this.Ye=new _t(Ue),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new bA,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ht(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ht(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function am(){return new _t(ve.comparator)}function kA(){return new _t(ve.comparator)}const F5={asc:"ASCENDING",desc:"DESCENDING"},U5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$5={and:"AND",or:"OR"};class j5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zw(n,e){return n.useProto3Json||hf(e)?e:{value:e}}function ac(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B5(n,e){return ac(n,e.toTimestamp())}function qt(n){return Re(!!n,49232),be.fromTimestamp((function(t){const r=Bs(t);return new ot(r.seconds,r.nanos)})(n))}function TI(n,e){return Ww(n,e).canonicalString()}function Ww(n,e){const t=(function(i){return new Ke(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function nx(n){const e=Ke.fromString(n);return Re(hx(e),10190,{key:e.toString()}),e}function jh(n,e){return TI(n.databaseId,e.path)}function Qi(n,e){const t=nx(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(sx(t))}function rx(n,e){return TI(n.databaseId,e)}function ix(n){const e=nx(n);return e.length===4?Ke.emptyPath():sx(e)}function qw(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sx(n){return Re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xA(n,e,t){return{name:jh(n,e),fields:t.value.mapValue.fields}}function ox(n,e,t){const r=Qi(n,e.name),i=qt(e.updateTime),s=e.createTime?qt(e.createTime):be.min(),l=new Sn({mapValue:{fields:e.fields}}),u=It.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function z5(n,e){return"found"in e?(function(r,i){Re(!!i.found,43571),i.found.name,i.found.updateTime;const s=Qi(r,i.found.name),l=qt(i.found.updateTime),u=i.found.createTime?qt(i.found.createTime):be.min(),d=new Sn({mapValue:{fields:i.found.fields}});return It.newFoundDocument(s,l,u,d)})(n,e):"missing"in e?(function(r,i){Re(!!i.missing,3894),Re(!!i.readTime,22933);const s=Qi(r,i.missing),l=qt(i.readTime);return It.newNoDocument(s,l)})(n,e):Ee(7234,{result:e})}function W5(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(Re(m===void 0||typeof m=="string",58123),Ut.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ut.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(f){const m=f.code===void 0?te.UNKNOWN:Jk(f.code);return new ue(m,f.message||"")})(l);t=new ex(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qi(n,r.document.name),s=qt(r.document.updateTime),l=r.document.createTime?qt(r.document.createTime):be.min(),u=new Sn({mapValue:{fields:r.document.fields}}),d=It.newFoundDocument(i,s,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Vm(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qi(n,r.document),s=r.readTime?qt(r.readTime):be.min(),l=It.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Vm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qi(n,r.document),s=r.removedTargetIds||[];t=new Vm([],s,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new L5(i,s),u=r.targetId;t=new Zk(u,l)}}return t}function Bh(n,e){let t;if(e instanceof Pc)t={update:xA(n,e.key,e.value)};else if(e instanceof Cc)t={delete:jh(n,e.key)};else if(e instanceof Ys)t={update:xA(n,e.key,e.data),updateMask:Y5(e.fieldMask)};else{if(!(e instanceof _I))return Ee(16599,{Vt:e.type});t={verify:jh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof sc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof fl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof oc)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ee(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:B5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee(27497)})(n,e.precondition)),t}function Hw(n,e){const t=e.currentDocument?(function(s){return s.updateTime!==void 0?Ct.updateTime(qt(s.updateTime)):s.exists!==void 0?Ct.exists(s.exists):Ct.none()})(e.currentDocument):Ct.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),d=new sc;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new hl(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new fl(m)}else"increment"in u?d=new oc(l,u.increment):Ee(16584,{proto:u});const f=Pt.fromServerFormat(u.fieldPath);return new yf(f,d)})(n,i))):[];if(e.update){e.update.name;const i=Qi(n,e.update.name),s=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new ir(f.map((m=>Pt.fromServerFormat(m))))})(e.updateMask);return new Ys(i,s,l,t,r)}return new Pc(i,s,t,r)}if(e.delete){const i=Qi(n,e.delete);return new Cc(i,t)}if(e.verify){const i=Qi(n,e.verify);return new _I(i,t)}return Ee(1463,{proto:e})}function q5(n,e){return n&&n.length>0?(Re(e!==void 0,14353),n.map((t=>(function(i,s){let l=i.updateTime?qt(i.updateTime):qt(s);return l.isEqual(be.min())&&(l=qt(s)),new O5(l,i.transformResults||[])})(t,e)))):[]}function ax(n,e){return{documents:[rx(n,e.path)]}}function lx(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rx(n,i);const s=(function(f){if(f.length!==0)return dx(dt.create(f,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const l=(function(f){if(f.length!==0)return f.map((m=>(function(E){return{field:Nu(E.field),direction:K5(E.dir)}})(m)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=zw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:i}}function ux(n){let e=ix(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=(function(y){const E=cx(y);return E instanceof dt&&pI(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((E=>(function(T){return new $h(Du(T.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(y){let E;return E=typeof y=="object"?y.value:y,hf(E)?null:E})(t.limit));let d=null;t.startAt&&(d=(function(y){const E=!!y.before,C=y.values||[];return new Zo(C,E)})(t.startAt));let f=null;return t.endAt&&(f=(function(y){const E=!y.before,C=y.values||[];return new Zo(C,E)})(t.endAt)),Lk(e,i,l,s,u,"F",d,f)}function H5(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Du(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Du(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Du(t.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Du(t.unaryFilter.field);return Ge.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ge.create(Du(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dt.create(t.compositeFilter.filters.map((r=>cx(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function K5(n){return F5[n]}function G5(n){return U5[n]}function Q5(n){return $5[n]}function Nu(n){return{fieldPath:n.canonicalString()}}function Du(n){return Pt.fromServerFormat(n.fieldPath)}function dx(n){return n instanceof Ge?(function(t){if(t.op==="=="){if(mA(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NAN"}};if(pA(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mA(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NOT_NAN"}};if(pA(t.value))return{unaryFilter:{field:Nu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(t.field),op:G5(t.op),value:t.value}}})(n):n instanceof dt?(function(t){const r=t.getFilters().map((i=>dx(i)));return r.length===1?r[0]:{compositeFilter:{op:Q5(t.op),filters:r}}})(n):Ee(54877,{filter:n})}function Y5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function hx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,r,i,s=be.min(),l=be.min(),u=Ut.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.yt=e}}function J5(n,e){let t;if(e.document)t=ox(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=ml(e.noDocument.readTime);t=It.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=ml(e.unknownDocument.version);t=It.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime((function(i){const s=new ot(i[0],i[1]);return be.fromTimestamp(s)})(e.readTime)),t}function OA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,l){return{name:jh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:ac(s,l.version.toTimestamp()),createTime:ac(s,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:pl(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:pl(e.version)}}return r}function gg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ml(n){const e=new ot(n.seconds,n.nanoseconds);return be.fromTimestamp(e)}function Qa(n,e){const t=(e.baseMutations||[]).map((s=>Hw(n.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Hw(n.yt,s))),i=ot.fromMillis(e.localWriteTimeMs);return new vI(e.batchId,i,t,r)}function ih(n){const e=ml(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ml(n.lastLimboFreeSnapshotVersion):be.min();let r;return r=(function(s){return s.documents!==void 0})(n.query)?(function(s){const l=s.documents.length;return Re(l===1,1966,{count:l}),Gn(Ac(ix(s.documents[0])))})(n.query):(function(s){return Gn(ux(s))})(n.query),new Ns(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ut.fromBase64String(n.resumeToken))}function px(n,e){const t=pl(e.snapshotVersion),r=pl(e.lastLimboFreeSnapshotVersion);let i;i=fg(e.target)?ax(n.yt,e.target):lx(n.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dl(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SI(n){const e=ux({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mg(e,e.limit,"L"):e}function Uv(n,e){return new EI(e.largestBatchId,Hw(n.yt,e.overlayMutation))}function NA(n,e){const t=e.path.lastSegment();return[n,Un(e.path.popLast()),t]}function DA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:pl(r.readTime),documentKey:Un(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{getBundleMetadata(e,t){return LA(e).get(t).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:ml(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,t){return LA(e).put((function(i){return{bundleId:i.id,createTime:pl(qt(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return VA(e).get(t).next((r=>{if(r)return(function(s){return{name:s.name,query:SI(s.bundledQuery),readTime:ml(s.readTime)}})(r)}))}saveNamedQuery(e,t){return VA(e).put((function(i){return{name:i.name,readTime:pl(qt(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function LA(n){return an(n,Zg)}function VA(n){return an(n,ey)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new ay(e,r)}getOverlay(e,t){return xd(e).get(NA(this.userId,t)).next((r=>r?Uv(this.serializer,r):null))}getOverlays(e,t){const r=Wi();return Y.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){const i=[];return r.forEach(((s,l)=>{const u=new EI(t,l);i.push(this.St(e,u))})),Y.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach((l=>i.add(Un(l.getCollectionPath()))));const s=[];return i.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(xd(e).Z(Dw,u))})),Y.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Wi(),s=Un(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xd(e).J(Dw,l).next((u=>{for(const d of u){const f=Uv(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,t,r,i){const s=Wi();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xd(e).ee({index:fk,range:u},((d,f,m)=>{const y=Uv(this.serializer,f);s.size()<i||y.largestBatchId===l?(s.set(y.getKey(),y),l=y.largestBatchId):m.done()})).next((()=>s))}St(e,t){return xd(e).put((function(i,s,l){const[u,d,f]=NA(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Bh(i.yt,l.mutation)}})(this.serializer,this.userId,t))}}function xd(n){return an(n,ty)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{bt(e){return an(e,cI)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Ut.fromUint8Array(r):Ut.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(At(e.integerValue));else if("doubleValue"in e){const r=At(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Nh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Bs(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(zs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?Rk(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):iy(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ee(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const i=nc,s=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(At(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ve.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ya.Kt=new Ya;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=255;function e3(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function MA(n){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const l=e3(255&r[s]);if(i+=l,l!==8)break}return i})(n);return Math.ceil(e/8)}class t3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=MA(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=MA(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(yu),this.sn(255)}_n(){this.an(yu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===yu?(this.sn(yu),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===yu?(this.an(yu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class n3{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class r3{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Od{constructor(){this.cn=new t3,this.ln=new n3(this.cn),this.hn=new r3(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new Ja(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Mm(this.En),directionalValue:Mm(this.dn),orderedDocumentKey:Mm(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function xo(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=FA(n.En,e.En),t!==0?t:(t=FA(n.dn,e.dn),t!==0?t:ve.comparator(n.In,e.In)))}function FA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Mm(n){return jb()?(function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r})(n):n}function UA(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(n)}class $A{constructor(e){this.mn=new ht(((t,r)=>Pt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=xw(e);if(t!==void 0&&!this.wn(t))return!1;const r=Ha(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.Sn(u,d)||!this.bn(this.fn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ht(Pt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new bm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new bm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new bm(r.field,r.dir==="asc"?0:1)));return new ug(ug.UNKNOWN_ID,this.collectionId,t,Oh.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(n){if(Re(n instanceof Ge||n instanceof dt,20012),n instanceof Ge){if(n instanceof Dk){const t=n.value.arrayValue?.values?.map((r=>Ge.create(n.field,"==",r)))||[];return dt.create(t,"or")}return n}const e=n.filters.map((t=>mx(t)));return dt.create(e,n.op)}function i3(n){if(n.getFilters().length===0)return[];const e=Qw(mx(n));return Re(gx(e),7391),Kw(e)||Gw(e)?[e]:e.getFilters()}function Kw(n){return n instanceof Ge}function Gw(n){return n instanceof dt&&pI(n)}function gx(n){return Kw(n)||Gw(n)||(function(t){if(t instanceof dt&&Uw(t)){for(const r of t.getFilters())if(!Kw(r)&&!Gw(r))return!1;return!0}return!1})(n)}function Qw(n){if(Re(n instanceof Ge||n instanceof dt,34018),n instanceof Ge)return n;if(n.filters.length===1)return Qw(n.filters[0]);const e=n.filters.map((r=>Qw(r)));let t=dt.create(e,n.op);return t=yg(t),gx(t)?t:(Re(t instanceof dt,64498),Re(ic(t),40251),Re(t.filters.length>1,57927),t.filters.reduce(((r,i)=>RI(r,i))))}function RI(n,e){let t;return Re(n instanceof Ge||n instanceof dt,38388),Re(e instanceof Ge||e instanceof dt,25473),t=n instanceof Ge?e instanceof Ge?(function(i,s){return dt.create([i,s],"and")})(n,e):jA(n,e):e instanceof Ge?jA(e,n):(function(i,s){if(Re(i.filters.length>0&&s.filters.length>0,48005),ic(i)&&ic(s))return xk(i,s.getFilters());const l=Uw(i)?i:s,u=Uw(i)?s:i,d=l.filters.map((f=>RI(f,u)));return dt.create(d,"or")})(n,e),yg(t)}function jA(n,e){if(ic(e))return xk(e,n.getFilters());{const t=e.filters.map((r=>RI(n,r)));return dt.create(t,"or")}}function yg(n){if(Re(n instanceof Ge||n instanceof dt,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return yg(e[0]);if(bk(n))return n;const t=e.map((i=>yg(i))),r=[];return t.forEach((i=>{i instanceof Ge?r.push(i):i instanceof dt&&(i.op===n.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:dt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.Cn=new AI}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Pr.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class AI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ht(Ke.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="IndexedDbIndexManager",lm=new Uint8Array(0);class o3{constructor(e,t){this.databaseId=t,this.vn=new AI,this.Fn=new Qs((r=>dl(r)),((r,i)=>pf(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const s={collectionId:r,parent:Un(i)};return zA(e).put(s)}return Y.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[X1(t),""],!1,!0);return zA(e).J(i).next((s=>{for(const l of s){if(l.collectionId!==t)break;r.push(zi(l.parent))}return r}))}addFieldIndex(e,t){const r=Nd(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=vu(e);return s.next((u=>{l.put(DA(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const r=Nd(e),i=vu(e),s=_u(e);return r.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Nd(e),r=_u(e),i=vu(e);return t.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return Y.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new $A(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,t){const r=_u(e);let i=!0;const s=new Map;return Y.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{i&&(i=!!u),s.set(l,u)})))).next((()=>{if(i){let l=Be();const u=[];return Y.forEach(s,((d,f)=>{de(BA,`Using index ${(function($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map((H=>`${H.fieldPath}:${H.kind}`)).join(",")}`})(d)} to execute ${dl(t)}`);const m=(function($,H){const q=xw(H);if(q===void 0)return null;for(const U of pg($,q.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null})(f,d),y=(function($,H){const q=new Map;for(const U of Ha(H))for(const N of pg($,U.fieldPath))switch(N.op){case"==":case"in":q.set(U.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return q.set(U.fieldPath.canonicalString(),N.value),Array.from(q.values())}return null})(f,d),E=(function($,H){const q=[];let U=!0;for(const N of Ha(H)){const A=N.kind===0?wA($,N.fieldPath,$.startAt):EA($,N.fieldPath,$.startAt);q.push(A.value),U&&(U=A.inclusive)}return new Zo(q,U)})(f,d),C=(function($,H){const q=[];let U=!0;for(const N of Ha(H)){const A=N.kind===0?EA($,N.fieldPath,$.endAt):wA($,N.fieldPath,$.endAt);q.push(A.value),U&&(U=A.inclusive)}return new Zo(q,U)})(f,d),T=this.On(d,f,E),R=this.On(d,f,C),k=this.Nn(d,f,y),j=this.Bn(d.indexId,m,T,E.inclusive,R,C.inclusive,k);return Y.forEach(j,(V=>r.Y(V,t.limit).next(($=>{$.forEach((H=>{const q=ve.fromSegments(H.documentKey);l.has(q)||(l=l.add(q),u.push(q))}))}))))})).next((()=>u))}return Y.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=i3(dt.create(e.filters,"and")).map((r=>jw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),f=d/(t!=null?t.length:1),m=[];for(let y=0;y<d;++y){const E=t?this.Ln(t[y/f]):lm,C=this.kn(e,E,r[y%f],i),T=this.qn(e,E,s[y%f],l),R=u.map((k=>this.kn(e,E,k,!0)));m.push(...this.createRange(C,T,R))}return m}kn(e,t,r,i){const s=new Ja(e,ve.empty(),t,r);return i?s:s.An()}qn(e,t,r,i){const s=new Ja(e,ve.empty(),t,r);return i?s.An():s}xn(e,t){const r=new $A(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let l=null;for(const u of s)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const i=this.Mn(t);return Y.forEach(i,(s=>this.xn(e,s).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new ht(Pt.comparator),m=!1;for(const y of d.filters)for(const E of y.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?m=!0:f=f.add(E.field));for(const y of d.orderBy)y.field.isKeyField()||(f=f.add(y.field));return f.size+(m?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&i.length>1&&r===2?1:r))}Qn(e,t){const r=new Od;for(const i of Ha(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.Pn(i.kind);Ya.Kt.Dt(s,l)}return r.un()}Ln(e){const t=new Od;return Ya.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Od;return Ya.Kt.Dt(cl(this.databaseId,t),r.Pn((function(s){const l=Ha(s);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Od);let s=0;for(const l of Ha(e)){const u=r[s++];for(const d of i)if(this.Un(t,l.fieldPath)&&Uh(u))i=this.Kn(i,l,u);else{const f=d.Pn(l.kind);Ya.Kt.Dt(u,f)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Od;d.seed(u.un()),Ya.Kt.Dt(l,d.Pn(t.kind)),s.push(d)}return s}Un(e,t){return!!e.filters.find((r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Nd(e),i=vu(e);return(t?r.J(Nw,IDBKeyRange.bound(t,t)):r.J()).next((s=>{const l=[];return Y.forEach(s,(u=>i.get([u.indexId,this.uid]).next((d=>{l.push((function(m,y){const E=y?new Oh(y.sequenceNumber,new Pr(ml(y.readTime),new ve(zi(y.documentKey)),y.largestBatchId)):Oh.empty(),C=m.fields.map((([T,R])=>new bm(Pt.fromServerFormat(T),R)));return new ug(m.indexId,m.collectionGroup,C,E)})(u,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ue(r.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const i=Nd(e),s=vu(e);return this.Gn(e).next((l=>i.J(Nw,IDBKeyRange.bound(t,t)).next((u=>Y.forEach(u,(d=>s.put(DA(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Y.forEach(t,((i,s)=>{const l=r.get(i.collectionGroup);return(l?Y.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),Y.forEach(u,(d=>this.zn(e,i,d).next((f=>{const m=this.jn(s,d);return f.isEqual(m)?Y.resolve():this.Jn(e,s,d,f,m)})))))))}))}Hn(e,t,r,i){return _u(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return _u(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=_u(e);let s=new ht(xo);return i.ee({index:hk,range:IDBKeyRange.only([r.indexId,this.uid,Mm(this.$n(r,t))])},((l,u)=>{s=s.add(new Ja(r.indexId,t,UA(u.arrayValue),UA(u.directionalValue)))})).next((()=>s))}jn(e,t){let r=new ht(xo);const i=this.Qn(t,e);if(i==null)return r;const s=xw(t);if(s!=null){const l=e.data.field(s.fieldPath);if(Uh(l))for(const u of l.arrayValue.values||[])r=r.add(new Ja(t.indexId,e.key,this.Ln(u),i))}else r=r.add(new Ja(t.indexId,e.key,lm,i));return r}Jn(e,t,r,i,s){de(BA,"Updating index entries for document '%s'",t.key);const l=[];return(function(d,f,m,y,E){const C=d.getIterator(),T=f.getIterator();let R=gu(C),k=gu(T);for(;R||k;){let j=!1,V=!1;if(R&&k){const $=m(R,k);$<0?V=!0:$>0&&(j=!0)}else R!=null?V=!0:j=!0;j?(y(k),k=gu(T)):V?(E(R),R=gu(C)):(R=gu(C),k=gu(T))}})(i,s,xo,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Y.waitFor(l)}Gn(e){let t=1;return vu(e).ee({index:dk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>xo(l,u))).filter(((l,u,d)=>!u||xo(l,d[u-1])!==0));const i=[];i.push(e);for(const l of r){const u=xo(l,e),d=xo(l,t);if(u===0)i[0]=e.An();else if(u>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const u=i[l].Vn(this.uid,lm,ve.empty()),d=i[l+1].Vn(this.uid,lm,ve.empty());s.push(IDBKeyRange.bound(u,d))}return s}Zn(e,t){return xo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WA)}getMinOffset(e,t){return Y.mapArray(this.Mn(t),(r=>this.xn(e,r).next((i=>i||Ee(44426))))).next(WA)}}function zA(n){return an(n,Vh)}function _u(n){return an(n,ph)}function Nd(n){return an(n,uI)}function vu(n){return an(n,fh)}function WA(n){Re(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;oI(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Pr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yx=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(n,e,t){const r=n.store(ni),i=n.store(Xu),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.ee({range:l},((m,y,E)=>(u++,E.delete())));s.push(d.next((()=>{Re(u===1,47070,{batchId:t.batchId})})));const f=[];for(const m of t.mutations){const y=lk(e,m.key.path,t.batchId);s.push(i.delete(y)),f.push(m.key)}return Y.waitFor(s).next((()=>f))}function _g(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(yx,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class ly{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){Re(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new ly(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).ee({index:Za,range:r},((i,s,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,i){const s=Lu(e),l=Oo(e);return l.add({}).next((u=>{Re(typeof u=="number",49019);const d=new vI(u,t,r,i),f=(function(C,T,R){const k=R.baseMutations.map((V=>Bh(C.yt,V))),j=R.mutations.map((V=>Bh(C.yt,V)));return{userId:T,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:k,mutations:j}})(this.serializer,this.userId,d),m=[];let y=new ht(((E,C)=>Ue(E.canonicalString(),C.canonicalString())));for(const E of i){const C=lk(this.userId,E.key.path,u);y=y.add(E.key.path.popLast()),m.push(l.put(f)),m.push(s.put(C,$$))}return y.forEach((E=>{m.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Xn[u]=d.keys()})),Y.waitFor(m).next((()=>d))}))}lookupMutationBatch(e,t){return Oo(e).get(t).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Qa(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Y.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Oo(e).ee({index:Za,range:i},((l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r,47524,{tr:r}),s=Qa(this.serializer,u)),d.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=zo;return Oo(e).ee({index:Za,range:t,reverse:!0},((i,s,l)=>{r=s.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,zo],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).J(Za,t).next((r=>r.map((i=>Qa(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=km(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Lu(e).ee({range:i},((l,u,d)=>{const[f,m,y]=l,E=zi(m);if(f===this.userId&&t.path.isEqual(E))return Oo(e).get(y).next((C=>{if(!C)throw Ee(61480,{nr:l,batchId:y});Re(C.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:C.userId,batchId:y}),s.push(Qa(this.serializer,C))}));d.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(Ue);const i=[];return t.forEach((s=>{const l=km(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Lu(e).ee({range:u},((f,m,y)=>{const[E,C,T]=f,R=zi(C);E===this.userId&&s.path.isEqual(R)?r=r.add(T):y.done()}));i.push(d)})),Y.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=km(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new ht(Ue);return Lu(e).ee({range:l},((d,f,m)=>{const[y,E,C]=d,T=zi(E);y===this.userId&&r.isPrefixOf(T)?T.length===i&&(u=u.add(C)):m.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],i=[];return t.forEach((s=>{i.push(Oo(e).get(s).next((l=>{if(l===null)throw Ee(35274,{batchId:s});Re(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:s}),r.push(Qa(this.serializer,l))})))})),Y.waitFor(i).next((()=>r))}removeMutationBatch(e,t){return _x(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Y.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Y.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return Lu(e).ee({range:r},((s,l,u)=>{if(s[0]===this.userId){const d=zi(s[1]);i.push(d)}else u.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,t){return vx(e,this.userId,t)}_r(e){return wx(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:zo,lastStreamToken:""}))}}function vx(n,e,t){const r=km(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Lu(n).ee({range:s,X:!0},((u,d,f)=>{const[m,y,E]=u;m===e&&y===i&&(l=!0),f.done()})).next((()=>l))}function Oo(n){return an(n,ni)}function Lu(n){return an(n,Xu)}function wx(n){return an(n,Dh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new gl(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>be.fromTimestamp(new ot(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>wu(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let i=0;const s=[];return wu(e).ee(((l,u)=>{const d=ih(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))})).next((()=>Y.waitFor(s))).next((()=>i))}forEachTarget(e,t){return wu(e).ee(((r,i)=>{const s=ih(i);t(s)}))}lr(e){return HA(e).get(hg).next((t=>(Re(t!==null,2888),t)))}hr(e,t){return HA(e).put(hg,t)}Pr(e,t){return wu(e).put(px(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=dl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return wu(e).ee({range:i,index:ck},((l,u,d)=>{const f=ih(u);pf(t,f.target)&&(s=f,d.done())})).next((()=>s))}addMatchingKeys(e,t,r){const i=[],s=Mo(e);return t.forEach((l=>{const u=Un(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))})),Y.waitFor(i)}removeMatchingKeys(e,t,r){const i=Mo(e);return Y.forEach(t,(s=>{const l=Un(s.path);return Y.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,t){const r=Mo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Mo(e);let s=Be();return i.ee({range:r,X:!0},((l,u,d)=>{const f=zi(l[1]),m=new ve(f);s=s.add(m)})).next((()=>s))}containsKey(e,t){const r=Un(t.path),i=IDBKeyRange.bound([r],[X1(r)],!1,!0);let s=0;return Mo(e).ee({index:lI,X:!0,range:i},(([l,u],d,f)=>{l!==0&&(s++,f.done())})).next((()=>s>0))}At(e,t){return wu(e).get(t).next((r=>r?ih(r):null))}}function wu(n){return an(n,Zu)}function HA(n){return an(n,sl)}function Mo(n){return an(n,ec)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="LruGarbageCollector",l3=1048576;function GA([n,e],[t,r]){const i=Ue(n,t);return i===0?Ue(e,r):i}class u3{constructor(e){this.Ir=e,this.buffer=new ht(GA),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(KA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ca(t)?de(KA,"Ignoring IndexedDB error during garbage collection: ",t):await ua(t)}await this.Vr(3e5)}))}}class c3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(rr.ce);const r=new u3(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(qA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qA):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,l,u,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,t)))).next((y=>(s=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),xu()<=ze.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y}))))}}function Ix(n,e){return new c3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,t){this.db=e,this.garbageCollector=Ix(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,i)=>t(i)))}addReference(e,t,r){return um(e,r)}removeReference(e,t,r){return um(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return um(e,t)}br(e,t){return(function(i,s){let l=!1;return wx(i).te((u=>vx(i,u,s).next((d=>(d&&(l=!0),Y.resolve(!d)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((l,u)=>{if(u<=t){const d=this.br(e,l).next((f=>{if(!f)return s++,r.getEntry(e,l).next((()=>(r.removeEntry(l,be.min()),Mo(e).delete((function(y){return[0,Un(y.path)]})(l)))))}));i.push(d)}})).next((()=>Y.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return um(e,t)}Sr(e,t){const r=Mo(e);let i,s=rr.ce;return r.ee({index:lI},(([l,u],{path:d,sequenceNumber:f})=>{l===0?(s!==rr.ce&&t(new ve(zi(i)),s),s=f,i=d):s=rr.ce})).next((()=>{s!==rr.ce&&t(new ve(zi(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function um(n,e){return Mo(n).put((function(r,i){return{targetId:0,path:Un(r.path),sequenceNumber:i}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.changes=new Qs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ba(e).put(r)}removeEntry(e,t,r){return Ba(e).delete((function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],gg(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=It.newInvalidDocument(t);return Ba(e).ee({index:xm,range:IDBKeyRange.only(Dd(t))},((i,s)=>{r=this.Cr(t,s)})).next((()=>r))}vr(e,t){let r={size:0,document:It.newInvalidDocument(t)};return Ba(e).ee({index:xm,range:IDBKeyRange.only(Dd(t))},((i,s)=>{r={document:this.Cr(t,s),size:_g(s)}})).next((()=>r))}getEntries(e,t){let r=sr();return this.Fr(e,t,((i,s)=>{const l=this.Cr(i,s);r=r.insert(i,l)})).next((()=>r))}Mr(e,t){let r=sr(),i=new _t(ve.comparator);return this.Fr(e,t,((s,l)=>{const u=this.Cr(s,l);r=r.insert(s,u),i=i.insert(s,_g(l))})).next((()=>({documents:r,Or:i})))}Fr(e,t,r){if(t.isEmpty())return Y.resolve();let i=new ht(JA);t.forEach((d=>i=i.add(d)));const s=IDBKeyRange.bound(Dd(i.first()),Dd(i.last())),l=i.getIterator();let u=l.getNext();return Ba(e).ee({index:xm,range:s},((d,f,m)=>{const y=ve.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&JA(u,y)<0;)r(u,null),u=l.getNext();u&&u.isEqual(y)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?m.j(Dd(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),gg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ba(e).J(IDBKeyRange.bound(u,d,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let m=sr();for(const y of f){const E=this.Cr(ve.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);E.isFoundDocument()&&(gf(t,E)||i.has(E.key))&&(m=m.insert(E.key,E))}return m}))}getAllFromCollectionGroup(e,t,r,i){let s=sr();const l=YA(t,r),u=YA(t,Pr.max());return Ba(e).ee({index:uk,range:IDBKeyRange.bound(l,u,!0)},((d,f,m)=>{const y=this.Cr(ve.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(y.key,y),s.size===i&&m.done()})).next((()=>s))}newChangeBuffer(e){return new f3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return QA(e).get(Ow).next((t=>(Re(!!t,20021),t)))}Dr(e,t){return QA(e).put(Ow,t)}Cr(e,t){if(t){const r=J5(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return It.newInvalidDocument(e)}}function Sx(n){return new h3(n)}class f3 extends Tx{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Qs((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const t=[];let r=0,i=new ht(((s,l)=>Ue(s.canonicalString(),l.canonicalString())));return this.changes.forEach(((s,l)=>{const u=this.Br.get(s);if(t.push(this.Nr.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=OA(this.Nr.serializer,l);i=i.add(s.path.popLast());const f=_g(d);r+=f-u.size,t.push(this.Nr.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=OA(this.Nr.serializer,l.convertToNoDocument(be.min()));t.push(this.Nr.addEntry(e,s,d))}})),i.forEach((s=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),t.push(this.Nr.updateMetadata(e,r)),Y.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:i})=>(i.forEach(((s,l)=>{this.Br.set(s,{size:l,readTime:r.get(s).readTime})})),r)))}}function QA(n){return an(n,Lh)}function Ba(n){return an(n,dg)}function Dd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YA(n,e){const t=e.documentKey.path.toArray();return[n,gg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function JA(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ue(t[s],r[s]),i)return i;return i=Ue(t.length,r.length),i||(i=Ue(t[t.length-2],r[r.length-2]),i||Ue(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&yh(r.mutation,i,ir.empty(),ot.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Be()){const i=Wi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let l=nh();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Wi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Be())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,i){let s=sr();const l=gh(),u=(function(){return gh()})();return t.forEach(((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ys)?s=s.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),yh(m.mutation,f,m.mutation.getFieldMask(),ot.now())):l.set(f.key,ir.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,m)=>l.set(f,m))),t.forEach(((f,m)=>u.set(f,new p3(m,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=gh();let i=new _t(((l,u)=>l-u)),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||ir.empty();m=u.applyToLocalView(f,m),r.set(d,m);const y=(i.get(u.batchId)||Be()).add(d);i=i.insert(u.batchId,y)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,m=d.value,y=jk();m.forEach((E=>{if(!s.has(E)){const C=Gk(t.get(E),r.get(E));C!==null&&y.set(E,C),s=s.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return Y.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Y.resolve(Wi());let u=Ju,d=s;return l.next((f=>Y.forEach(f,((m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),s.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next((E=>{d=d.insert(m,E)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,Be()))).next((m=>({batchId:u,changes:$k(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=nh();return this.indexManager.getCollectionParents(e,s).next((u=>Y.forEach(u,(d=>{const f=(function(y,E){return new Gs(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((y,E)=>{l=l.insert(y,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,It.newInvalidDocument(m)))}));let u=nh();return l.forEach(((d,f)=>{const m=s.get(d);m!==void 0&&yh(m.mutation,f,ir.empty(),ot.now()),gf(t,f)&&(u=u.insert(d,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:qt(i.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:SI(i.bundledQuery),readTime:qt(i.readTime)}})(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.overlays=new _t(ve.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wi();return Y.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),Y.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const i=Wi(),s=t.length+1,l=new ve(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new _t(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Wi(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Wi(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>u.set(f,m))),!(u.size()>=i)););return Y.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new EI(t,r));let s=this.qr.get(t);s===void 0&&(s=Be(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.Qr=new ht(dn.$r),this.Ur=new ht(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new dn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new dn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new Ke([])),r=new dn(t,e),i=new dn(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new Ke([])),r=new dn(t,e),i=new dn(t,e+1);let s=Be();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const t=new dn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ht(dn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new vI(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new dn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?zo:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),i=new dn(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(Ue);return t.forEach((i=>{const s=new dn(i,0),l=new dn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const l=new dn(new ve(s),0);let u=new ht(Ue);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Yr)),!0)}),l),Y.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Re(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(t.mutations,(i=>{const s=new dn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new dn(t,0),i=this.Zr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.ri=e,this.docs=(function(){return new _t(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))})),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=sr();const l=t.path,u=new ve(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||oI(rk(m),r)<=0||(i.has(m.key)||gf(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee(9500)}ii(e,t){return Y.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new w3(this)}getSize(e){return Y.resolve(this.size)}}class w3 extends Tx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.persistence=e,this.si=new Qs((t=>dl(t)),pf),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new PI,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Y.waitFor(s).next((()=>i))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Y.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t){this.ui={},this.overlays={},this.ci=new rr(0),this.li=!1,this.li=!0,this.hi=new y3,this.referenceDelegate=e(this),this.Pi=new E3(this),this.indexManager=new s3,this.remoteDocumentCache=(function(i){return new v3(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fx(t),this.Ii=new m3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new g3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new _3(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const i=new I3(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class I3 extends sk{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Ri=new PI,this.Vi=null}static mi(e){return new uy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const i=ve.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class vg{constructor(e,t){this.persistence=e,this.pi=new Qs((r=>Un(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Ix(this,t)}static mi(e,t){return new vg(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Y.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Y.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,s.removeEntry(l,be.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nm(e.data.value)),t}br(e,t,r){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.serializer=e}k(e,t,r,i){const s=new Xg("createOrUpgrade",t);r<1&&i>=1&&((function(d){d.createObjectStore(ff)})(e),(function(d){d.createObjectStore(Dh,{keyPath:U$}),d.createObjectStore(ni,{keyPath:lA,autoIncrement:!0}).createIndex(Za,uA,{unique:!0}),d.createObjectStore(Xu)})(e),XA(e),(function(d){d.createObjectStore(Ka)})(e));let l=Y.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(ec),d.deleteObjectStore(Zu),d.deleteObjectStore(sl)})(e),XA(e)),l=l.next((()=>(function(d){const f=d.store(sl),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return f.put(hg,m)})(s)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(ni).J().next((y=>{d.deleteObjectStore(ni),d.createObjectStore(ni,{keyPath:lA,autoIncrement:!0}).createIndex(Za,uA,{unique:!0});const E=f.store(ni),C=y.map((T=>E.put(T)));return Y.waitFor(C)}))})(e,s)))),l=l.next((()=>{(function(d){d.createObjectStore(tc,{keyPath:G$})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(s)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Lh)})(e),this.wi(s))))),r<7&&i>=7&&(l=l.next((()=>this.Si(s)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,s)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(s)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(Zg,{keyPath:Q$})})(e),(function(d){d.createObjectStore(ey,{keyPath:Y$})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(ty,{keyPath:r5});f.createIndex(Dw,i5,{unique:!1}),f.createIndex(fk,s5,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(dg,{keyPath:j$});f.createIndex(xm,B$),f.createIndex(uk,z$)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Ka)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(uI,{keyPath:J$,autoIncrement:!0}).createIndex(Nw,X$,{unique:!1}),d.createObjectStore(fh,{keyPath:Z$}).createIndex(dk,e5,{unique:!1}),d.createObjectStore(ph,{keyPath:t5}).createIndex(hk,n5,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{t.objectStore(fh).clear()})).next((()=>{t.objectStore(ph).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(cI,{keyPath:o5})})(e)}))),r<18&&i>=18&&jb()&&(l=l.next((()=>{t.objectStore(fh).clear()})).next((()=>{t.objectStore(ph).clear()}))),l}wi(e){let t=0;return e.store(Ka).ee(((r,i)=>{t+=_g(i)})).next((()=>{const r={byteSize:t};return e.store(Lh).put(Ow,r)}))}yi(e){const t=e.store(Dh),r=e.store(ni);return t.J().next((i=>Y.forEach(i,(s=>{const l=IDBKeyRange.bound([s.userId,zo],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Za,l).next((u=>Y.forEach(u,(d=>{Re(d.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Qa(this.serializer,d);return _x(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const t=e.store(ec),r=e.store(Ka);return e.store(sl).get(hg).next((i=>{const s=[];return r.ee(((l,u)=>{const d=new Ke(l),f=(function(y){return[0,Un(y)]})(d);s.push(t.get(f).next((m=>m?Y.resolve():(y=>t.put({targetId:0,path:Un(y),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Y.waitFor(s)))}))}bi(e,t){e.createObjectStore(Vh,{keyPath:K$});const r=t.store(Vh),i=new AI,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Un(d)})}};return t.store(Ka).ee({X:!0},((l,u)=>{const d=new Ke(l);return s(d.popLast())})).next((()=>t.store(Xu).ee({X:!0},(([l,u,d],f)=>{const m=zi(u);return s(m.popLast())}))))}Di(e){const t=e.store(Zu);return t.ee(((r,i)=>{const s=ih(i),l=px(this.serializer,s);return t.put(l)}))}Ci(e,t){const r=t.store(Ka),i=[];return r.ee(((s,l)=>{const u=t.store(dg),d=(function(y){return y.document?new ve(Ke.fromString(y.document.name).popFirst(5)):y.noDocument?ve.fromSegments(y.noDocument.path):y.unknownDocument?ve.fromSegments(y.unknownDocument.path):Ee(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))})).next((()=>Y.waitFor(i)))}Fi(e,t){const r=t.store(ni),i=Sx(this.serializer),s=new CI(uy.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((d=>{let f=u.get(d.userId)??Be();Qa(this.serializer,d).keys().forEach((m=>f=f.add(m))),u.set(d.userId,f)})),Y.forEach(u,((d,f)=>{const m=new hn(f),y=ay.wt(this.serializer,m),E=s.getIndexManager(m),C=ly.wt(m,this.serializer,E,s.referenceDelegate);return new Rx(i,C,y,E).recalculateAndSaveOverlaysForDocumentKeys(new Lw(t,rr.ce),d).next()}))}))}}function XA(n){n.createObjectStore(ec,{keyPath:q$}).createIndex(lI,H$,{unique:!0}),n.createObjectStore(Zu,{keyPath:"targetId"}).createIndex(ck,W$,{unique:!0}),n.createObjectStore(sl)}const No="IndexedDbPersistence",$v=18e5,jv=5e3,Bv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ax="main";class bI{constructor(e,t,r,i,s,l,u,d,f,m,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=s,this.window=l,this.document=u,this.xi=f,this.Oi=m,this.Ni=y,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=E=>Promise.resolve(),!bI.v())throw new ue(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d3(this,i),this.$i=t+Ax,this.serializer=new fx(d),this.Ui=new Gi(this.$i,this.Ni,new T3(this.serializer)),this.hi=new Z5,this.Pi=new a3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Sx(this.serializer),this.Ii=new X5,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Wt(No,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Bv);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new rr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>cm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ca(e))return de(No,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return de(No,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ld(e).get(mu).next((t=>Y.resolve(this.es(t))))}ts(e){return cm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,$v)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=an(t,tc);return r.J().next((i=>{const s=this.ss(i,$v),l=i.filter((u=>s.indexOf(u)===-1));return Y.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Y.resolve(!0):Ld(e).get(mu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,jv)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Bv);return!1}}return!(!this.networkEnabled||!this.inForeground)||cm(e).J().next((r=>this.ss(r,jv).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&de(No,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ff,tc],(e=>{const t=new Lw(e,rr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>cm(e).J().next((t=>this.ss(t,$v).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return ly.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o3(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ay.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){de(No,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=(function(d){return d===18?u5:d===17?yk:d===16?l5:d===15?dI:d===14?gk:d===13?mk:d===12?a5:d===11?pk:void Ee(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,s,(u=>(l=new Lw(u,this.ci?this.ci.next():rr.ce),t==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ue(te.FAILED_PRECONDITION,ik);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return Ld(e).get(mu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,jv)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ue(te.FAILED_PRECONDITION,Bv)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ld(e).put(mu,t)}static v(){return Gi.v()}Zi(e){const t=Ld(e);return t.get(mu).next((r=>this.es(r)?(de(No,"Releasing primary lease."),t.delete(mu)):Y.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;$b()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return de(No,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Wt(No,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ld(n){return an(n,ff)}function cm(n){return an(n,tc)}function kI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Be(),i=Be();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xI(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $b()?8:ok(Qe())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new S3;return this.Ss(e,t,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(xu()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ou(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(xu()<=ze.DEBUG&&de("QueryEngine","Query:",Ou(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(xu()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ou(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(t))):Y.resolve())}ys(e,t){if(IA(t))return Y.resolve(null);let r=Gn(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=mg(t,null,"F"),r=Gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Be(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(t,u);return this.Cs(t,f,l,d.readTime)?this.ys(e,mg(t,null,"F")):this.vs(e,f,t,d)}))))})))))}ws(e,t,r,i){return IA(t)||i.isEqual(be.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(t,s);return this.Cs(t,l,r,i)?Y.resolve(null):(xu()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ou(t)),this.vs(e,l,t,nk(i,Ju)).next((u=>u)))}))}Ds(e,t){let r=new ht(Fk(e));return t.forEach(((i,s)=>{gf(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return xu()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ou(t)),this.ps.getDocumentsMatchingQuery(e,t,Pr.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="LocalStore",R3=3e8;class A3{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new _t(Ue),this.xs=new Qs((s=>dl(s)),pf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Cx(n,e,t,r){return new A3(n,e,t,r)}async function bx(n,e){const t=we(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=Be();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of s){u.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function P3(n,e){const t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,m){const y=f.batch,E=y.keys();let C=Y.resolve();return E.forEach((T=>{C=C.next((()=>m.getEntry(d,T))).next((R=>{const k=f.docVersions.get(T);Re(k!==null,48541),R.version.compareTo(k)<0&&(y.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))}))})),C.next((()=>u.mutationQueue.removeMutationBatch(d,y)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=Be();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function kx(n){const e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function C3(n,e){const t=we(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((m,y)=>{const E=i.get(y);if(!E)return;u.push(t.Pi.removeMatchingKeys(s,m.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(s,m.addedDocuments,y))));let C=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?C=C.withResumeToken(Ut.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):m.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(m.resumeToken,r)),i=i.insert(y,C),(function(R,k,j){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=R3?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,C,m)&&u.push(t.Pi.updateTargetData(s,C))}));let d=sr(),f=Be();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(xx(s,l,e.documentUpdates).next((m=>{d=m.ks,f=m.qs}))),!r.isEqual(be.min())){const m=t.Pi.getLastRemoteSnapshotVersion(s).next((y=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return Y.waitFor(u).next((()=>l.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,d,f))).next((()=>d))})).then((s=>(t.Ms=i,s)))}function xx(n,e,t){let r=Be(),i=Be();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let l=sr();return t.forEach(((u,d)=>{const f=s.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):de(OI,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function b3(n,e){const t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lc(n,e){const t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,Y.resolve(i)):t.Pi.allocateTargetId(r).next((l=>(i=new Ns(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function uc(n,e,t){const r=we(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ca(l))throw l;de(OI,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function wg(n,e,t){const r=we(n);let i=be.min(),s=Be();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,m){const y=we(d),E=y.xs.get(m);return E!==void 0?Y.resolve(y.Ms.get(E)):y.Pi.getTargetData(f,m)})(r,l,Gn(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:be.min(),t?s:Be()))).next((u=>(Dx(r,Mk(e),u),{documents:u,Qs:s})))))}function Ox(n,e){const t=we(n),r=we(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((l=>l?l.target:null))))}function Nx(n,e){const t=we(n),r=t.Os.get(e)||be.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.Ns.getAllFromCollectionGroup(i,e,nk(r,Ju),Number.MAX_SAFE_INTEGER))).then((i=>(Dx(t,e,i),i)))}function Dx(n,e,t){let r=n.Os.get(e)||be.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}async function k3(n,e,t,r){const i=we(n);let s=Be(),l=sr();for(const f of t){const m=e.$s(f.metadata.name);f.document&&(s=s.add(m));const y=e.Us(f);y.setReadTime(e.Ks(f.metadata.readTime)),l=l.insert(m,y)}const u=i.Ns.newChangeBuffer({trackRemovals:!0}),d=await lc(i,(function(m){return Gn(Ac(Ke.fromString(`__bundle__/docs/${m}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>xx(f,u,l).next((m=>(u.apply(f),m))).next((m=>i.Pi.removeMatchingKeysForTargetId(f,d.targetId).next((()=>i.Pi.addMatchingKeys(f,s,d.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,m.ks,m.qs))).next((()=>m.ks))))))}async function x3(n,e,t=Be()){const r=await lc(n,Gn(SI(e.bundledQuery))),i=we(n);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const l=qt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ii.saveNamedQuery(s,e);const u=r.withResumeToken(Ut.EMPTY_BYTE_STRING,l);return i.Ms=i.Ms.insert(u.targetId,u),i.Pi.updateTargetData(s,u).next((()=>i.Pi.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Pi.addMatchingKeys(s,t,r.targetId))).next((()=>i.Ii.saveNamedQuery(s,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firestore_clients";function ZA(n,e){return`${Lx}_${n}_${e}`}const Vx="firestore_mutations";function eP(n,e,t){let r=`${Vx}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Mx="firestore_targets";function zv(n,e){return`${Mx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="SharedClientState";class Eg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ue(i.error.code,i.error.message))),l?new Eg(e,t,i.state,s):(Wt(Li,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _h{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ue(r.error.code,r.error.message))),s?new _h(e,r.state,i):(Wt(Li,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ig{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=gI();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=ak(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new Ig(e,s):(Wt(Li,`Failed to parse client data for instance '${e}': ${t}`),null)}}class NI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new NI(t.clientId,t.onlineState):(Wt(Li,`Failed to parse online state: ${e}`),null)}}class Yw{constructor(){this.activeTargetIds=gI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wv{constructor(e,t,r,i,s){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new _t(Ue),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=ZA(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Yw),this.ro=new RegExp(`^${Lx}_${l}_([^_]*)$`),this.io=new RegExp(`^${Vx}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Mx}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(ZA(this.persistenceKey,r));if(i){const s=Ig.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(zv(this.persistenceKey,e));if(i){const s=_h.Ws(e,i);s&&(r=s.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return de(Li,"READ",e,t),t}setItem(e,t){de(Li,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){de(Li,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(de(Li,"EVENT",t.key,t.newValue),t.key===this.eo)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(s){let l=rr.ce;if(s!=null)try{const u=JSON.parse(s);Re(typeof u=="number",30636,{So:s}),l=u}catch(u){Wt(Li,"Failed to read sequence number from WebStorage",u)}return l})(t.newValue);r!==rr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new Eg(this.currentUser,e,t,r),s=eP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const t=eP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=zv(this.persistenceKey,e),s=new _h(e,t,r);this.setItem(i,s.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return Ig.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Eg.Ws(new hn(s),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return _h.Ws(i,t)}uo(e){return NI.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);de(Li,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),l=[],u=[];return s.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{s.has(d)||u.push(d)})),this.syncEngine.Fo(l,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=gI();return e.forEach(((r,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class Fx{constructor(){this.Mo=new Yw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="ConnectivityMonitor";class nP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(tP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(tP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm=null;function Jw(){return dm===null?dm=(function(){return 268435456+Math.round(2147483648*Math.random())})():dm++,"0x"+dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="RestConnection",N3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Vw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const l=Jw(),u=this.zo(e,t.toUriEncodedString());de(qv,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:f}=new URL(u),m=Ks(f);return this.Jo(e,u,d,r,m).then((y=>(de(qv,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw es(qv,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,t,r,i,s,l){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=N3[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class V3 extends D3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const l=Jw();return new Promise(((u,d)=>{const f=new q1;f.setWithCredentials(!0),f.listenOnce(H1.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Cm.NO_ERROR:const y=f.getResponseJson();de(Dn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case Cm.TIMEOUT:de(Dn,`RPC '${e}' ${l} timed out`),d(new ue(te.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const E=f.getStatus();if(de(Dn,`RPC '${e}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const T=C?.error;if(T&&T.status&&T.message){const R=(function(j){const V=j.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN})(T.status);d(new ue(R,T.message))}else d(new ue(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ue(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{de(Dn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);de(Dn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)}))}T_(e,t,r){const i=Jw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Q1(),u=G1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");de(Dn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);this.I_(y);let E=!1,C=!1;const T=new L3({Yo:k=>{C?de(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(E||(de(Dn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),E=!0),de(Dn,`RPC '${e}' stream ${i} sending:`,k),y.send(k))},Zo:()=>y.close()}),R=(k,j,V)=>{k.listen(j,($=>{try{V($)}catch(H){setTimeout((()=>{throw H}),0)}}))};return R(y,th.EventType.OPEN,(()=>{C||(de(Dn,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),R(y,th.EventType.CLOSE,(()=>{C||(C=!0,de(Dn,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(y))})),R(y,th.EventType.ERROR,(k=>{C||(C=!0,es(Dn,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),T.a_(new ue(te.UNAVAILABLE,"The operation could not be completed")))})),R(y,th.EventType.MESSAGE,(k=>{if(!C){const j=k.data[0];Re(!!j,16349);const V=j,$=V?.error||V[0]?.error;if($){de(Dn,`RPC '${e}' stream ${i} received error:`,$);const H=$.status;let q=(function(A){const b=Jt[A];if(b!==void 0)return Jk(b)})(H),U=$.message;q===void 0&&(q=te.INTERNAL,U="Unknown error status: "+H+" with message "+$.message),C=!0,T.a_(new ue(q,U)),y.close()}else de(Dn,`RPC '${e}' stream ${i} received:`,j),T.u_(j)}})),R(u,K1.STAT_EVENT,(k=>{k.stat===bw.PROXY?de(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===bw.NOPROXY&&de(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return typeof window<"u"?window:null}function Fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){return new j5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="PersistentStream";class $x{constructor(e,t,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ue(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(rP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(rP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M3 extends $x{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=W5(this.serializer,e),r=(function(s){if(!("targetChange"in s))return be.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?be.min():l.readTime?qt(l.readTime):be.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=qw(this.serializer),t.addTarget=(function(s,l){let u;const d=l.target;if(u=fg(d)?{documents:ax(s,d)}:{query:lx(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=tx(s,l.resumeToken);const f=zw(s,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(be.min())>0){u.readTime=ac(s,l.snapshotVersion.toTimestamp());const f=zw(s,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=H5(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=qw(this.serializer),t.removeTarget=e,this.q_(t)}}class F3 extends $x{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=q5(e.writeResults,e.commitTime),r=qt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=qw(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Bh(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{}class $3 extends U3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Ww(t,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(te.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Ww(t,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class j3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wt(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class B3{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ha(this)&&(de(yl,"Restarting streams for network reachability change."),await(async function(d){const f=we(d);f.Ea.add(4),await bc(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Ef(f)})(this))}))})),this.Ra=new j3(r,i)}}async function Ef(n){if(ha(n))for(const e of n.da)await e(!0)}async function bc(n){for(const e of n.da)await e(!1)}function cy(n,e){const t=we(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),MI(t)?VI(t):xc(t).O_()&&LI(t,e))}function cc(n,e){const t=we(n),r=xc(t);t.Ia.delete(e),r.O_()&&jx(t,e),t.Ia.size===0&&(r.O_()?r.L_():ha(t)&&t.Ra.set("Unknown"))}function LI(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(n).Y_(e)}function jx(n,e){n.Va.Ue(e),xc(n).Z_(e)}function VI(n){n.Va=new M5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.Ra.ua()}function MI(n){return ha(n)&&!xc(n).x_()&&n.Ia.size>0}function ha(n){return we(n).Ea.size===0}function Bx(n){n.Va=void 0}async function z3(n){n.Ra.set("Online")}async function W3(n){n.Ia.forEach(((e,t)=>{LI(n,e)}))}async function q3(n,e){Bx(n),MI(n)?(n.Ra.ha(e),VI(n)):n.Ra.set("Unknown")}async function H3(n,e,t){if(n.Ra.set("Online"),e instanceof ex&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(r){de(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tg(n,r)}else if(e instanceof Vm?n.Va.Ze(e):e instanceof Zk?n.Va.st(e):n.Va.tt(e),!t.isEqual(be.min()))try{const r=await kx(n.localStore);t.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(Ut.EMPTY_BYTE_STRING,m.snapshotVersion)),jx(s,d);const y=new Ns(m.target,d,f,m.sequenceNumber);LI(s,y)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){de(yl,"Failed to raise snapshot:",r),await Tg(n,r)}}async function Tg(n,e,t){if(!ca(e))throw e;n.Ea.add(1),await bc(n),n.Ra.set("Offline"),t||(t=()=>kx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(yl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ef(n)}))}function zx(n,e){return e().catch((t=>Tg(n,t,e)))}async function kc(n){const e=we(n),t=ea(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zo;for(;K3(e);)try{const i=await b3(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,G3(e,i)}catch(i){await Tg(e,i)}Wx(e)&&qx(e)}function K3(n){return ha(n)&&n.Ta.length<10}function G3(n,e){n.Ta.push(e);const t=ea(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Wx(n){return ha(n)&&!ea(n).x_()&&n.Ta.length>0}function qx(n){ea(n).start()}async function Q3(n){ea(n).ra()}async function Y3(n){const e=ea(n);for(const t of n.Ta)e.ea(t.mutations)}async function J3(n,e,t){const r=n.Ta.shift(),i=wI.from(r,e,t);await zx(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await kc(n)}async function X3(n,e){e&&ea(n).X_&&await(async function(r,i){if((function(l){return Yk(l)&&l!==te.ABORTED})(i.code)){const s=r.Ta.shift();ea(r).B_(),await zx(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await kc(r)}})(n,e),Wx(n)&&qx(n)}async function iP(n,e){const t=we(n);t.asyncQueue.verifyOperationInProgress(),de(yl,"RemoteStore received new credentials");const r=ha(t);t.Ea.add(3),await bc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ef(t)}async function Xw(n,e){const t=we(n);e?(t.Ea.delete(2),await Ef(t)):e||(t.Ea.add(2),await bc(t),t.Ra.set("Unknown"))}function xc(n){return n.ma||(n.ma=(function(t,r,i){const s=we(t);return s.sa(),new M3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:z3.bind(null,n),t_:W3.bind(null,n),r_:q3.bind(null,n),H_:H3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),MI(n)?VI(n):n.Ra.set("Unknown")):(await n.ma.stop(),Bx(n))}))),n.ma}function ea(n){return n.fa||(n.fa=(function(t,r,i){const s=we(t);return s.sa(),new F3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q3.bind(null,n),r_:X3.bind(null,n),ta:Y3.bind(null,n),na:J3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await kc(n)):(await n.fa.stop(),n.Ta.length>0&&(de(yl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new FI(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),ca(n))return new ue(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{static emptySet(e){return new ju(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=nh(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ju)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ju;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.ga=new _t(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class dc{constructor(e,t,r,i,s,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new dc(e,t,ju.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ej{constructor(){this.queries=oP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=we(t),s=i.queries;i.queries=oP(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new ue(te.ABORTED,"Firestore shutting down"))}}function oP(){return new Qs((n=>Vk(n)),mf)}async function UI(n,e){const t=we(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Z3,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Oc(l,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&jI(t)}async function $I(n,e){const t=we(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function tj(n,e){const t=we(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&jI(t)}function nj(n,e,t){const r=we(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function jI(n){n.Ca.forEach((e=>{e.next()}))}var Zw,aP;(aP=Zw||(Zw={})).Ma="default",aP.Cache="cache";class BI{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.serializer=e}$s(e){return Qi(this.serializer,e)}Us(e){return e.metadata.exists?ox(this.serializer,e.document,!1):It.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return qt(e)}}class ij{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Hx(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=Ke.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new lP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Be()).add(s);t.set(l,u)}}return t}async ja(e){const t=await k3(e,new lP(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await x3(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function Hx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.key=e}}class Gx{constructor(e){this.key=e}}class Qx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=Fk(e),this.tu=new ju(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new sP,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,y)=>{const E=i.get(m),C=gf(this.query,y)?y:null,T=!!E&&this.mutatedKeys.has(E.key),R=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;E&&C?E.data.isEqual(C.data)?T!==R&&(r.track({type:3,doc:C}),k=!0):this.su(E,C)||(r.track({type:2,doc:C}),k=!0,(d&&this.eu(C,d)>0||f&&this.eu(C,f)<0)&&(u=!0)):!E&&C?(r.track({type:0,doc:C}),k=!0):E&&!C&&(r.track({type:1,doc:E}),k=!0,(d||f)&&(u=!0)),k&&(C?(l=l.add(C),s=R?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(C,T){const R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return R(C)-R(T)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new dc(this.query,e.tu,s,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Gx(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Kx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fa="SyncEngine";class sj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oj{constructor(e){this.key=e,this.hu=!1}}class aj{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Qs((u=>Vk(u)),mf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ve.comparator),this.Au=new Map,this.Ru=new PI,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lj(n,e,t=!0){const r=dy(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Yx(r,e,t,!0),i}async function uj(n,e){const t=dy(n);await Yx(t,e,!0,!1)}async function Yx(n,e,t,r){const i=await lc(n.localStore,Gn(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await zI(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&cy(n.remoteStore,i),u}async function zI(n,e,t,r,i){n.pu=(y,E,C)=>(async function(R,k,j,V){let $=k.view.ru(j);$.Cs&&($=await wg(R.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,$))));const H=V&&V.targetChanges.get(k.targetId),q=V&&V.targetMismatches.get(k.targetId)!=null,U=k.view.applyChanges($,R.isPrimaryClient,H,q);return eE(R,k.targetId,U.au),U.snapshot})(n,y,E,C);const s=await wg(n.localStore,e,!0),l=new Qx(e,s.Qs),u=l.ru(s.documents),d=vf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);eE(n,t,f.au);const m=new sj(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function cj(n,e,t){const r=we(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!mf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&cc(r.remoteStore,i.targetId),hc(r,i.targetId)})).catch(ua)):(hc(r,i.targetId),await uc(r.localStore,i.targetId,!0))}async function dj(n,e){const t=we(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),cc(t.remoteStore,r.targetId))}async function hj(n,e,t){const r=KI(n);try{const i=await(function(l,u){const d=we(l),f=ot.now(),m=u.reduce(((C,T)=>C.add(T.key)),Be());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let T=sr(),R=Be();return d.Ns.getEntries(C,m).next((k=>{T=k,T.forEach(((j,V)=>{V.isValidDocument()||(R=R.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(C,T))).next((k=>{y=k;const j=[];for(const V of u){const $=D5(V,y.get(V.key).overlayedDocument);$!=null&&j.push(new Ys(V.key,$,Pk($.value.mapValue),Ct.exists(!0)))}return d.mutationQueue.addMutationBatch(C,f,j,u)})).next((k=>{E=k;const j=k.applyToLocalDocumentSet(y,R);return d.documentOverlayCache.saveOverlays(C,k.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:$k(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new _t(Ue)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,t),await Js(r,i.changes),await kc(r.remoteStore)}catch(i){const s=Oc(i,"Failed to persist write");t.reject(s)}}async function Jx(n,e){const t=we(n);try{const r=await C3(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=t.Au.get(s);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Re(l.hu,14607):i.removedDocuments.size>0&&(Re(l.hu,42227),l.hu=!1))})),await Js(t,r,e)}catch(r){await ua(r)}}function uP(n,e,t){const r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=we(l);d.onlineState=u;let f=!1;d.queries.forEach(((m,y)=>{for(const E of y.Sa)E.va(u)&&(f=!0)})),f&&jI(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fj(n,e,t){const r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new _t(ve.comparator);l=l.insert(s,It.newNoDocument(s,be.min()));const u=Be().add(s),d=new _f(be.min(),new Map,new _t(Ue),l,u);await Jx(r,d),r.du=r.du.remove(s),r.Au.delete(e),HI(r)}else await uc(r.localStore,e,!1).then((()=>hc(r,e,t))).catch(ua)}async function pj(n,e){const t=we(n),r=e.batch.batchId;try{const i=await P3(t.localStore,e);qI(t,r,null),WI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Js(t,i)}catch(i){await ua(i)}}async function mj(n,e,t){const r=we(n);try{const i=await(function(l,u){const d=we(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next((y=>(Re(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);qI(r,e,t),WI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Js(r,i)}catch(i){await ua(i)}}async function gj(n,e){const t=we(n);ha(t.remoteStore)||de(fa,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(l){const u=we(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(t.localStore);if(r===zo)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=Oc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function WI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function qI(n,e,t){const r=we(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function hc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Xx(n,r)}))}function Xx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(cc(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),HI(n))}function eE(n,e,t){for(const r of t)r instanceof Kx?(n.Ru.addReference(r.key,e),yj(n,r)):r instanceof Gx?(de(fa,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Xx(n,r.key)):Ee(19791,{wu:r})}function yj(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(fa,"New document in limbo: "+t),n.Eu.add(r),HI(n))}function HI(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(Ke.fromString(e)),r=n.fu.next();n.Au.set(r,new oj(t)),n.du=n.du.insert(t,r),cy(n.remoteStore,new Ns(Gn(Ac(t.path)),r,"TargetPurposeLimboResolution",rr.ce))}}async function Js(n,e,t){const r=we(n),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const m=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=xI.As(d.targetId,f);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const m=we(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Y.forEach(f,(E=>Y.forEach(E.Es,(C=>m.persistence.referenceDelegate.addReference(y,E.targetId,C))).next((()=>Y.forEach(E.ds,(C=>m.persistence.referenceDelegate.removeReference(y,E.targetId,C)))))))))}catch(y){if(!ca(y))throw y;de(OI,"Failed to update sequence numbers: "+y)}for(const y of f){const E=y.targetId;if(!y.fromCache){const C=m.Ms.get(E),T=C.snapshotVersion,R=C.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(E,R)}}})(r.localStore,s))}async function _j(n,e){const t=we(n);if(!t.currentUser.isEqual(e)){de(fa,"User change. New user:",e.toKey());const r=await bx(t.localStore,e);t.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new ue(te.CANCELLED,l))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Js(t,r.Ls)}}function vj(n,e){const t=we(n),r=t.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let i=Be();const s=t.Iu.get(e);if(!s)return i;for(const l of s){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}async function wj(n,e){const t=we(n),r=await wg(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&eE(t,e.targetId,i.au),i}async function Ej(n,e){const t=we(n);return Nx(t.localStore,e).then((r=>Js(t,r)))}async function Ij(n,e,t,r){const i=we(n),s=await(function(u,d){const f=we(u),m=we(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(y=>m.er(y,d).next((E=>E?f.localDocuments.getDocuments(y,E):Y.resolve(null)))))})(i.localStore,e);s!==null?(t==="pending"?await kc(i.remoteStore):t==="acknowledged"||t==="rejected"?(qI(i,e,r||null),WI(i,e),(function(u,d){we(we(u).mutationQueue).ir(d)})(i.localStore,e)):Ee(6720,"Unknown batchState",{Su:t}),await Js(i,s)):de(fa,"Cannot apply mutation batch with id: "+e)}async function Tj(n,e){const t=we(n);if(dy(t),KI(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await cP(t,r.toArray());t.gu=!0,await Xw(t.remoteStore,!0);for(const s of i)cy(t.remoteStore,s)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach(((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(hc(t,l),uc(t.localStore,l,!0)))),cc(t.remoteStore,l)})),await i,await cP(t,r),(function(l){const u=we(l);u.Au.forEach(((d,f)=>{cc(u.remoteStore,f)})),u.Ru.Jr(),u.Au=new Map,u.du=new _t(ve.comparator)})(t),t.gu=!1,await Xw(t.remoteStore,!1)}}async function cP(n,e,t){const r=we(n),i=[],s=[];for(const l of e){let u;const d=r.Iu.get(l);if(d&&d.length!==0){u=await lc(r.localStore,Gn(d[0]));for(const f of d){const m=r.Tu.get(f),y=await wj(r,m);y.snapshot&&s.push(y.snapshot)}}else{const f=await Ox(r.localStore,l);u=await lc(r.localStore,f),await zI(r,Zx(f),l,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(s),i}function Zx(n){return Lk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Sj(n){return(function(t){return we(we(t).persistence).Ts()})(we(n).localStore)}async function Rj(n,e,t,r){const i=we(n);if(i.gu)return void de(fa,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await Nx(i.localStore,Mk(s[0])),u=_f.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ut.EMPTY_BYTE_STRING);await Js(i,l,u);break}case"rejected":await uc(i.localStore,e,!0),hc(i,e,r);break;default:Ee(64155,t)}}async function Aj(n,e,t){const r=dy(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){de(fa,"Adding an already active target "+i);continue}const s=await Ox(r.localStore,i),l=await lc(r.localStore,s);await zI(r,Zx(s),l.targetId,!1,l.resumeToken),cy(r.remoteStore,l)}for(const i of t)r.Iu.has(i)&&await uc(r.localStore,i,!1).then((()=>{cc(r.remoteStore,i),hc(r,i)})).catch(ua)}}function dy(n){const e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fj.bind(null,e),e.Pu.H_=tj.bind(null,e.eventManager),e.Pu.yu=nj.bind(null,e.eventManager),e}function KI(n){const e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mj.bind(null,e),e}function Pj(n,e,t){const r=we(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await(function(C,T){const R=we(C),k=qt(T.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",(j=>R.Ii.getBundleMetadata(j,T.id))).then((j=>!!j&&j.createTime.compareTo(k)>=0))})(s.localStore,d))return await l.close(),u._completeWith((function(C){return{taskState:"Success",documentsLoaded:C.totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}})(d)),Promise.resolve(new Set);u._updateProgress(Hx(d));const f=new ij(d,l.serializer);let m=await l.bu();for(;m;){const E=await f.Ga(m);E&&u._updateProgress(E),m=await l.bu()}const y=await f.ja(s.localStore);return await Js(s,y.Ha,void 0),await(function(C,T){const R=we(C);return R.persistence.runTransaction("Save bundle","readwrite",(k=>R.Ii.saveBundleMetadata(k,T)))})(s.localStore,d),u._completeWith(y.progress),Promise.resolve(y.Ja)}catch(d){return es(fa,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Cx(this.persistence,new Px,e.initialUser,this.serializer)}Cu(e){return new CI(uy.mi,this.serializer)}Du(e){return new Fx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class Cj extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Re(this.persistence.referenceDelegate instanceof vg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ex(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new CI((r=>vg.mi(r,t)),this.serializer)}}class eO extends zh{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await KI(this.xu.syncEngine),await kc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return Cx(this.persistence,new Px,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Ex(r,e.asyncQueue,t)}Mu(e,t){const r=new M$(t,this.persistence);return new V$(e.asyncQueue,r)}Cu(e){const t=kI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new bI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ux(),Fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Fx}}class bj extends eO{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Wv&&(this.sharedClientState.syncEngine={Co:Ij.bind(null,t),vo:Rj.bind(null,t),Fo:Aj.bind(null,t),Ts:Sj.bind(null,t),Do:Ej.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await Tj(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=Ux();if(!Wv.v(t))throw new ue(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=kI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Wh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_j.bind(null,this.syncEngine),await Xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ej})()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),r=(function(s){return new V3(s)})(e.databaseInfo);return(function(s,l,u,d){return new $3(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,l,u){return new B3(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>uP(this.syncEngine,t,0)),(function(){return nP.v()?new nP:new O3})())}createSyncEngine(e,t){return(function(i,s,l,u,d,f,m){const y=new aj(i,s,l,u,d,f);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=we(t);de(yl,"RemoteStore shutting down."),r.Ea.add(5),await bc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wh.provider={build:()=>new Wh};function dP(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Rn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const i=await this.$u(r);return new rj(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ue(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(i,s){const l=we(i),u={documents:s.map((y=>jh(l.serializer,y)))},d=await l.Ho("BatchGetDocuments",l.serializer.databaseId,Ke.emptyPath(),u,s.length),f=new Map;d.forEach((y=>{const E=z5(l.serializer,y);f.set(E.key.toString(),E)}));const m=[];return s.forEach((y=>{const E=f.get(y.toString());Re(!!E,55234,{key:y}),m.push(E)})),m})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new _I(i,this.precondition(i)))})),await(async function(r,i){const s=we(r),l={writes:i.map((u=>Bh(s.serializer,u)))};await s.Go("Commit",s.serializer.databaseId,Ke.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Gu:e.constructor.name});t=be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ue(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(be.min())?Ct.exists(!1):Ct.updateTime(t):Ct.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(be.min()))throw new ue(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ct.updateTime(t)}return Ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new DI(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new xj(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!hf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Yk(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class Nj{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=iI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{de(ta,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(de(ta,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Oc(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hv(n,e){n.asyncQueue.verifyOperationInProgress(),de(ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await bx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hP(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GI(n);de(ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>iP(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>iP(e.remoteStore,i))),n._onlineComponents=e}async function GI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(ta,"Using user provided OfflineComponentProvider");try{await Hv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;es("Error using user provided cache. Falling back to memory cache: "+t),await Hv(n,new zh)}}else de(ta,"Using default OfflineComponentProvider"),await Hv(n,new Cj(void 0));return n._offlineComponents}async function fy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(ta,"Using user provided OnlineComponentProvider"),await hP(n,n._uninitializedComponentsProvider._online)):(de(ta,"Using default OnlineComponentProvider"),await hP(n,new Wh))),n._onlineComponents}function tO(n){return GI(n).then((e=>e.persistence))}function QI(n){return GI(n).then((e=>e.localStore))}function nO(n){return fy(n).then((e=>e.remoteStore))}function YI(n){return fy(n).then((e=>e.syncEngine))}function Dj(n){return fy(n).then((e=>e.datastore))}async function fc(n){const e=await fy(n),t=e.eventManager;return t.onListen=lj.bind(null,e.syncEngine),t.onUnlisten=cj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dj.bind(null,e.syncEngine),t}function Lj(n){return n.asyncQueue.enqueue((async()=>{const e=await tO(n),t=await nO(n);return e.setNetworkEnabled(!0),(function(i){const s=we(i);return s.Ea.delete(0),Ef(s)})(t)}))}function Vj(n){return n.asyncQueue.enqueue((async()=>{const e=await tO(n),t=await nO(n);return e.setNetworkEnabled(!1),(async function(i){const s=we(i);s.Ea.add(0),await bc(s),s.Ra.set("Offline")})(t)}))}function Mj(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,l){try{const u=await(function(f,m){const y=we(f);return y.persistence.runTransaction("read document","readonly",(E=>y.localDocuments.getDocument(E,m)))})(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ue(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Oc(u,`Failed to get document '${s} from cache`);l.reject(d)}})(await QI(n),e,t))),t.promise}function rO(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,f){const m=new hy({next:E=>{m.Nu(),l.enqueueAndForget((()=>$I(s,y)));const C=E.docs.has(u);!C&&E.fromCache?f.reject(new ue(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&d&&d.source==="server"?f.reject(new ue(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),y=new BI(Ac(u.path),m,{includeMetadataChanges:!0,qa:!0});return UI(s,y)})(await fc(n),n.asyncQueue,e,t,r))),r.promise}function Fj(n,e){const t=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(async function(i,s,l){try{const u=await wg(i,s,!0),d=new Qx(s,u.Qs),f=d.ru(u.documents),m=d.applyChanges(f,!1);l.resolve(m.snapshot)}catch(u){const d=Oc(u,`Failed to execute query '${s} against cache`);l.reject(d)}})(await QI(n),e,t))),t.promise}function iO(n,e,t={}){const r=new Rn;return n.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,f){const m=new hy({next:E=>{m.Nu(),l.enqueueAndForget((()=>$I(s,y))),E.fromCache&&d.source==="server"?f.reject(new ue(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),y=new BI(u,m,{includeMetadataChanges:!0,qa:!0});return UI(s,y)})(await fc(n),n.asyncQueue,e,t,r))),r.promise}function Uj(n,e){const t=new hy(e);return n.asyncQueue.enqueueAndForget((async()=>(function(i,s){we(i).Ca.add(s),s.next()})(await fc(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(i,s){we(i).Ca.delete(s)})(await fc(n),t)))}}function $j(n,e,t,r){const i=(function(l,u){let d;return d=typeof l=="string"?Xk().encode(l):l,(function(m,y){return new kj(m,y)})((function(m,y){if(m instanceof Uint8Array)return dP(m,y);if(m instanceof ArrayBuffer)return dP(new Uint8Array(m),y);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),u)})(t,wf(e));n.asyncQueue.enqueueAndForget((async()=>{Pj(await YI(n),i,r)}))}function jj(n,e){return n.asyncQueue.enqueue((async()=>(function(r,i){const s=we(r);return s.persistence.runTransaction("Get named query","readonly",(l=>s.Ii.getNamedQuery(l,i)))})(await QI(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firestore.googleapis.com",pP=!0;class mP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oO,this.ssl=pP}else this.host=e.host,this.ssl=e.ssl??pP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l3)throw new ue(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new S$;switch(r.type){case"firstParty":return new C$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fP.get(t);r&&(de("ComponentProvider","Removing Datastore"),fP.delete(t),r.terminate())})(this),Promise.resolve()}}function Bj(n,e,t,r={}){n=nt(n,If);const i=Ks(e),s=n._getSettings(),l={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&($E(`https://${u}`),jE("Firestore",!0)),s.host!==oO&&s.host!==u&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!li(d,l)&&(n._setSettings(d),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=hn.MOCK_USER;else{f=bM(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ue(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new hn(y)}n._authCredentials=new R$(new J1(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qn=class aO{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aO(this.firestore,e,this._query)}},yt=class sh{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sh(this.firestore,e,this._key)}toJSON(){return{type:sh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(df(t,sh._jsonSchema))return new sh(e,r||null,new ve(Ke.fromString(t.referencePath)))}};yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:en("string",yt._jsonSchemaVersion),referencePath:en("string")};let Wo=class lO extends Qn{constructor(e,t,r){super(e,t,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new lO(this.firestore,e,this._path)}};function uO(n,e,...t){if(n=ke(n),sI("collection","path",e),n instanceof If){const r=Ke.fromString(e,...t);return rA(r),new Wo(n,null,r)}{if(!(n instanceof yt||n instanceof Wo))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return rA(r),new Wo(n.firestore,null,r)}}function zj(n,e){if(n=nt(n,If),sI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qn(n,null,(function(r){return new Gs(Ke.emptyPath(),r)})(e))}function Sg(n,e,...t){if(n=ke(n),arguments.length===1&&(e=iI.newId()),sI("doc","path",e),n instanceof If){const r=Ke.fromString(e,...t);return nA(r),new yt(n,null,new ve(r))}{if(!(n instanceof yt||n instanceof Wo))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(e,...t));return nA(r),new yt(n.firestore,n instanceof Wo?n.converter:null,new ve(r))}}function cO(n,e){return n=ke(n),e=ke(e),(n instanceof yt||n instanceof Wo)&&(e instanceof yt||e instanceof Wo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dO(n,e){return n=ke(n),e=ke(e),n instanceof Qn&&e instanceof Qn&&n.firestore===e.firestore&&mf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="AsyncQueue";class yP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DI(this,"async_queue_retry"),this._c=()=>{const r=Fm();r&&de(gP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Fm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Fm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Rn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ca(e))throw e;de(gP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wt("INTERNAL UNHANDLED ERROR: ",_P(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=FI.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:_P(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function _P(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class Wj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=-1;let Ht=class extends If{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new yP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yP(e),this._firestoreClient=void 0,await e}}};function $n(n){if(n._terminated)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hO(n),n._firestoreClient}function hO(n){const e=n._freezeSettings(),t=(function(i,s,l,u){return new h5(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,sO(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Nj(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}function Hj(n,e){es("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return fO(n,Wh.provider,{build:r=>new eO(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function Kj(n){es("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();fO(n,Wh.provider,{build:t=>new bj(t,e.cacheSizeBytes)})}function fO(n,e,t){if((n=nt(n,Ht))._firestoreClient||n._terminated)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ue(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},hO(n)}function Gj(n){if(n._initialized&&!n._terminated)throw new ue(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Gi.v())return Promise.resolve();const i=r+Ax;await Gi.delete(i)})(kI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function Qj(n){return(function(t){const r=new Rn;return t.asyncQueue.enqueueAndForget((async()=>gj(await YI(t),r))),r.promise})($n(n=nt(n,Ht)))}function Yj(n){return Lj($n(n=nt(n,Ht)))}function Jj(n){return Vj($n(n=nt(n,Ht)))}function Xj(n,e){const t=$n(n=nt(n,Ht)),r=new Wj;return $j(t,n._databaseId,e,r),r}function Zj(n,e){return jj($n(n=nt(n,Ht)),e).then((t=>t?new Qn(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ut.fromBase64String(e))}catch(t){throw new ue(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(df(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:en("string",Mn._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(df(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:en("string",oi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(df(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Yi(e.vectorValues);throw new ue(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:en("string",Yi._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=/^__.*__$/;class t6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class pO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class py{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new py({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mO(this.Ac)&&e6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wf(e)}Cc(e,t,r,i=!1){return new py({Ac:e,methodName:t,Dc:r,path:Pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Al(n){const e=n._freezeSettings(),t=wf(n._databaseId);return new n6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function my(n,e,t,r,i,s={}){const l=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);rT("Data must be an object, but it was:",l,r);const u=_O(r,l);let d,f;if(s.merge)d=new ir(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const y of s.mergeFields){const E=nE(e,y,t);if(!l.contains(E))throw new ue(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);wO(m,E)||m.push(E)}d=new ir(m),f=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=l.fieldTransforms;return new t6(new Sn(u),d,f)}class Tf extends Rl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function gO(n,e,t){return new py({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class JI extends Rl{_toFieldTransform(e){return new yf(e.path,new sc)}isEqual(e){return e instanceof JI}}class XI extends Rl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=gO(this,e,!0),r=this.vc.map((s=>Pl(s,t))),i=new hl(r);return new yf(e.path,i)}isEqual(e){return e instanceof XI&&li(this.vc,e.vc)}}class ZI extends Rl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=gO(this,e,!0),r=this.vc.map((s=>Pl(s,t))),i=new fl(r);return new yf(e.path,i)}isEqual(e){return e instanceof ZI&&li(this.vc,e.vc)}}class eT extends Rl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new oc(e.serializer,zk(e.serializer,this.Fc));return new yf(e.path,t)}isEqual(e){return e instanceof eT&&this.Fc===e.Fc}}function tT(n,e,t,r){const i=n.Cc(1,e,t);rT("Data must be an object, but it was:",i,r);const s=[],l=Sn.empty();da(r,((d,f)=>{const m=iT(e,d,t);f=ke(f);const y=i.yc(m);if(f instanceof Tf)s.push(m);else{const E=Pl(f,y);E!=null&&(s.push(m),l.set(m,E))}}));const u=new ir(s);return new pO(l,u,i.fieldTransforms)}function nT(n,e,t,r,i,s){const l=n.Cc(1,e,t),u=[nE(e,r,t)],d=[i];if(s.length%2!=0)throw new ue(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)u.push(nE(e,s[E])),d.push(s[E+1]);const f=[],m=Sn.empty();for(let E=u.length-1;E>=0;--E)if(!wO(f,u[E])){const C=u[E];let T=d[E];T=ke(T);const R=l.yc(C);if(T instanceof Tf)f.push(C);else{const k=Pl(T,R);k!=null&&(f.push(C),m.set(C,k))}}const y=new ir(f);return new pO(m,y,l.fieldTransforms)}function yO(n,e,t,r=!1){return Pl(t,n.Cc(r?4:3,e))}function Pl(n,e){if(vO(n=ke(n)))return rT("Unsupported field value:",e,n),_O(n,e);if(n instanceof Rl)return(function(r,i){if(!mO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=Pl(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:ac(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ac(i.serializer,s)}}if(r instanceof oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:tx(i.serializer,r._byteString)};if(r instanceof yt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:TI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yi)return(function(l,u){return{mapValue:{fields:{[hI]:{stringValue:fI},[nc]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return yI(u.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Jg(r)}`)})(n,e)}function _O(n,e){const t={};return _k(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(n,((r,i)=>{const s=Pl(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function vO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof oi||n instanceof Mn||n instanceof yt||n instanceof Rl||n instanceof Yi)}function rT(n,e,t){if(!vO(t)||!ek(t)){const r=Jg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function nE(n,e,t){if((e=ke(e))instanceof na)return e._internalPath;if(typeof e=="string")return iT(n,e);throw Rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const r6=new RegExp("[~\\*/\\[\\]]");function iT(n,e,t){if(e.search(r6)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new na(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rg(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ue(te.INVALID_ARGUMENT,u+n+d)}function wO(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class i6 extends qh{data(){return super.data()}}function gy(n,e){return typeof e=="string"?iT(n,e):e instanceof na?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sT{}class Sf extends sT{}function Do(n,e,...t){let r=[];e instanceof sT&&r.push(e),r=r.concat(t),(function(s){const l=s.filter((d=>d instanceof oT)).length,u=s.filter((d=>d instanceof yy)).length;if(l>1||l>0&&u>0)throw new ue(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class yy extends Sf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yy(e,t,r)}_apply(e){const t=this._parse(e);return TO(e._query,t),new Qn(e.firestore,e.converter,Bw(e._query,t))}_parse(e){const t=Al(e.firestore);return(function(s,l,u,d,f,m,y){let E;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ue(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){wP(y,m);const T=[];for(const R of y)T.push(vP(d,s,R));E={arrayValue:{values:T}}}else E=vP(d,s,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||wP(y,m),E=yO(u,l,y,m==="in"||m==="not-in");return Ge.create(f,m,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function s6(n,e,t){const r=e,i=gy("where",n);return yy._create(i,r,t)}class oT extends sT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new oT(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:dt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)TO(l,d),l=Bw(l,d)})(e._query,t),new Qn(e.firestore,e.converter,Bw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aT extends Sf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new aT(e,t)}_apply(e){const t=(function(i,s,l){if(i.startAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $h(s,l)})(e._query,this._field,this._direction);return new Qn(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Gs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function o6(n,e="asc"){const t=e,r=gy("orderBy",n);return aT._create(r,t)}class _y extends Sf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _y(e,t,r)}_apply(e){return new Qn(e.firestore,e.converter,mg(e._query,this._limit,this._limitType))}}function a6(n){return tk("limit",n),_y._create("limit",n,"F")}function l6(n){return tk("limitToLast",n),_y._create("limitToLast",n,"L")}class vy extends Sf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vy(e,t,r)}_apply(e){const t=IO(e,this.type,this._docOrFields,this._inclusive);return new Qn(e.firestore,e.converter,(function(i,s){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,t))}}function u6(...n){return vy._create("startAt",n,!0)}function c6(...n){return vy._create("startAfter",n,!1)}class wy extends Sf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wy(e,t,r)}_apply(e){const t=IO(e,this.type,this._docOrFields,this._inclusive);return new Qn(e.firestore,e.converter,(function(i,s){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,t))}}function d6(...n){return wy._create("endBefore",n,!1)}function h6(...n){return wy._create("endAt",n,!0)}function IO(n,e,t,r){if(t[0]=ke(t[0]),t[0]instanceof qh)return(function(s,l,u,d,f){if(!d)throw new ue(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const y of $u(s))if(y.field.isKeyField())m.push(cl(l,d.key));else{const E=d.data.field(y.field);if(ny(E))throw new ue(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const C=y.field.canonicalString();throw new ue(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}m.push(E)}return new Zo(m,f)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Al(n.firestore);return(function(l,u,d,f,m,y){const E=l.explicitOrderBy;if(m.length>E.length)throw new ue(te.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let T=0;T<m.length;T++){const R=m[T];if(E[T].field.isKeyField()){if(typeof R!="string")throw new ue(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!mI(l)&&R.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const k=l.path.child(Ke.fromString(R));if(!ve.isDocumentKey(k))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const j=new ve(k);C.push(cl(u,j))}else{const k=yO(d,f,R);C.push(k)}}return new Zo(C,y)})(n._query,n.firestore._databaseId,i,e,t,r)}}function vP(n,e,t){if(typeof(t=ke(t))=="string"){if(t==="")throw new ue(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mI(e)&&t.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ke.fromString(t));if(!ve.isDocumentKey(r))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cl(n,new ve(r))}if(t instanceof yt)return cl(n,t._key);throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jg(t)}.`)}function wP(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TO(n,e){const t=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lT{convertValue(e,t="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return da(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[nc].arrayValue?.values?.map((r=>At(r.doubleValue)));return new Yi(t)}convertGeoPoint(e){return new oi(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ry(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mh(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ke.fromString(e);Re(hx(r),9688,{name:e});const i=new Yo(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class f6 extends lT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let jr=class SO extends qh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=SO._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:en("string",jr._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};let vh=class extends jr{data(e={}){return super.data(e)}},ai=class RO{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new el(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new vh(this._firestore,this._userDataWriter,r.key,r,new el(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new el(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new vh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new el(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:p6(u.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=RO._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function p6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}function AO(n,e){return n instanceof jr&&e instanceof jr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ai&&e instanceof ai&&n._firestore===e._firestore&&dO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(n){n=nt(n,yt);const e=nt(n.firestore,Ht);return rO($n(e),n._key).then((t=>uT(e,n,t)))}ai._jsonSchemaVersion="firestore/querySnapshot/1.0",ai._jsonSchema={type:en("string",ai._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class Cl extends lT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function g6(n){n=nt(n,yt);const e=nt(n.firestore,Ht),t=$n(e),r=new Cl(e);return Mj(t,n._key).then((i=>new jr(e,r,n._key,i,new el(i!==null&&i.hasLocalMutations,!0),n.converter)))}function y6(n){n=nt(n,yt);const e=nt(n.firestore,Ht);return rO($n(e),n._key,{source:"server"}).then((t=>uT(e,n,t)))}function _6(n){n=nt(n,Qn);const e=nt(n.firestore,Ht),t=$n(e),r=new Cl(e);return EO(n._query),iO(t,n._query).then((i=>new ai(e,r,n,i)))}function v6(n){n=nt(n,Qn);const e=nt(n.firestore,Ht),t=$n(e),r=new Cl(e);return Fj(t,n._query).then((i=>new ai(e,r,n,i)))}function w6(n){n=nt(n,Qn);const e=nt(n.firestore,Ht),t=$n(e),r=new Cl(e);return iO(t,n._query,{source:"server"}).then((i=>new ai(e,r,n,i)))}function EP(n,e,t){n=nt(n,yt);const r=nt(n.firestore,Ht),i=Ey(n.converter,e,t);return Rf(r,[my(Al(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ct.none())])}function IP(n,e,t,...r){n=nt(n,yt);const i=nt(n.firestore,Ht),s=Al(i);let l;return l=typeof(e=ke(e))=="string"||e instanceof na?nT(s,"updateDoc",n._key,e,t,r):tT(s,"updateDoc",n._key,e),Rf(i,[l.toMutation(n._key,Ct.exists(!0))])}function E6(n){return Rf(nt(n.firestore,Ht),[new Cc(n._key,Ct.none())])}function I6(n,e){const t=nt(n.firestore,Ht),r=Sg(n),i=Ey(n.converter,e);return Rf(t,[my(Al(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ct.exists(!1))]).then((()=>r))}function PO(n,...e){n=ke(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tE(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(tE(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(n instanceof yt)l=nt(n.firestore,Ht),u=Ac(n._key.path),s={next:d=>{e[r]&&e[r](uT(l,n,d))},error:e[r+1],complete:e[r+2]};else{const d=nt(n,Qn);l=nt(d.firestore,Ht),u=d._query;const f=new Cl(l);s={next:m=>{e[r]&&e[r](new ai(l,f,d,m))},error:e[r+1],complete:e[r+2]},EO(n._query)}return(function(f,m,y,E){const C=new hy(E),T=new BI(m,C,y);return f.asyncQueue.enqueueAndForget((async()=>UI(await fc(f),T))),()=>{C.Nu(),f.asyncQueue.enqueueAndForget((async()=>$I(await fc(f),T)))}})($n(l),u,i,s)}function T6(n,e){return Uj($n(n=nt(n,Ht)),tE(e)?e:{next:e})}function Rf(n,e){return(function(r,i){const s=new Rn;return r.asyncQueue.enqueueAndForget((async()=>hj(await YI(r),i,s))),s.promise})($n(n),e)}function uT(n,e,t){const r=t.docs.get(e._key),i=new Cl(n);return new jr(n,i,e._key,r,new el(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R6=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Al(e)}set(e,t,r){this._verifyNotCommitted();const i=Uo(e,this._firestore),s=Ey(i.converter,t,r),l=my(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ct.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Uo(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof na?nT(this._dataReader,"WriteBatch.update",s._key,t,r,i):tT(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uo(e,this._firestore);return this._mutations=this._mutations.concat(new Cc(t._key,Ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Uo(n,e){if((n=ke(n)).firestore!==e)throw new ue(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Al(e)}get(e){const t=Uo(e,this._firestore),r=new f6(this._firestore);return this._transaction.lookup([t._key]).then((i=>{if(!i||i.length!==1)return Ee(24041);const s=i[0];if(s.isFoundDocument())return new qh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new qh(this._firestore,r,t._key,null,t.converter);throw Ee(18433,{doc:s})}))}set(e,t,r){const i=Uo(e,this._firestore),s=Ey(i.converter,t,r),l=my(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=Uo(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof na?nT(this._dataReader,"Transaction.update",s._key,t,r,i):tT(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Uo(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P6=class extends A6{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uo(e,this._firestore),r=new Cl(this._firestore);return super.get(e).then((i=>new jr(this._firestore,r,t._key,i._document,new el(!1,!1),t.converter)))}};function C6(n,e,t){n=nt(n,Ht);const r={...S6,...t};return(function(s){if(s.maxAttempts<1)throw new ue(te.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,l,u){const d=new Rn;return s.asyncQueue.enqueueAndForget((async()=>{const f=await Dj(s);new Oj(s.asyncQueue,f,u,l,d).ju()})),d.promise})($n(n),(i=>e(new P6(n,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(){return new Tf("deleteField")}function k6(){return new JI("serverTimestamp")}function x6(...n){return new XI("arrayUnion",n)}function O6(...n){return new ZI("arrayRemove",n)}function N6(n){return new eT("increment",n)}(function(e,t=!0){(function(i){Rc=i})(Cr),Zi(new Br("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Ht(new A$(r.getProvider("auth-internal")),new b$(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ue(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(f.options.projectId,m)})(l,i),l);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),or(XR,ZR,e),or(XR,ZR,"esm2020")})();const D6="@firebase/firestore-compat",L6="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){if(typeof Uint8Array>"u")throw new ue("unimplemented","Uint8Arrays are not available in this environment.")}function SP(){if(!c5())throw new ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}let CO=class rE{constructor(e){this._delegate=e}static fromBase64String(e){return SP(),new rE(Mn.fromBase64String(e))}static fromUint8Array(e){return TP(),new rE(Mn.fromUint8Array(e))}toBase64(){return SP(),this._delegate.toBase64()}toUint8Array(){return TP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n){return V6(n,["next","error","complete"])}function V6(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{enableIndexedDbPersistence(e,t){return Hj(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Kj(e._delegate)}clearIndexedDbPersistence(e){return Gj(e._delegate)}}class bO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&es("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Bj(this._delegate,e,t,r)}enableNetwork(){return Yj(this._delegate)}disableNetwork(){return Jj(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Z1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Qj(this._delegate)}onSnapshotsInSync(e){return T6(this._delegate,e)}get app(){if(!this._appCompat)throw new ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pc(this,uO(this._delegate,e))}catch(t){throw Kn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ur(this,Sg(this._delegate,e))}catch(t){throw Kn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hn(this,zj(this._delegate,e))}catch(t){throw Kn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return C6(this._delegate,t=>e(new kO(this,t)))}batch(){return $n(this._delegate),new xO(new R6(this._delegate,e=>Rf(this._delegate,e)))}loadBundle(e){return Xj(this._delegate,e)}namedQuery(e){return Zj(this._delegate,e).then(t=>t?new Hn(this,t):null)}}class Iy extends lT{constructor(e){super(),this.firestore=e}convertBytes(e){return new CO(new Mn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ur.forKey(t,this.firestore,null)}}function F6(n){I$(n)}class kO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Iy(e)}get(e){const t=tl(e);return this._delegate.get(t).then(r=>new Hh(this._firestore,new jr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=tl(e);return r?(cT("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=tl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=tl(e);return this._delegate.delete(t),this}}class xO{constructor(e){this._delegate=e}set(e,t,r){const i=tl(e);return r?(cT("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=tl(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=tl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _l{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new vh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=_l.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new _l(e,new Iy(e),t),i.set(t,s)),s}}_l.INSTANCES=new WeakMap;class Ur{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ur(t,new yt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new Ur(t,new yt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new pc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pc(this.firestore,uO(this._delegate,e))}catch(t){throw Kn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof yt?cO(this._delegate,e):!1}set(e,t){t=cT("DocumentReference.set",t);try{return t?EP(this._delegate,e,t):EP(this._delegate,e)}catch(r){throw Kn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?IP(this._delegate,e):IP(this._delegate,e,t,...r)}catch(i){throw Kn(i,"updateDoc()","DocumentReference.update()")}}delete(){return E6(this._delegate)}onSnapshot(...e){const t=OO(e),r=NO(e,i=>new Hh(this.firestore,new jr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PO(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=g6(this._delegate):e?.source==="server"?t=y6(this._delegate):t=m6(this._delegate),t.then(r=>new Hh(this.firestore,new jr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ur(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Kn(n,e,t){return n.message=n.message.replace(e,t),n}function OO(n){for(const e of n)if(typeof e=="object"&&!iE(e))return e;return{}}function NO(n,e){let t;return iE(n[0])?t=n[0]:iE(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Hh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ur(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AO(this._delegate,e._delegate)}}class Kh extends Hh{data(e){const t=this._delegate.data(e);return this._delegate._converter||T$(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Hn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iy(e)}where(e,t,r){try{return new Hn(this.firestore,Do(this._delegate,s6(e,t,r)))}catch(i){throw Kn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hn(this.firestore,Do(this._delegate,o6(e,t)))}catch(r){throw Kn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hn(this.firestore,Do(this._delegate,a6(e)))}catch(t){throw Kn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hn(this.firestore,Do(this._delegate,l6(e)))}catch(t){throw Kn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hn(this.firestore,Do(this._delegate,u6(...e)))}catch(t){throw Kn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hn(this.firestore,Do(this._delegate,c6(...e)))}catch(t){throw Kn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hn(this.firestore,Do(this._delegate,d6(...e)))}catch(t){throw Kn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hn(this.firestore,Do(this._delegate,h6(...e)))}catch(t){throw Kn(t,"endAt()","Query.endAt()")}}isEqual(e){return dO(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=v6(this._delegate):e?.source==="server"?t=w6(this._delegate):t=_6(this._delegate),t.then(r=>new sE(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=OO(e),r=NO(e,i=>new sE(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PO(this._delegate,t,r)}withConverter(e){return new Hn(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class U6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new U6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Kh(this._firestore,r))})}isEqual(e){return AO(this._delegate,e._delegate)}}class pc extends Hn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ur(this.firestore,e):null}doc(e){try{return e===void 0?new Ur(this.firestore,Sg(this._delegate)):new Ur(this.firestore,Sg(this._delegate,e))}catch(t){throw Kn(t,"doc()","CollectionReference.doc()")}}add(e){return I6(this._delegate,e).then(t=>new Ur(this.firestore,t))}isEqual(e){return cO(this._delegate,e._delegate)}withConverter(e){return new pc(this.firestore,e?this._delegate.withConverter(_l.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tl(n){return nt(n,yt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(...e){this._delegate=new na(...e)}static documentId(){return new dT(Pt.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof na?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static serverTimestamp(){const e=k6();return e._methodName="FieldValue.serverTimestamp",new Xa(e)}static delete(){const e=b6();return e._methodName="FieldValue.delete",new Xa(e)}static arrayUnion(...e){const t=x6(...e);return t._methodName="FieldValue.arrayUnion",new Xa(t)}static arrayRemove(...e){const t=O6(...e);return t._methodName="FieldValue.arrayRemove",new Xa(t)}static increment(e){const t=N6(e);return t._methodName="FieldValue.increment",new Xa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={Firestore:bO,GeoPoint:oi,Timestamp:ot,Blob:CO,Transaction:kO,WriteBatch:xO,DocumentReference:Ur,DocumentSnapshot:Hh,Query:Hn,QueryDocumentSnapshot:Kh,QuerySnapshot:sE,CollectionReference:pc,FieldPath:dT,FieldValue:Xa,setLogLevel:F6,CACHE_SIZE_UNLIMITED:qj};function j6(n,e){n.INTERNAL.registerComponent(new Br("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...$6}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(n){j6(n,(e,t)=>new bO(e,t,new M6)),n.registerVersion(D6,L6)}B6(Sc);const Vd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Eu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function DO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W6=z6,q6=DO,LO=new ss("auth","Firebase",DO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new of("@firebase/auth");function H6(n,...e){Ag.logLevel<=ze.WARN&&Ag.warn(`Auth (${Cr}): ${n}`,...e)}function Um(n,...e){Ag.logLevel<=ze.ERROR&&Ag.error(`Auth (${Cr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n,...e){throw fT(n,...e)}function on(n,...e){return fT(n,...e)}function hT(n,e,t){const r={...q6(),[e]:t};return new ss("auth","Firebase",r).create(e,{appName:n.name})}function pn(n){return hT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&An(n,"argument-error"),hT(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fT(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LO.create(n,...e)}function pe(n,e,...t){if(!n)throw fT(e,...t)}function qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Um(e),new Error(e)}function ci(n,e){n||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(){return typeof self<"u"&&self.location?.href||""}function pT(){return RP()==="http:"||RP()==="https:"}function RP(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pT()||BE()||"connection"in navigator)?navigator.onLine:!0}function G6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=Mb()||Wg()}get(){return K6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J6=new Af(3e4,6e4);function $t(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function jt(n,e,t,r,i={}){return MO(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=di({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...s};return Ub()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ks(n.emulatorConfig.host)&&(f.credentials="include"),VO.fetch()(await FO(n,n.config.apiHost,t,u),f)})}async function MO(n,e,t){n._canInitEmulator=!1;const r={...Q6,...e};try{const i=new Z6(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw oh(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw oh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw oh(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw hT(n,m,f);An(n,m)}}catch(i){if(i instanceof fn)throw i;An(n,"network-request-failed",{message:String(i)})}}async function Xs(n,e,t,r,i={}){const s=await jt(n,e,t,r,i);return"mfaPendingCredential"in s&&An(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function FO(n,e,t,r){const i=`${e}${t}?${r}`,s=n,l=s.config.emulator?mT(n.config,i):`${n.config.apiScheme}://${i}`;return Y6.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function X6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),J6.get())})}}function oh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=on(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){return n!==void 0&&n.getResponse!==void 0}function PP(n){return n!==void 0&&n.enterprise!==void 0}class UO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return X6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eB(n){return(await jt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function $O(n,e){return jt(n,"GET","/v2/recaptchaConfig",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(n,e){return jt(n,"POST","/v1/accounts:delete",e)}async function nB(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function Pg(n,e){return jt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rB(n,e=!1){const t=ke(n),r=await t.getIdToken(e),i=Ty(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:wh(Kv(i.auth_time)),issuedAtTime:wh(Kv(i.iat)),expirationTime:wh(Kv(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Kv(n){return Number(n)*1e3}function Ty(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Um("JWT malformed, contained fewer than 3 sections"),null;try{const i=jg(t);return i?JSON.parse(i):(Um("Failed to decode base64 JWT payload"),null)}catch(i){return Um("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CP(n){const e=Ty(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fn&&iB(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function iB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(n){const e=n.auth,t=await n.getIdToken(),r=await Ws(n,Pg(e,{idToken:t}));pe(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?jO(i.providerUserInfo):[],l=aB(n.providerData,s),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!l?.length,f=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new oE(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function oB(n){const e=ke(n);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jO(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(n,e){const t=await MO(n,{},async()=>{const r=di({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=await FO(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return n.emulatorConfig&&Ks(n.emulatorConfig.host)&&(d.credentials="include"),VO.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uB(n,e){return jt(n,"POST","/v2/accounts:revokeToken",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=CP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await lB(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Bu;return r&&(pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new sB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ws(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rB(this,e)}reload(){return oB(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Je(this.auth.app))return Promise.reject(pn(this.auth));const e=await this.getIdToken();return await Ws(this,tB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:C,providerData:T,stsTokenManager:R}=t;pe(y&&R,e,"internal-error");const k=Bu.fromJSON(this.name,R);pe(typeof y=="string",e,"internal-error"),Lo(r,e.name),Lo(i,e.name),pe(typeof E=="boolean",e,"internal-error"),pe(typeof C=="boolean",e,"internal-error"),Lo(s,e.name),Lo(l,e.name),Lo(u,e.name),Lo(d,e.name),Lo(f,e.name),Lo(m,e.name);const j=new si({uid:y,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:C,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:k,createdAt:f,lastLoginAt:m});return T&&Array.isArray(T)&&(j.providerData=T.map(V=>({...V}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new Bu;i.updateFromServerResponse(t);const s=new si({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jO(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new Bu;u.updateFromIdToken(r);const d=new si({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new oE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;function Tr(n){ci(n instanceof Function,"Expected a class definition");let e=bP.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BO.type="NONE";const mc=BO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n,e,t){return`firebase:${n}:${e}:${t}`}class zu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ol(this.userKey,i.apiKey,s),this.fullPersistenceKey=ol("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pg(this.auth,{idToken:e}).catch(()=>{});return t?si._fromGetAccountInfoResponse(this.auth,t,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zu(Tr(mc),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Tr(mc);const l=ol(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const E=await Pg(e,{idToken:m}).catch(()=>{});if(!E)break;y=await si._fromGetAccountInfoResponse(e,E,m)}else y=si._fromJSON(e,m);f!==s&&(u=y),s=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new zu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new zu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KO(e))return"Blackberry";if(GO(e))return"Webos";if(WO(e))return"Safari";if((e.includes("chrome/")||qO(e))&&!e.includes("edge/"))return"Chrome";if(Pf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zO(n=Qe()){return/firefox\//i.test(n)}function WO(n=Qe()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qO(n=Qe()){return/crios\//i.test(n)}function HO(n=Qe()){return/iemobile/i.test(n)}function Pf(n=Qe()){return/android/i.test(n)}function KO(n=Qe()){return/blackberry/i.test(n)}function GO(n=Qe()){return/webos/i.test(n)}function Cf(n=Qe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cB(n=Qe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function dB(n=Qe()){return Cf(n)&&!!window.navigator?.standalone}function hB(){return zE()&&document.documentMode===10}function QO(n=Qe()){return Cf(n)||Pf(n)||GO(n)||KO(n)||/windows phone/i.test(n)||HO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n,e=[]){let t;switch(n){case"Browser":t=kP(Qe());break;case"Worker":t=`${kP(Qe())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(n,e={}){return jt(n,"GET","/v2/passwordPolicy",$t(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=6;class gB{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mB,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xP(this),this.idTokenSubscription=new xP(this),this.beforeStateQueue=new fB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pg(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Je(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Je(this.app))return Promise.reject(pn(this));const t=e?ke(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Je(this.app)?Promise.reject(pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Je(this.app)?Promise.reject(pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pB(this),t=new gB(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ss("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await uB(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tr(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await zu.create(this,[Tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&H6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Nt(n){return ke(n)}class xP{constructor(e){this.auth=e,this.observer=null,this.addObserver=WE(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _B(n){bf=n}function gT(n){return bf.loadJS(n)}function vB(){return bf.recaptchaV2Script}function wB(){return bf.recaptchaEnterpriseScript}function EB(){return bf.gapiScript}function JO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=500,TB=6e4,hm=1e12;class SB{constructor(e){this.auth=e,this.counter=hm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new PB(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||hm;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||hm;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||hm;return this._widgets.get(t)?.execute(),""}}class RB{constructor(){this.enterprise=new AB}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class AB{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class PB{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=CB(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},TB)},IB))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function CB(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const bB="recaptcha-enterprise",Eh="NO_RECAPTCHA";class XO{constructor(e){this.type=bB,this.auth=Nt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{$O(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new UO(d);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;PP(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(Eh)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RB().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&PP(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=wB();d.length!==0&&(d+=u),gT(d).then(()=>{i(u,s,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Md(n,e,t,r=!1,i=!1){const s=new XO(n);let l;if(i)l=Eh;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function qo(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Md(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Md(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const s=await Md(n,e,t);return r(n,s).catch(async l=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const u=await Md(n,e,t,!1,!0);return r(n,u)}return Promise.reject(l)})}else{const s=await Md(n,e,t,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}async function kB(n){const e=Nt(n),t=await $O(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new UO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new XO(e).verify()}function xB(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Tr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function OB(n,e,t){const r=Nt(n);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=ZO(e),{host:l,port:u}=NB(e),d=u===null?"":`:${u}`,f={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(li(f,r.config.emulator)&&li(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ks(l)?($E(`${s}//${l}${d}`),jE("Auth",!0)):i||DB()}function ZO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NB(n){const e=ZO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OP(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:OP(l)}}}function OP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DB(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,t){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(n,e){return jt(n,"POST","/v1/accounts:resetPassword",$t(n,e))}async function LB(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function VB(n,e){return jt(n,"POST","/v1/accounts:signUp",e)}async function MB(n,e){return jt(n,"POST","/v1/accounts:update",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FB(n,e){return Xs(n,"POST","/v1/accounts:signInWithPassword",$t(n,e))}async function Sy(n,e){return jt(n,"POST","/v1/accounts:sendOobCode",$t(n,e))}async function UB(n,e){return Sy(n,e)}async function $B(n,e){return Sy(n,e)}async function jB(n,e){return Sy(n,e)}async function BB(n,e){return Sy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(n,e){return Xs(n,"POST","/v1/accounts:signInWithEmailLink",$t(n,e))}async function WB(n,e){return Xs(n,"POST","/v1/accounts:signInWithEmailLink",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Dc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Yh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Yh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qo(e,t,"signInWithPassword",FB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zB(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qo(e,r,"signUpPassword",VB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return WB(e,{idToken:t,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(n,e){return Xs(n,"POST","/v1/accounts:signInWithIdp",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="http://localhost";class ns extends Dc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):An("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const l=new ns(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Fs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fs(e,t)}buildRequest(){const e={requestUri:qB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=di(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n,e){return jt(n,"POST","/v1/accounts:sendVerificationCode",$t(n,e))}async function HB(n,e){return Xs(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,e))}async function KB(n,e){const t=await Xs(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,e));if(t.temporaryProof)throw oh(n,"account-exists-with-different-credential",t);return t}const GB={USER_NOT_FOUND:"user-not-found"};async function QB(n,e){const t={...e,operation:"REAUTH"};return Xs(n,"POST","/v1/accounts:signInWithPhoneNumber",$t(n,t),GB)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Dc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new al({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new al({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return HB(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return KB(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return QB(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new al({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JB(n){const e=ii(Bi(n)).link,t=e?ii(Bi(e)).deep_link_id:null,r=ii(Bi(n)).deep_link_id;return(r?ii(Bi(r)).link:null)||r||t||e||n}class Ry{constructor(e){const t=ii(Bi(e)),r=t.apiKey??null,i=t.oobCode??null,s=YB(t.mode??null);pe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=JB(e);try{return new Ry(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,t){return Yh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ry.parseLink(t);return pe(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wu extends Lc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return pe("providerId"in t&&"signInMethod"in t,"argument-error"),ns._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return pe(e.idToken||e.accessToken,"argument-error"),ns._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Wu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new Wu(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Lc{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ns._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Lc{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="http://localhost";class gc extends Dc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Fs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new gc(r,s)}static _create(e,t){return new gc(e,t)}buildRequest(){return{requestUri:XB,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="saml.";class Cg extends Zs{constructor(e){pe(e.startsWith(ZB),"argument-error"),super(e)}static credentialFromResult(e){return Cg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gc.fromJSON(e);return pe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return gc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Lc{constructor(){super("twitter.com")}static credential(e,t){return ns._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(n,e){return Xs(n,"POST","/v1/accounts:signUp",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await si._fromIdTokenResponse(e,r,i),l=DP(r);return new zr({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=DP(r);return new zr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function DP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(n){if(Je(n.app))return Promise.reject(pn(n));const e=Nt(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new zr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await tN(e,{returnSecureToken:!0}),r=await zr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg extends fn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new bg(e,t,r,i)}}function nN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bg._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(n,e){const t=ke(n);await Ay(!0,t,e);const{providerUserInfo:r}=await nB(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=rN(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function yT(n,e,t=!1){const r=await Ws(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zr._forOperation(n,"link",r)}async function Ay(n,e,t){await Qh(e);const r=rN(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";pe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e,t=!1){const{auth:r}=n;if(Je(r.app))return Promise.reject(pn(r));const i="reauthenticate";try{const s=await Ws(n,nN(r,i,e,n),t);pe(s.idToken,r,"internal-error");const l=Ty(s.idToken);pe(l,r,"internal-error");const{sub:u}=l;return pe(n.uid===u,r,"user-mismatch"),zr._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&An(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(n,e,t=!1){if(Je(n.app))return Promise.reject(pn(n));const r="signIn",i=await nN(n,r,e),s=await zr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Py(n,e){return sN(Nt(n),e)}async function oN(n,e){const t=ke(n);return await Ay(!1,t,e.providerId),yT(t,e)}async function aN(n,e){return iN(ke(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(n,e){return Xs(n,"POST","/v1/accounts:signInWithCustomToken",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(n,e){if(Je(n.app))return Promise.reject(pn(n));const t=Nt(n),r=await n9(t,{token:e,returnSecureToken:!0}),i=await zr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?_T._fromServerResponse(e,t):"totpInfo"in t?vT._fromServerResponse(e,t):An(e,"internal-error")}}class _T extends kf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new _T(t)}}class vT extends kf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new vT(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,e,t){pe(t.url?.length>0,n,"invalid-continue-uri"),pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),pe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(pe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(pe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(n){const e=Nt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i9(n,e,t){const r=Nt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Cy(r,i,t),await qo(r,i,"getOobCode",$B,"EMAIL_PASSWORD_PROVIDER")}async function s9(n,e,t){await eN(ke(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wT(n),r})}async function o9(n,e){await MB(ke(n),{oobCode:e})}async function lN(n,e){const t=ke(n),r=await eN(t,{oobCode:e}),i=r.requestType;switch(pe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(r.mfaInfo,t,"internal-error");default:pe(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=kf._fromServerResponse(Nt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function a9(n,e){const{data:t}=await lN(ke(n),e);return t.email}async function l9(n,e,t){if(Je(n.app))return Promise.reject(pn(n));const r=Nt(n),l=await qo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tN,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&wT(n),d}),u=await zr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function u9(n,e,t){return Je(n.app)?Promise.reject(pn(n)):Py(ke(n),pa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(n,e,t){const r=Nt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){pe(u.handleCodeInApp,r,"argument-error"),u&&Cy(r,l,u)}s(i,t),await qo(r,i,"getOobCode",jB,"EMAIL_PASSWORD_PROVIDER")}function d9(n,e){return Ry.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function h9(n,e,t){if(Je(n.app))return Promise.reject(pn(n));const r=ke(n),i=pa.credentialWithLink(e,t||Gh());return pe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Py(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(n,e){return jt(n,"POST","/v1/accounts:createAuthUri",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(n,e){const t=pT()?Gh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await f9(ke(n),r);return i||[]}async function m9(n,e){const t=ke(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Cy(t.auth,i,e);const{email:s}=await UB(t.auth,i);s!==n.email&&await n.reload()}async function g9(n,e,t){const r=ke(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Cy(r.auth,s,t);const{email:l}=await BB(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(n,e){return jt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ke(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ws(r,y9(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function v9(n,e){const t=ke(n);return Je(t.auth.app)?Promise.reject(pn(t.auth)):uN(t,e,null)}function w9(n,e){return uN(ke(n),null,e)}async function uN(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await Ws(n,LB(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const i=Ty(n.idToken)?.firebase?.sign_in_provider;if(i){const s=i!=="anonymous"&&i!=="custom"?i:null;return new qu(r,s)}}if(!e)return null;switch(e){case"facebook.com":return new I9(r,t);case"github.com":return new T9(r,t);case"google.com":return new S9(r,t);case"twitter.com":return new R9(r,t,n.screenName||null);case"custom":case"anonymous":return new qu(r,null);default:return new qu(r,e,t)}}class qu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class cN extends qu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class I9 extends qu{constructor(e,t){super(e,"facebook.com",t)}}class T9 extends cN{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class S9 extends qu{constructor(e,t){super(e,"google.com",t)}}class R9 extends cN{constructor(e,t,r){super(e,"twitter.com",t,r)}}function A9(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:E9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new nl("enroll",e,t)}static _fromMfaPendingCredential(e){return new nl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return nl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return nl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Nt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>kf._fromServerResponse(r,u));pe(i.mfaPendingCredential,r,"internal-error");const l=nl._fromMfaPendingCredential(i.mfaPendingCredential);return new ET(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:d.idToken,refreshToken:d.refreshToken};switch(t.operationType){case"signIn":const m=await zr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return pe(t.user,r,"internal-error"),zr._forOperation(t.user,t.operationType,f);default:An(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function P9(n,e){const t=ke(n),r=e;return pe(e.customData.operationType,t,"argument-error"),pe(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),ET._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:start",$t(n,e))}function C9(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",$t(n,e))}function b9(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(n,e))}class IT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>kf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new IT(e)}async getSession(){return nl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await Ws(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ws(this.user,b9(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Gv=new WeakMap;function k9(n){const e=ke(n);return Gv.has(e)||Gv.set(e,IT._fromUser(e)),Gv.get(e)}const kg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kg,"1"),this.storage.removeItem(kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=1e3,O9=10;class hN extends dN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);hB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},x9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hN.type="LOCAL";const TT=hN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends dN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fN.type="SESSION";const vl=fN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new by(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,s)),d=await N9(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}by.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const f=xf("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const E=y;if(E.data.eventId===f)switch(E.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(E.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function L9(n){Xt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function V9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M9(){return navigator?.serviceWorker?.controller||null}function F9(){return ST()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="firebaseLocalStorageDb",U9=1,xg="firebaseLocalStorage",mN="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ky(n,e){return n.transaction([xg],e?"readwrite":"readonly").objectStore(xg)}function $9(){const n=indexedDB.deleteDatabase(pN);return new Of(n).toPromise()}function aE(){const n=indexedDB.open(pN,U9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xg,{keyPath:mN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xg)?e(r):(r.close(),await $9(),e(await aE()))})})}async function VP(n,e,t){const r=ky(n,!0).put({[mN]:e,value:t});return new Of(r).toPromise()}async function j9(n,e){const t=ky(n,!1).get(e),r=await new Of(t).toPromise();return r===void 0?null:r.value}function MP(n,e){const t=ky(n,!0).delete(e);return new Of(t).toPromise()}const B9=800,z9=3;class gN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>z9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=by._getInstance(F9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V9(),!this.activeServiceWorker)return;this.sender=new D9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aE();return await VP(e,kg,"1"),await MP(e,kg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>VP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>j9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>MP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ky(i,!1).getAll();return new Of(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gN.type="LOCAL";const Jh=gN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:start",$t(n,e))}function W9(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:finalize",$t(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=JO("rcb"),q9=new Af(3e4,6e4);class H9{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xt().grecaptcha?.render}load(e,t=""){return pe(K9(t),e,"argument-error"),this.shouldResolveImmediately(t)&&AP(Xt().grecaptcha)?Promise.resolve(Xt().grecaptcha):new Promise((r,i)=>{const s=Xt().setTimeout(()=>{i(on(e,"network-request-failed"))},q9.get());Xt()[Qv]=()=>{Xt().clearTimeout(s),delete Xt()[Qv];const u=Xt().grecaptcha;if(!u||!AP(u)){i(on(e,"internal-error"));return}const d=u.render;u.render=(f,m)=>{const y=d(f,m);return this.counter++,y},this.hostLanguage=t,r(u)};const l=`${vB()}?${di({onload:Qv,render:"explicit",hl:t})}`;gT(l).catch(()=>{clearTimeout(s),i(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Xt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function K9(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class G9{async load(e){return new SB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="recaptcha",Q9={theme:"light",type:"image"};let Y9=class{constructor(e,t,r={...Q9}){this.parameters=r,this.type=Ih,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nt(e),this.isInvisible=this.parameters.size==="invisible",pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;pe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new G9:new H9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Xt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pe(pT()&&!ST(),this.auth,"internal-error"),await J9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await eB(this.auth);pe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function J9(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=al._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function X9(n,e,t){if(Je(n.app))return Promise.reject(pn(n));const r=Nt(n),i=await xy(r,e,ke(t));return new RT(i,s=>Py(r,s))}async function Z9(n,e,t){const r=ke(n);await Ay(!1,r,"phone");const i=await xy(r.auth,e,ke(t));return new RT(i,s=>oN(r,s))}async function ez(n,e,t){const r=ke(n);if(Je(r.auth.app))return Promise.reject(pn(r.auth));const i=await xy(r.auth,e,ke(t));return new RT(i,s=>aN(r,s))}async function xy(n,e,t){if(!n._getRecaptchaConfig())try{await kB(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const i=r.session;if("phoneNumber"in r){pe(i.type==="enroll",n,"internal-error");const s={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await qo(n,s,"mfaSmsEnrollment",async(f,m)=>{if(m.phoneEnrollmentInfo.captchaResponse===Eh){pe(t?.type===Ih,f,"argument-error");const y=await Yv(f,m,t);return LP(f,y)}return LP(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{pe(i.type==="signin",n,"internal-error");const s=r.multiFactorHint?.uid||r.multiFactorUid;pe(s,n,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await qo(n,l,"mfaSmsSignIn",async(m,y)=>{if(y.phoneSignInInfo.captchaResponse===Eh){pe(t?.type===Ih,m,"argument-error");const E=await Yv(m,y,t);return FP(m,E)}return FP(m,y)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await qo(n,i,"sendVerificationCode",async(d,f)=>{if(f.captchaResponse===Eh){pe(t?.type===Ih,d,"argument-error");const m=await Yv(d,f,t);return NP(d,m)}return NP(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t?._reset()}}async function tz(n,e){const t=ke(n);if(Je(t.auth.app))return Promise.reject(pn(t.auth));await yT(t,e)}async function Yv(n,e,t){pe(t.type===Ih,n,"argument-error");const r=await t.verify();pe(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl=class $m{constructor(e){this.providerId=$m.PROVIDER_ID,this.auth=Nt(e)}verifyPhoneNumber(e,t){return xy(this.auth,e,ke(t))}static credential(e,t){return al._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $m.credentialFromTaggedObject(t)}static credentialFromError(e){return $m.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?al._fromTokenResponse(t,r):null}};wl.PROVIDER_ID="phone";wl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n,e){return e?Tr(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Dc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nz(n){return sN(n.auth,new AT(n),n.bypassAuthState)}function rz(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),iN(t,new AT(n),n.bypassAuthState)}async function iz(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),yT(t,new AT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nz;case"linkViaPopup":case"linkViaRedirect":return iz;case"reauthViaPopup":case"reauthViaRedirect":return rz;default:An(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=new Af(2e3,1e4);async function oz(n,e,t){if(Je(n.app))return Promise.reject(on(n,"operation-not-supported-in-this-environment"));const r=Nt(n);Nc(n,e,Zs);const i=bl(r,t);return new Ds(r,"signInViaPopup",e,i).executeNotNull()}async function az(n,e,t){const r=ke(n);if(Je(r.auth.app))return Promise.reject(on(r.auth,"operation-not-supported-in-this-environment"));Nc(r.auth,e,Zs);const i=bl(r.auth,t);return new Ds(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function lz(n,e,t){const r=ke(n);Nc(r.auth,e,Zs);const i=bl(r.auth,t);return new Ds(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ds extends yN{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sz.get())};e()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="pendingRedirect",Th=new Map;class cz extends yN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await dz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dz(n,e){const t=vN(e),r=_N(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function PT(n,e){return _N(n)._set(vN(e),"true")}function hz(){Th.clear()}function CT(n,e){Th.set(n._key(),e)}function _N(n){return Tr(n._redirectPersistence)}function vN(n){return ol(uz,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(n,e,t){return pz(n,e,t)}async function pz(n,e,t){if(Je(n.app))return Promise.reject(pn(n));const r=Nt(n);Nc(n,e,Zs),await r._initializationPromise;const i=bl(r,t);return await PT(i,r),i._openRedirect(r,e,"signInViaRedirect")}function mz(n,e,t){return gz(n,e,t)}async function gz(n,e,t){const r=ke(n);if(Nc(r.auth,e,Zs),Je(r.auth.app))return Promise.reject(pn(r.auth));await r.auth._initializationPromise;const i=bl(r.auth,t);await PT(i,r.auth);const s=await wN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function yz(n,e,t){return _z(n,e,t)}async function _z(n,e,t){const r=ke(n);Nc(r.auth,e,Zs),await r.auth._initializationPromise;const i=bl(r.auth,t);await Ay(!1,r,e.providerId),await PT(i,r.auth);const s=await wN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function vz(n,e){return await Nt(n)._initializationPromise,Oy(n,e,!1)}async function Oy(n,e,t=!1){if(Je(n.app))return Promise.reject(pn(n));const r=Nt(n),i=bl(r,e),l=await new cz(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function wN(n){const e=xf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=600*1e3;class EN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ez(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!IN(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(on(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wz&&this.cachedEventUids.clear(),this.cachedEventUids.has(UP(e))}saveEventToCache(e){this.cachedEventUids.add(UP(e)),this.lastProcessedEventTime=Date.now()}}function UP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ez(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e={}){return jt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tz=/^https?/;async function Sz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TN(n);for(const t of e)try{if(Rz(t))return}catch{}An(n,"unauthorized-domain")}function Rz(n){const e=Gh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!Tz.test(t))return!1;if(Iz.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new Af(3e4,6e4);function $P(){const n=Xt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Pz(n){return new Promise((e,t)=>{function r(){$P(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$P(),t(on(n,"network-request-failed"))},timeout:Az.get()})}if(Xt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xt().gapi?.load)r();else{const i=JO("iframefcb");return Xt()[i]=()=>{gapi.load?r():t(on(n,"network-request-failed"))},gT(`${EB()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw jm=null,e})}let jm=null;function Cz(n){return jm=jm||Pz(n),jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new Af(5e3,15e3),kz="__/auth/iframe",xz="emulator/auth/iframe",Oz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dz(n){const e=n.config;pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mT(e,xz):`https://${n.config.authDomain}/${kz}`,r={apiKey:e.apiKey,appName:n.name,v:Cr},i=Nz.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${di(r).slice(1)}`}async function Lz(n){const e=await Cz(n),t=Xt().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:Dz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=on(n,"network-request-failed"),u=Xt().setTimeout(()=>{s(l)},bz.get());function d(){Xt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mz=500,Fz=600,Uz="_blank",$z="http://localhost";class jP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jz(n,e,t,r=Mz,i=Fz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...Vz,width:r.toString(),height:i.toString(),top:s,left:l},f=Qe().toLowerCase();t&&(u=qO(f)?Uz:t),zO(f)&&(e=e||$z,d.scrollbars="yes");const m=Object.entries(d).reduce((E,[C,T])=>`${E}${C}=${T},`,"");if(dB(f)&&u!=="_self")return Bz(e||"",u),new jP(null);const y=window.open(e||"",u,m);pe(y,n,"popup-blocked");try{y.focus()}catch{}return new jP(y)}function Bz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="__/auth/handler",Wz="emulator/auth/handler",qz=encodeURIComponent("fac");async function lE(n,e,t,r,i,s){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cr,eventId:i};if(e instanceof Zs){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Bb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries(s||{}))l[m]=y}if(e instanceof Lc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${qz}=${encodeURIComponent(d)}`:"";return`${Hz(n)}?${di(u).slice(1)}${f}`}function Hz({config:n}){return n.emulator?mT(n,Wz):`https://${n.authDomain}/${zz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="webStorageSupport";class Kz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vl,this._completeRedirectFn=Oy,this._overrideRedirectResult=CT}async _openPopup(e,t,r,i){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await lE(e,t,r,Gh(),i);return jz(e,s,xf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await lE(e,t,r,Gh(),i);return L9(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Lz(e),r=new EN(e);return t.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jv,{type:Jv},i=>{const s=i?.[0]?.[Jv];s!==void 0&&t(!!s),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QO()||WO()||Cf()}}const Gz=Kz;class Qz{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return qi("unexpected MultiFactorSessionType")}}}class bT extends Qz{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new bT(e)}_finalizeEnroll(e,t,r){return C9(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return W9(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class SN{constructor(){}static assertion(e){return bT._fromCredential(e)}}SN.FACTOR_ID="phone";var BP="@firebase/auth",zP="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xz(n){Zi(new Br("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YO(n)},f=new yB(r,i,s,d);return xB(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zi(new Br("auth-internal",e=>{const t=Nt(e.getProvider("auth").getImmediate());return(r=>new Yz(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(BP,zP,Jz(n)),or(BP,zP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=300;UE("authIdTokenMaxAge");function eW(){return document.getElementsByTagName("head")?.[0]??document}_B({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=on("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",eW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xz("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=2e3;async function nW(n,e,t){const{BuildInfo:r}=El();ci(e.sessionId,"AuthEvent did not contain a session ID");const i=await aW(e.sessionId),s={};return Cf()?s.ibi=r.packageName:Pf()?s.apn=r.packageName:An(n,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,lE(n,t,e.type,void 0,e.eventId??void 0,s)}async function rW(n){const{BuildInfo:e}=El(),t={};Cf()?t.iosBundleId=e.packageName:Pf()?t.androidPackageName=e.packageName:An(n,"operation-not-supported-in-this-environment"),await TN(n,t)}function iW(n){const{cordova:e}=El();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,cB()?"_blank":"_system","location=yes"),t(i)})})}async function sW(n,e,t){const{cordova:r}=El();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){s();const y=r.plugins.browsertab?.close;typeof y=="function"&&y(),typeof t?.close=="function"&&t.close()}function f(){u||(u=window.setTimeout(()=>{l(on(n,"redirect-cancelled-by-user"))},tW))}function m(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Pf()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function oW(n){const e=El();pe(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function aW(n){const e=lW(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function lW(n){if(ci(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=20;class cW extends EN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function dW(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:pW(),postBody:null,tenantId:n.tenantId,error:on(n,"no-auth-event")}}function hW(n,e){return uE()._set(cE(n),e)}async function WP(n){const e=await uE()._get(cE(n));return e&&await uE()._remove(cE(n)),e}function fW(n,e){const t=gW(e);if(t.includes("/__/auth/callback")){const r=Bm(t),s=(r.firebaseError?mW(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],l=s?on(s):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function pW(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<uW;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function uE(){return Tr(TT)}function cE(n){return ol("authEvent",n.config.apiKey,n.name)}function mW(n){try{return JSON.parse(n)}catch{return null}}function gW(n){const e=Bm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Bm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Bm(i).link||i||r||t||n}function Bm(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return ii(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=500;class _W{constructor(){this._redirectPersistence=vl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Oy,this._overrideRedirectResult=CT}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new cW(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){An(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){oW(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),hz(),await this._originValidation(e);const l=dW(e,r,i);await hW(e,l);const u=await nW(e,l,t),d=await iW(u);return sW(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rW(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=El(),l=setTimeout(async()=>{await WP(e),t.onEvent(qP())},yW),u=async m=>{clearTimeout(l);const y=await WP(e);let E=null;y&&m?.url&&(E=fW(y,m.url)),t.onEvent(E||qP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,f=`${s.packageName.toLowerCase()}://`;El().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&u({url:m}),typeof d=="function")try{d(m)}catch(y){console.error(y)}}}}const vW=_W;function qP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(n,e){Nt(n)._logFramework(e)}var EW="@firebase/auth-compat",IW="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=1e3;function Sh(){return self?.location?.protocol||null}function SW(){return Sh()==="http:"||Sh()==="https:"}function RN(n=Qe()){return!!((Sh()==="file:"||Sh()==="ionic:"||Sh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function RW(){return Wg()||zg()}function AW(){return zE()&&document?.documentMode===11}function PW(n=Qe()){return/Edge\/\d+/.test(n)}function CW(n=Qe()){return AW()||PW(n)}function AN(){try{const n=self.localStorage,e=xf();if(n)return n.setItem(e,"1"),n.removeItem(e),CW()?Ch():!0}catch{return kT()&&Ch()}return!1}function kT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xv(){return(SW()||BE()||RN())&&!RW()&&AN()&&!kT()}function PN(){return RN()&&typeof document<"u"}async function bW(){return PN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},TW);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function kW(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={LOCAL:"local",NONE:"none",SESSION:"session"},Fd=pe,CN="persistence";function xW(n,e){if(Fd(Object.values(Er).includes(e),n,"invalid-persistence-type"),Wg()){Fd(e!==Er.SESSION,n,"unsupported-persistence-type");return}if(zg()){Fd(e===Er.NONE,n,"unsupported-persistence-type");return}if(kT()){Fd(e===Er.NONE||e===Er.LOCAL&&Ch(),n,"unsupported-persistence-type");return}Fd(e===Er.NONE||AN(),n,"unsupported-persistence-type")}async function dE(n){await n._initializationPromise;const e=bN(),t=ol(CN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function OW(n,e){const t=bN();if(!t)return[];const r=ol(CN,n,e);switch(t.getItem(r)){case Er.NONE:return[mc];case Er.LOCAL:return[Jh,vl];case Er.SESSION:return[vl];default:return[]}}function bN(){try{return kW()?.sessionStorage||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=pe;class $o{constructor(){this.browserResolver=Tr(Gz),this.cordovaResolver=Tr(vW),this.underlyingResolver=null,this._redirectPersistence=vl,this._completeRedirectFn=Oy,this._overrideRedirectResult=CT}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return PN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return NW(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await bW();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){return n.unwrap()}function DW(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(n){return xN(n)}function VW(n,e){const t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new MW(n,P9(n,e))}else if(t){const r=xN(e),i=e;r&&(i.credential=r,i.tenantId=t.tenantId||void 0,i.email=t.email||void 0,i.phoneNumber=t.phoneNumber||void 0)}}function xN(n){const{_tokenResponse:e}=n instanceof fn?n.customData:n;if(!e)return null;if(!(n instanceof fn)&&"temporaryProof"in e&&"phoneNumber"in e)return wl.credentialFromResult(n);const t=e.providerId;if(!t||t===Vd.PASSWORD)return null;let r;switch(t){case Vd.GOOGLE:r=Ui;break;case Vd.FACEBOOK:r=Fi;break;case Vd.GITHUB:r=$i;break;case Vd.TWITTER:r=ji;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?gc._create(t,u):ns._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new Wu(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof fn?r.credentialFromError(n):r.credentialFromResult(n)}function nr(n,e){return e.catch(t=>{throw t instanceof fn&&VW(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:LW(t),additionalUserInfo:A9(t),user:Ls.getOrCreate(i)}})}async function hE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>nr(n,t.confirm(r))}}class MW{constructor(e,t){this.resolver=t,this.auth=DW(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return nr(kN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._delegate=e,this.multiFactor=k9(e)}static getOrCreate(e){return Ls.USER_MAP.has(e)||Ls.USER_MAP.set(e,new Ls(e)),Ls.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return nr(this.auth,oN(this._delegate,e))}async linkWithPhoneNumber(e,t){return hE(this.auth,Z9(this._delegate,e,t))}async linkWithPopup(e){return nr(this.auth,lz(this._delegate,e,$o))}async linkWithRedirect(e){return await dE(Nt(this.auth)),yz(this._delegate,e,$o)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return nr(this.auth,aN(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return hE(this.auth,ez(this._delegate,e,t))}reauthenticateWithPopup(e){return nr(this.auth,az(this._delegate,e,$o))}async reauthenticateWithRedirect(e){return await dE(Nt(this.auth)),mz(this._delegate,e,$o)}sendEmailVerification(e){return m9(this._delegate,e)}async unlink(e){return await t9(this._delegate,e),this}updateEmail(e){return v9(this._delegate,e)}updatePassword(e){return w9(this._delegate,e)}updatePhoneNumber(e){return tz(this._delegate,e)}updateProfile(e){return _9(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return g9(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=pe;let fE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ud(r,"invalid-api-key",{appName:e.name}),Ud(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?$o:void 0;this._delegate=t.initialize({options:{persistence:FW(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(W6),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){OB(this._delegate,e,t)}applyActionCode(e){return o9(this._delegate,e)}checkActionCode(e){return lN(this._delegate,e)}confirmPasswordReset(e,t){return s9(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return nr(this._delegate,l9(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return p9(this._delegate,e)}isSignInWithEmailLink(e){return d9(this._delegate,e)}async getRedirectResult(){Ud(Xv(),this._delegate,"operation-not-supported-in-this-environment");const e=await vz(this._delegate,$o);return e?nr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){wW(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=HP(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=HP(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return c9(this._delegate,e,t)}sendPasswordResetEmail(e,t){return i9(this._delegate,e,t||void 0)}async setPersistence(e){xW(this._delegate,e);let t;switch(e){case Er.SESSION:t=vl;break;case Er.LOCAL:t=await Tr(Jh)._isAvailable()?Jh:TT;break;case Er.NONE:t=mc;break;default:return An("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return nr(this._delegate,e9(this._delegate))}signInWithCredential(e){return nr(this._delegate,Py(this._delegate,e))}signInWithCustomToken(e){return nr(this._delegate,r9(this._delegate,e))}signInWithEmailAndPassword(e,t){return nr(this._delegate,u9(this._delegate,e,t))}signInWithEmailLink(e,t){return nr(this._delegate,h9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return hE(this._delegate,X9(this._delegate,e,t))}async signInWithPopup(e){return Ud(Xv(),this._delegate,"operation-not-supported-in-this-environment"),nr(this._delegate,oz(this._delegate,e,$o))}async signInWithRedirect(e){return Ud(Xv(),this._delegate,"operation-not-supported-in-this-environment"),await dE(this._delegate),fz(this._delegate,e,$o)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return a9(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};fE.Persistence=Er;function HP(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&Ls.getOrCreate(l)),error:e,complete:t}}function FW(n,e){const t=OW(n,e);if(typeof self<"u"&&!t.includes(Jh)&&t.push(Jh),typeof window<"u")for(const r of[TT,vl])t.includes(r)||t.push(r);return t.includes(mc)||t.push(mc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static credential(e,t){return wl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new wl(kN(Sc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}xT.PHONE_SIGN_IN_METHOD=wl.PHONE_SIGN_IN_METHOD;xT.PROVIDER_ID=wl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=pe;class $W{constructor(e,t,r=Sc.app()){UW(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Y9(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="auth-compat";function BW(n){n.INTERNAL.registerComponent(new Br(jW,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new fE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Eu.EMAIL_SIGNIN,PASSWORD_RESET:Eu.PASSWORD_RESET,RECOVER_EMAIL:Eu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Eu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Eu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Eu.VERIFY_EMAIL}},EmailAuthProvider:pa,FacebookAuthProvider:Fi,GithubAuthProvider:$i,GoogleAuthProvider:Ui,OAuthProvider:Wu,SAMLAuthProvider:Cg,PhoneAuthProvider:xT,PhoneMultiFactorGenerator:SN,RecaptchaVerifier:$W,TwitterAuthProvider:ji,Auth:fE,AuthCredential:Dc,Error:fn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(EW,IW)}BW(Sc);var zW="firebase",WW="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sc.registerVersion(zW,WW,"app-compat");const qW={apiKey:"AIzaSyCz8JXH46yd4ZQSNKkqdfD7Ag_yWn8CQKc",authDomain:"clone-2025-a2ce5.firebaseapp.com",projectId:"clone-2025-a2ce5",storageBucket:"clone-2025-a2ce5.firebasestorage.app",messagingSenderId:"957302968491",appId:"1:957302968491:web:84a8393da5628a1e74a7ee"},ON=Sc.initializeApp(qW),Og=f$(ON),NN=ON.firestore(),HW=()=>{const[{user:n,basket:e},t]=Q.useContext(Hs),r=e?.reduce((i,s)=>s.amount+i,0);return F.jsxs(F.Fragment,{children:[" ",F.jsxs("section",{className:bs.fixed,children:[F.jsx("section",{children:F.jsxs("div",{className:bs.header_container,children:[F.jsxs("div",{className:bs.logo_container,children:[F.jsx(ri,{to:"/",children:F.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),F.jsxs("div",{className:bs.delivery,children:[F.jsx("span",{children:F.jsx(fM,{})}),F.jsxs("div",{children:[F.jsx("p",{children:"Deliver to"}),F.jsx("span",{children:"USA"})]})]})]}),F.jsxs("div",{className:bs.search,children:[F.jsx("select",{name:"",id:"",children:F.jsx("option",{value:"",children:"All"})}),F.jsx("input",{type:"text"}),F.jsx(pM,{size:35})]}),F.jsxs("div",{className:bs.order_container,children:[F.jsxs(ri,{to:"",className:bs.language,children:[F.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),F.jsx("select",{name:"",id:"",children:F.jsx("option",{value:"",children:"EN"})})]}),F.jsx(ri,{to:!n&&"/auth",children:F.jsx("div",{children:n?F.jsxs(F.Fragment,{children:[F.jsxs("p",{children:["Hello ",n?.email?.split("@")[0]]}),F.jsx("span",{onClick:()=>Og.signOut(),children:"Sign Out"})]}):F.jsxs(F.Fragment,{children:[F.jsx("p",{children:"Hello , Sign In"}),F.jsx("span",{children:"Account & Lists"})]})})}),F.jsxs(ri,{to:"/orders",children:[F.jsx("p",{children:"returns"}),F.jsx("span",{children:"& Orders"})]}),F.jsxs(ri,{to:"/cart",className:bs.cart,children:[F.jsx(mM,{size:35}),F.jsx("span",{children:r})]})]})]})}),F.jsx(yM,{})]})]})};var Zv={},$d={},fm={},pm={},ew={exports:{}},tw,KP;function KW(){if(KP)return tw;KP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tw=n,tw}var nw,GP;function GW(){if(GP)return nw;GP=1;var n=KW();function e(){}function t(){}return t.resetWarningCache=e,nw=function(){function r(l,u,d,f,m,y){if(y!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},nw}var QP;function DN(){return QP||(QP=1,ew.exports=GW()()),ew.exports}var YP;function QW(){return YP||(YP=1,(function(n){(function(e,t){t(n,sa(),DN())})(pm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=T;var i=l(t),s=l(r);function l(V){return V&&V.__esModule?V:{default:V}}var u=Object.assign||function(V){for(var $=1;$<arguments.length;$++){var H=arguments[$];for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(V[q]=H[q])}return V};function d(V,$){var H={};for(var q in V)$.indexOf(q)>=0||Object.prototype.hasOwnProperty.call(V,q)&&(H[q]=V[q]);return H}function f(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}var m=(function(){function V($,H){for(var q=0;q<H.length;q++){var U=H[q];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty($,U.key,U)}}return function($,H,q){return H&&V($.prototype,H),q&&V($,q),$}})();function y(V,$){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:V}function E(V,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);V.prototype=Object.create($&&$.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(V,$):V.__proto__=$)}var C=!1;function T(V){C=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){T(!0)}}))}catch{}function R(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return C?V:V.capture}function k(V){if("touches"in V){var $=V.touches[0],H=$.pageX,q=$.pageY;return{x:H,y:q}}var U=V.screenX,N=V.screenY;return{x:U,y:N}}var j=(function(V){E($,V);function $(){var H;f(this,$);for(var q=arguments.length,U=Array(q),N=0;N<q;N++)U[N]=arguments[N];var A=y(this,(H=$.__proto__||Object.getPrototypeOf($)).call.apply(H,[this].concat(U)));return A._handleSwipeStart=A._handleSwipeStart.bind(A),A._handleSwipeMove=A._handleSwipeMove.bind(A),A._handleSwipeEnd=A._handleSwipeEnd.bind(A),A._onMouseDown=A._onMouseDown.bind(A),A._onMouseMove=A._onMouseMove.bind(A),A._onMouseUp=A._onMouseUp.bind(A),A._setSwiperRef=A._setSwiperRef.bind(A),A}return m($,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(q){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(q))}},{key:"_onMouseMove",value:function(q){this.mouseDown&&this._handleSwipeMove(q)}},{key:"_onMouseUp",value:function(q){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(q)}},{key:"_handleSwipeStart",value:function(q){var U=k(q),N=U.x,A=U.y;this.moveStart={x:N,y:A},this.props.onSwipeStart(q)}},{key:"_handleSwipeMove",value:function(q){if(this.moveStart){var U=k(q),N=U.x,A=U.y,b=N-this.moveStart.x,L=A-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:b,y:L},q);x&&q.cancelable&&q.preventDefault(),this.movePosition={deltaX:b,deltaY:L}}}},{key:"_handleSwipeEnd",value:function(q){this.props.onSwipeEnd(q);var U=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-U?this.props.onSwipeLeft(1,q):this.movePosition.deltaX>U&&this.props.onSwipeRight(1,q),this.movePosition.deltaY<-U?this.props.onSwipeUp(1,q):this.movePosition.deltaY>U&&this.props.onSwipeDown(1,q)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(q){this.swiper=q,this.props.innerRef(q)}},{key:"render",value:function(){var q=this.props;q.tagName;var U=q.className,N=q.style,A=q.children;q.allowMouseEvents,q.onSwipeUp,q.onSwipeDown,q.onSwipeLeft,q.onSwipeRight,q.onSwipeStart,q.onSwipeMove,q.onSwipeEnd,q.innerRef,q.tolerance;var b=d(q,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:U,style:N},b),A)}}]),$})(t.Component);j.displayName="ReactSwipe",j.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},j.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=j})})(pm)),pm}var JP;function LN(){return JP||(JP=1,(function(n){(function(e,t){t(n,QW())})(fm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(fm)),fm}var jd={},rw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var XP;function YW(){return XP||(XP=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(rw)),rw.exports}var ZP;function VN(){if(ZP)return jd;ZP=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.default=void 0;var n=e(YW());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return jd.default=r,jd}var Bd={},zd={},eC;function JW(){if(eC)return zd;eC=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return zd.outerWidth=n,zd}var Wd={},tC;function OT(){if(tC)return Wd;tC=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return Wd.default=n,Wd}var qd={},nC;function MN(){if(nC)return qd;nC=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.default=void 0;var n=function(){return window};return qd.default=n,qd}var rC;function FN(){if(rC)return Bd;rC=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.default=void 0;var n=d(sa()),e=l(VN()),t=JW(),r=l(OT()),i=l(LN()),s=l(MN());function l(A){return A&&A.__esModule?A:{default:A}}function u(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return u=function(){return A},A}function d(A){if(A&&A.__esModule)return A;if(A===null||f(A)!=="object"&&typeof A!="function")return{default:A};var b=u();if(b&&b.has(A))return b.get(A);var L={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in A)if(Object.prototype.hasOwnProperty.call(A,w)){var S=x?Object.getOwnPropertyDescriptor(A,w):null;S&&(S.get||S.set)?Object.defineProperty(L,w,S):L[w]=A[w]}return L.default=A,b&&b.set(A,L),L}function f(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(L){return typeof L}:f=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},f(A)}function m(){return m=Object.assign||function(A){for(var b=1;b<arguments.length;b++){var L=arguments[b];for(var x in L)Object.prototype.hasOwnProperty.call(L,x)&&(A[x]=L[x])}return A},m.apply(this,arguments)}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function E(A,b){for(var L=0;L<b.length;L++){var x=b[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(A,x.key,x)}}function C(A,b,L){return b&&E(A.prototype,b),A}function T(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),b&&R(A,b)}function R(A,b){return R=Object.setPrototypeOf||function(x,w){return x.__proto__=w,x},R(A,b)}function k(A){var b=$();return function(){var x=H(A),w;if(b){var S=H(this).constructor;w=Reflect.construct(x,arguments,S)}else w=x.apply(this,arguments);return j(this,w)}}function j(A,b){return b&&(f(b)==="object"||typeof b=="function")?b:V(A)}function V(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(A){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},H(A)}function q(A,b,L){return b in A?Object.defineProperty(A,b,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[b]=L,A}var U=function(b){return b.hasOwnProperty("key")},N=(function(A){T(L,A);var b=k(L);function L(x){var w;return y(this,L),w=b.call(this,x),q(V(w),"itemsWrapperRef",void 0),q(V(w),"itemsListRef",void 0),q(V(w),"thumbsRef",void 0),q(V(w),"setItemsWrapperRef",function(S){w.itemsWrapperRef=S}),q(V(w),"setItemsListRef",function(S){w.itemsListRef=S}),q(V(w),"setThumbsRef",function(S,B){w.thumbsRef||(w.thumbsRef=[]),w.thumbsRef[B]=S}),q(V(w),"updateSizes",function(){if(!(!w.props.children||!w.itemsWrapperRef||!w.thumbsRef)){var S=n.Children.count(w.props.children),B=w.itemsWrapperRef.clientWidth,D=w.props.thumbWidth?w.props.thumbWidth:(0,t.outerWidth)(w.thumbsRef[0]),oe=Math.floor(B/D),ae=oe<S,K=ae?S-oe:0;w.setState(function(fe,le){return{itemSize:D,visibleItems:oe,firstItem:ae?w.getFirstItem(le.selectedItem):0,lastPosition:K,showArrows:ae}})}}),q(V(w),"handleClickItem",function(S,B,D){if(!U(D)||D.key==="Enter"){var oe=w.props.onSelectItem;typeof oe=="function"&&oe(S,B)}}),q(V(w),"onSwipeStart",function(){w.setState({swiping:!0})}),q(V(w),"onSwipeEnd",function(){w.setState({swiping:!1})}),q(V(w),"onSwipeMove",function(S){var B=S.x;if(!w.state.itemSize||!w.itemsWrapperRef||!w.state.visibleItems)return!1;var D=0,oe=n.Children.count(w.props.children),ae=-(w.state.firstItem*100)/w.state.visibleItems,K=Math.max(oe-w.state.visibleItems,0),fe=-K*100/w.state.visibleItems;ae===D&&B>0&&(B=0),ae===fe&&B<0&&(B=0);var le=w.itemsWrapperRef.clientWidth,z=ae+100/(le/B);return w.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){w.itemsListRef.style[ie]=(0,r.default)(z,"%",w.props.axis)}),!0}),q(V(w),"slideRight",function(S){w.moveTo(w.state.firstItem-(typeof S=="number"?S:1))}),q(V(w),"slideLeft",function(S){w.moveTo(w.state.firstItem+(typeof S=="number"?S:1))}),q(V(w),"moveTo",function(S){S=S<0?0:S,S=S>=w.state.lastPosition?w.state.lastPosition:S,w.setState({firstItem:S})}),w.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},w}return C(L,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(w){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==w.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(w){var S=w;return w>=this.state.lastPosition&&(S=this.state.lastPosition),w<this.state.firstItem+this.state.visibleItems&&(S=this.state.firstItem),w<this.state.firstItem&&(S=w),S}},{key:"renderItems",value:function(){var w=this;return this.props.children.map(function(S,B){var D=e.default.ITEM(!1,B===w.state.selectedItem),oe={key:B,ref:function(K){return w.setThumbsRef(K,B)},className:D,onClick:w.handleClickItem.bind(w,B,w.props.children[B]),onKeyDown:w.handleClickItem.bind(w,B,w.props.children[B]),"aria-label":"".concat(w.props.labels.item," ").concat(B+1),style:{width:w.props.thumbWidth}};return n.default.createElement("li",m({},oe,{role:"button",tabIndex:0}),S)})}},{key:"render",value:function(){var w=this;if(!this.props.children)return null;var S=n.Children.count(this.props.children)>1,B=this.state.showArrows&&this.state.firstItem>0,D=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,oe={},ae=-this.state.firstItem*(this.state.itemSize||0),K=(0,r.default)(ae,"px",this.props.axis),fe=this.props.transitionTime+"ms";return oe={WebkitTransform:K,MozTransform:K,MsTransform:K,OTransform:K,transform:K,msTransform:K,WebkitTransitionDuration:fe,MozTransitionDuration:fe,MsTransitionDuration:fe,OTransitionDuration:fe,transitionDuration:fe,msTransitionDuration:fe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!B),onClick:function(){return w.slideRight()},"aria-label":this.props.labels.leftArrow}),S?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:oe,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(z){return w.setItemsListRef(z)},style:oe},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!D),onClick:function(){return w.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),L})(n.Component);return Bd.default=N,q(N,"displayName","Thumbs"),q(N,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Bd}var Hd={},iC;function XW(){if(iC)return Hd;iC=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.default=void 0;var n=function(){return document};return Hd.default=n,Hd}var vr={},sC;function UN(){if(sC)return vr;sC=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.setPosition=vr.getPosition=vr.isKeyboardEvent=vr.defaultStatusFormatter=vr.noop=void 0;var n=sa(),e=t(OT());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};vr.noop=r;var i=function(f,m){return"".concat(f," of ").concat(m)};vr.defaultStatusFormatter=i;var s=function(f){return f?f.hasOwnProperty("key"):!1};vr.isKeyboardEvent=s;var l=function(f,m){if(m.infiniteLoop&&++f,f===0)return 0;var y=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var E=-f*m.centerSlidePercentage,C=y-1;return f&&(f!==C||m.infiniteLoop)?E+=(100-m.centerSlidePercentage)/2:f===C&&(E+=100-m.centerSlidePercentage),E}return-f*100};vr.getPosition=l;var u=function(f,m){var y={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(E){y[E]=(0,e.default)(f,"%",m)}),y};return vr.setPosition=u,vr}var ti={},oC;function ZW(){if(oC)return ti;oC=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.fadeAnimationHandler=ti.slideStopSwipingHandler=ti.slideSwipeAnimationHandler=ti.slideAnimationHandler=void 0;var n=sa(),e=r(OT()),t=UN();function r(y){return y&&y.__esModule?y:{default:y}}function i(y,E){var C=Object.keys(y);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(y);E&&(T=T.filter(function(R){return Object.getOwnPropertyDescriptor(y,R).enumerable})),C.push.apply(C,T)}return C}function s(y){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?i(Object(C),!0).forEach(function(T){l(y,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(C)):i(Object(C)).forEach(function(T){Object.defineProperty(y,T,Object.getOwnPropertyDescriptor(C,T))})}return y}function l(y,E,C){return E in y?Object.defineProperty(y,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[E]=C,y}var u=function(E,C){var T={},R=C.selectedItem,k=R,j=n.Children.count(E.children)-1,V=E.infiniteLoop&&(R<0||R>j);if(V)return k<0?E.centerMode&&E.centerSlidePercentage&&E.axis==="horizontal"?T.itemListStyle=(0,t.setPosition)(-(j+2)*E.centerSlidePercentage-(100-E.centerSlidePercentage)/2,E.axis):T.itemListStyle=(0,t.setPosition)(-(j+2)*100,E.axis):k>j&&(T.itemListStyle=(0,t.setPosition)(0,E.axis)),T;var $=(0,t.getPosition)(R,E),H=(0,e.default)($,"%",E.axis),q=E.transitionTime+"ms";return T.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},C.swiping||(T.itemListStyle=s(s({},T.itemListStyle),{},{WebkitTransitionDuration:q,MozTransitionDuration:q,OTransitionDuration:q,transitionDuration:q,msTransitionDuration:q})),T};ti.slideAnimationHandler=u;var d=function(E,C,T,R){var k={},j=C.axis==="horizontal",V=n.Children.count(C.children),$=0,H=(0,t.getPosition)(T.selectedItem,C),q=C.infiniteLoop?(0,t.getPosition)(V-1,C)-100:(0,t.getPosition)(V-1,C),U=j?E.x:E.y,N=U;H===$&&U>0&&(N=0),H===q&&U<0&&(N=0);var A=H+100/(T.itemSize/N),b=Math.abs(U)>C.swipeScrollTolerance;return C.infiniteLoop&&b&&(T.selectedItem===0&&A>-100?A-=V*100:T.selectedItem===V-1&&A<-V*100&&(A+=V*100)),(!C.preventMovementUntilSwipeScrollTolerance||b||T.swipeMovementStarted)&&(T.swipeMovementStarted||R({swipeMovementStarted:!0}),k.itemListStyle=(0,t.setPosition)(A,C.axis)),b&&!T.cancelClick&&R({cancelClick:!0}),k};ti.slideSwipeAnimationHandler=d;var f=function(E,C){var T=(0,t.getPosition)(C.selectedItem,E),R=(0,t.setPosition)(T,E.axis);return{itemListStyle:R}};ti.slideStopSwipingHandler=f;var m=function(E,C){var T=E.transitionTime+"ms",R="ease-in-out",k={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return C.swiping||(k=s(s({},k),{},{WebkitTransitionDuration:T,MozTransitionDuration:T,OTransitionDuration:T,transitionDuration:T,msTransitionDuration:T})),{slideStyle:k,selectedStyle:s(s({},k),{},{opacity:1,position:"relative"}),prevStyle:s({},k)}};return ti.fadeAnimationHandler=m,ti}var aC;function e8(){if(aC)return $d;aC=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.default=void 0;var n=m(sa()),e=d(LN()),t=d(VN()),r=d(FN()),i=d(XW()),s=d(MN()),l=UN(),u=ZW();function d(x){return x&&x.__esModule?x:{default:x}}function f(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return f=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||y(x)!=="object"&&typeof x!="function")return{default:x};var w=f();if(w&&w.has(x))return w.get(x);var S={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in x)if(Object.prototype.hasOwnProperty.call(x,D)){var oe=B?Object.getOwnPropertyDescriptor(x,D):null;oe&&(oe.get||oe.set)?Object.defineProperty(S,D,oe):S[D]=x[D]}return S.default=x,w&&w.set(x,S),S}function y(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(S){return typeof S}:y=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},y(x)}function E(){return E=Object.assign||function(x){for(var w=1;w<arguments.length;w++){var S=arguments[w];for(var B in S)Object.prototype.hasOwnProperty.call(S,B)&&(x[B]=S[B])}return x},E.apply(this,arguments)}function C(x,w){var S=Object.keys(x);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(x);w&&(B=B.filter(function(D){return Object.getOwnPropertyDescriptor(x,D).enumerable})),S.push.apply(S,B)}return S}function T(x){for(var w=1;w<arguments.length;w++){var S=arguments[w]!=null?arguments[w]:{};w%2?C(Object(S),!0).forEach(function(B){b(x,B,S[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(S)):C(Object(S)).forEach(function(B){Object.defineProperty(x,B,Object.getOwnPropertyDescriptor(S,B))})}return x}function R(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function k(x,w){for(var S=0;S<w.length;S++){var B=w[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(x,B.key,B)}}function j(x,w,S){return w&&k(x.prototype,w),x}function V(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),w&&$(x,w)}function $(x,w){return $=Object.setPrototypeOf||function(B,D){return B.__proto__=D,B},$(x,w)}function H(x){var w=N();return function(){var B=A(x),D;if(w){var oe=A(this).constructor;D=Reflect.construct(B,arguments,oe)}else D=B.apply(this,arguments);return q(this,D)}}function q(x,w){return w&&(y(w)==="object"||typeof w=="function")?w:U(x)}function U(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},A(x)}function b(x,w,S){return w in x?Object.defineProperty(x,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[w]=S,x}var L=(function(x){V(S,x);var w=H(S);function S(B){var D;R(this,S),D=w.call(this,B),b(U(D),"thumbsRef",void 0),b(U(D),"carouselWrapperRef",void 0),b(U(D),"listRef",void 0),b(U(D),"itemsRef",void 0),b(U(D),"timer",void 0),b(U(D),"animationHandler",void 0),b(U(D),"setThumbsRef",function(ae){D.thumbsRef=ae}),b(U(D),"setCarouselWrapperRef",function(ae){D.carouselWrapperRef=ae}),b(U(D),"setListRef",function(ae){D.listRef=ae}),b(U(D),"setItemsRef",function(ae,K){D.itemsRef||(D.itemsRef=[]),D.itemsRef[K]=ae}),b(U(D),"autoPlay",function(){n.Children.count(D.props.children)<=1||(D.clearAutoPlay(),D.props.autoPlay&&(D.timer=setTimeout(function(){D.increment()},D.props.interval)))}),b(U(D),"clearAutoPlay",function(){D.timer&&clearTimeout(D.timer)}),b(U(D),"resetAutoPlay",function(){D.clearAutoPlay(),D.autoPlay()}),b(U(D),"stopOnHover",function(){D.setState({isMouseEntered:!0},D.clearAutoPlay)}),b(U(D),"startOnLeave",function(){D.setState({isMouseEntered:!1},D.autoPlay)}),b(U(D),"isFocusWithinTheCarousel",function(){return D.carouselWrapperRef?!!((0,i.default)().activeElement===D.carouselWrapperRef||D.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),b(U(D),"navigateWithKeyboard",function(ae){if(D.isFocusWithinTheCarousel()){var K=D.props.axis,fe=K==="horizontal",le={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},z=fe?le.ArrowRight:le.ArrowDown,ie=fe?le.ArrowLeft:le.ArrowUp;z===ae.keyCode?D.increment():ie===ae.keyCode&&D.decrement()}}),b(U(D),"updateSizes",function(){if(!(!D.state.initialized||!D.itemsRef||D.itemsRef.length===0)){var ae=D.props.axis==="horizontal",K=D.itemsRef[0];if(K){var fe=ae?K.clientWidth:K.clientHeight;D.setState({itemSize:fe}),D.thumbsRef&&D.thumbsRef.updateSizes()}}}),b(U(D),"setMountState",function(){D.setState({hasMount:!0}),D.updateSizes()}),b(U(D),"handleClickItem",function(ae,K){if(n.Children.count(D.props.children)!==0){if(D.state.cancelClick){D.setState({cancelClick:!1});return}D.props.onClickItem(ae,K),ae!==D.state.selectedItem&&D.setState({selectedItem:ae})}}),b(U(D),"handleOnChange",function(ae,K){n.Children.count(D.props.children)<=1||D.props.onChange(ae,K)}),b(U(D),"handleClickThumb",function(ae,K){D.props.onClickThumb(ae,K),D.moveTo(ae)}),b(U(D),"onSwipeStart",function(ae){D.setState({swiping:!0}),D.props.onSwipeStart(ae)}),b(U(D),"onSwipeEnd",function(ae){D.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),D.props.onSwipeEnd(ae),D.clearAutoPlay(),D.state.autoPlay&&D.autoPlay()}),b(U(D),"onSwipeMove",function(ae,K){D.props.onSwipeMove(K);var fe=D.props.swipeAnimationHandler(ae,D.props,D.state,D.setState.bind(U(D)));return D.setState(T({},fe)),!!Object.keys(fe).length}),b(U(D),"decrement",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;D.moveTo(D.state.selectedItem-(typeof ae=="number"?ae:1))}),b(U(D),"increment",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;D.moveTo(D.state.selectedItem+(typeof ae=="number"?ae:1))}),b(U(D),"moveTo",function(ae){if(typeof ae=="number"){var K=n.Children.count(D.props.children)-1;ae<0&&(ae=D.props.infiniteLoop?K:0),ae>K&&(ae=D.props.infiniteLoop?0:K),D.selectItem({selectedItem:ae}),D.state.autoPlay&&D.state.isMouseEntered===!1&&D.resetAutoPlay()}}),b(U(D),"onClickNext",function(){D.increment(1)}),b(U(D),"onClickPrev",function(){D.decrement(1)}),b(U(D),"onSwipeForward",function(){D.increment(1),D.props.emulateTouch&&D.setState({cancelClick:!0})}),b(U(D),"onSwipeBackwards",function(){D.decrement(1),D.props.emulateTouch&&D.setState({cancelClick:!0})}),b(U(D),"changeItem",function(ae){return function(K){(!(0,l.isKeyboardEvent)(K)||K.key==="Enter")&&D.moveTo(ae)}}),b(U(D),"selectItem",function(ae){D.setState(T({previousItem:D.state.selectedItem},ae),function(){D.setState(D.animationHandler(D.props,D.state))}),D.handleOnChange(ae.selectedItem,n.Children.toArray(D.props.children)[ae.selectedItem])}),b(U(D),"getInitialImage",function(){var ae=D.props.selectedItem,K=D.itemsRef&&D.itemsRef[ae],fe=K&&K.getElementsByTagName("img")||[];return fe[0]}),b(U(D),"getVariableItemHeight",function(ae){var K=D.itemsRef&&D.itemsRef[ae];if(D.state.hasMount&&K&&K.children.length){var fe=K.children[0].getElementsByTagName("img")||[];if(fe.length>0){var le=fe[0];if(!le.complete){var z=function ge(){D.forceUpdate(),le.removeEventListener("load",ge)};le.addEventListener("load",z)}}var ie=fe[0]||K.children[0],Pe=ie.clientHeight;return Pe>0?Pe:null}return null});var oe={initialized:!1,previousItem:B.selectedItem,selectedItem:B.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:B.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return D.animationHandler=typeof B.animationHandler=="function"&&B.animationHandler||B.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,D.state=T(T({},oe),D.animationHandler(B,oe)),D}return j(S,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(D,oe){!D.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!D.autoFocus&&this.props.autoFocus&&this.forceFocus(),oe.swiping&&!this.state.swiping&&this.setState(T({},this.props.stopSwipingHandler(this.props,this.state))),(D.selectedItem!==this.props.selectedItem||D.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),D.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var D=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var oe=D.getInitialImage();oe&&!oe.complete?oe.addEventListener("load",D.setMountState):D.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var D=this.carouselWrapperRef;this.props.stopOnHover&&D&&(D.addEventListener("mouseenter",this.stopOnHover),D.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var D=this.carouselWrapperRef;this.props.stopOnHover&&D&&(D.removeEventListener("mouseenter",this.stopOnHover),D.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var D=this.getInitialImage();D&&D.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var D;(D=this.carouselWrapperRef)===null||D===void 0||D.focus()}},{key:"renderItems",value:function(D){var oe=this;return this.props.children?n.Children.map(this.props.children,function(ae,K){var fe=K===oe.state.selectedItem,le=K===oe.state.previousItem,z=fe&&oe.state.selectedStyle||le&&oe.state.prevStyle||oe.state.slideStyle||{};oe.props.centerMode&&oe.props.axis==="horizontal"&&(z=T(T({},z),{},{minWidth:oe.props.centerSlidePercentage+"%"})),oe.state.swiping&&oe.state.swipeMovementStarted&&(z=T(T({},z),{},{pointerEvents:"none"}));var ie={ref:function(ge){return oe.setItemsRef(ge,K)},key:"itemKey"+K+(D?"clone":""),className:t.default.ITEM(!0,K===oe.state.selectedItem,K===oe.state.previousItem),onClick:oe.handleClickItem.bind(oe,K,ae),style:z};return n.default.createElement("li",ie,oe.props.renderItem(ae,{isSelected:K===oe.state.selectedItem,isPrevious:K===oe.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var D=this,oe=this.props,ae=oe.showIndicators,K=oe.labels,fe=oe.renderIndicator,le=oe.children;return ae?n.default.createElement("ul",{className:"control-dots"},n.Children.map(le,function(z,ie){return fe&&fe(D.changeItem(ie),ie===D.state.selectedItem,ie,K.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var D=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var oe=this.props.swipeable&&n.Children.count(this.props.children)>1,ae=this.props.axis==="horizontal",K=this.props.showArrows&&n.Children.count(this.props.children)>1,fe=K&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,le=K&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,z=this.renderItems(!0),ie=z.shift(),Pe=z.pop(),ge={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},De={};if(ae){if(ge.onSwipeLeft=this.onSwipeForward,ge.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Me=this.getVariableItemHeight(this.state.selectedItem);De.height=Me||"auto"}}else ge.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ge.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ge.style=T(T({},ge.style),{},{height:this.state.itemSize}),De.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,fe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:De},oe?n.default.createElement(e.default,E({tagName:"ul",innerRef:this.setListRef},ge,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Pe,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(He){return D.setListRef(He)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Pe,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,le,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),S})(n.default.Component);return $d.default=L,b(L,"displayName","Carousel"),b(L,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(w,S,B){return n.default.createElement("button",{type:"button","aria-label":B,className:t.default.ARROW_PREV(!S),onClick:w})},renderArrowNext:function(w,S,B){return n.default.createElement("button",{type:"button","aria-label":B,className:t.default.ARROW_NEXT(!S),onClick:w})},renderIndicator:function(w,S,B,D){return n.default.createElement("li",{className:t.default.DOT(S),onClick:w,onKeyDown:w,value:B,key:B,role:"button",tabIndex:0,"aria-label":"".concat(D," ").concat(B+1)})},renderItem:function(w){return w},renderThumbs:function(w){var S=n.Children.map(w,function(B){var D=B;if(B.type!=="img"&&(D=n.Children.toArray(B.props.children).find(function(oe){return oe.type==="img"})),!!D)return D});return S.filter(function(B){return B}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):S},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),$d}var lC={},uC;function t8(){return uC||(uC=1),lC}var cC;function n8(){return cC||(cC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(e8()),t=t8(),r=i(FN());function i(s){return s&&s.__esModule?s:{default:s}}})(Zv)),Zv}var r8=n8();const i8="/Amazon-Clone-2025/assets/10001-bl35EseN.jpg",s8="/Amazon-Clone-2025/assets/10002-CO6XiwvK.jpg",o8="/Amazon-Clone-2025/assets/10003-CKEg0SWO.jpg",a8="/Amazon-Clone-2025/assets/10004-Fp0oaH3y.jpg",l8="/Amazon-Clone-2025/assets/10005-DFW8ojyC.jpg",u8=[i8,s8,o8,a8,l8],c8="_hero_img_k9ybs_1",d8={hero_img:c8};function h8(){return F.jsxs("div",{children:[F.jsx(r8.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:u8.map(n=>F.jsx("img",{src:n},n))}),F.jsx("div",{className:d8.hero_img})]})}const f8=[{title:"Electronics",name:"electronics",imglink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imglink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304_CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imglink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imglink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}],p8="_category_zrg6q_1",m8="_category_container_zrg6q_115",$N={category:p8,category_container:m8};function g8({data:n}){return F.jsx("div",{className:$N.category,children:F.jsxs(ri,{to:`category/${n.name}`,children:[F.jsx("span",{children:F.jsx("h2",{children:n?.title})}),F.jsx("img",{src:n?.imglink,alt:n.title||"Category"}),F.jsx("p",{children:"Shop now"})]})})}function y8(){return F.jsx("section",{className:$N.category_container,children:f8.map((n,e)=>F.jsx(g8,{data:n},e))})}function jN(n,e){return function(){return n.apply(e,arguments)}}const{toString:_8}=Object.prototype,{getPrototypeOf:NT}=Object,{iterator:Ny,toStringTag:BN}=Symbol,Dy=(n=>e=>{const t=_8.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hi=n=>(n=n.toLowerCase(),e=>Dy(e)===n),Ly=n=>e=>typeof e===n,{isArray:Vc}=Array,yc=Ly("undefined");function Nf(n){return n!==null&&!yc(n)&&n.constructor!==null&&!yc(n.constructor)&&ar(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zN=hi("ArrayBuffer");function v8(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&zN(n.buffer),e}const w8=Ly("string"),ar=Ly("function"),WN=Ly("number"),Df=n=>n!==null&&typeof n=="object",E8=n=>n===!0||n===!1,zm=n=>{if(Dy(n)!=="object")return!1;const e=NT(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(BN in n)&&!(Ny in n)},I8=n=>{if(!Df(n)||Nf(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},T8=hi("Date"),S8=hi("File"),R8=hi("Blob"),A8=hi("FileList"),P8=n=>Df(n)&&ar(n.pipe),C8=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ar(n.append)&&((e=Dy(n))==="formdata"||e==="object"&&ar(n.toString)&&n.toString()==="[object FormData]"))},b8=hi("URLSearchParams"),[k8,x8,O8,N8]=["ReadableStream","Request","Response","Headers"].map(hi),D8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Vc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Nf(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function qN(n,e){if(Nf(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const rl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HN=n=>!yc(n)&&n!==rl;function pE(){const{caseless:n,skipUndefined:e}=HN(this)&&this||{},t={},r=(i,s)=>{const l=n&&qN(t,s)||s;zm(t[l])&&zm(i)?t[l]=pE(t[l],i):zm(i)?t[l]=pE({},i):Vc(i)?t[l]=i.slice():(!e||!yc(i))&&(t[l]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Lf(arguments[i],r);return t}const L8=(n,e,t,{allOwnKeys:r}={})=>(Lf(e,(i,s)=>{t&&ar(i)?n[s]=jN(i,t):n[s]=i},{allOwnKeys:r}),n),V8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),M8=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},F8=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&NT(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},U8=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},$8=n=>{if(!n)return null;if(Vc(n))return n;let e=n.length;if(!WN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},j8=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&NT(Uint8Array)),B8=(n,e)=>{const r=(n&&n[Ny]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},z8=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},W8=hi("HTMLFormElement"),q8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),dC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),H8=hi("RegExp"),KN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Lf(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},K8=n=>{KN(n,(e,t)=>{if(ar(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},G8=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Vc(n)?r(n):r(String(n).split(e)),t},Q8=()=>{},Y8=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function J8(n){return!!(n&&ar(n.append)&&n[BN]==="FormData"&&n[Ny])}const X8=n=>{const e=new Array(10),t=(r,i)=>{if(Df(r)){if(e.indexOf(r)>=0)return;if(Nf(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Vc(r)?[]:{};return Lf(r,(l,u)=>{const d=t(l,i+1);!yc(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},Z8=hi("AsyncFunction"),eq=n=>n&&(Df(n)||ar(n))&&ar(n.then)&&ar(n.catch),GN=((n,e)=>n?setImmediate:e?((t,r)=>(rl.addEventListener("message",({source:i,data:s})=>{i===rl&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),rl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ar(rl.postMessage)),tq=typeof queueMicrotask<"u"?queueMicrotask.bind(rl):typeof process<"u"&&process.nextTick||GN,nq=n=>n!=null&&ar(n[Ny]),re={isArray:Vc,isArrayBuffer:zN,isBuffer:Nf,isFormData:C8,isArrayBufferView:v8,isString:w8,isNumber:WN,isBoolean:E8,isObject:Df,isPlainObject:zm,isEmptyObject:I8,isReadableStream:k8,isRequest:x8,isResponse:O8,isHeaders:N8,isUndefined:yc,isDate:T8,isFile:S8,isBlob:R8,isRegExp:H8,isFunction:ar,isStream:P8,isURLSearchParams:b8,isTypedArray:j8,isFileList:A8,forEach:Lf,merge:pE,extend:L8,trim:D8,stripBOM:V8,inherits:M8,toFlatObject:F8,kindOf:Dy,kindOfTest:hi,endsWith:U8,toArray:$8,forEachEntry:B8,matchAll:z8,isHTMLForm:W8,hasOwnProperty:dC,hasOwnProp:dC,reduceDescriptors:KN,freezeMethods:K8,toObjectSet:G8,toCamelCase:q8,noop:Q8,toFiniteNumber:Y8,findKey:qN,global:rl,isContextDefined:HN,isSpecCompliantForm:J8,toJSONObject:X8,isAsyncFn:Z8,isThenable:eq,setImmediate:GN,asap:tq,isIterable:nq};function je(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const QN=je.prototype,YN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{YN[n]={value:n}});Object.defineProperties(je,YN);Object.defineProperty(QN,"isAxiosError",{value:!0});je.from=(n,e,t,r,i,s)=>{const l=Object.create(QN);re.toFlatObject(n,l,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const u=n&&n.message?n.message:"Error",d=e==null&&n?n.code:e;return je.call(l,u,d,t,r,i),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",s&&Object.assign(l,s),l};const rq=null;function mE(n){return re.isPlainObject(n)||re.isArray(n)}function JN(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function hC(n,e,t){return n?n.concat(e).map(function(i,s){return i=JN(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function iq(n){return re.isArray(n)&&!n.some(mE)}const sq=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Vy(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,k){return!re.isUndefined(k[R])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function f(T){if(T===null)return"";if(re.isDate(T))return T.toISOString();if(re.isBoolean(T))return T.toString();if(!d&&re.isBlob(T))throw new je("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(T)||re.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function m(T,R,k){let j=T;if(T&&!k&&typeof T=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),T=JSON.stringify(T);else if(re.isArray(T)&&iq(T)||(re.isFileList(T)||re.endsWith(R,"[]"))&&(j=re.toArray(T)))return R=JN(R),j.forEach(function($,H){!(re.isUndefined($)||$===null)&&e.append(l===!0?hC([R],H,s):l===null?R:R+"[]",f($))}),!1}return mE(T)?!0:(e.append(hC(k,R,s),f(T)),!1)}const y=[],E=Object.assign(sq,{defaultVisitor:m,convertValue:f,isVisitable:mE});function C(T,R){if(!re.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));y.push(T),re.forEach(T,function(j,V){(!(re.isUndefined(j)||j===null)&&i.call(e,j,re.isString(V)?V.trim():V,R,E))===!0&&C(j,R?R.concat(V):[V])}),y.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return C(n),e}function fC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function DT(n,e){this._pairs=[],n&&Vy(n,this,e)}const XN=DT.prototype;XN.append=function(e,t){this._pairs.push([e,t])};XN.toString=function(e){const t=e?function(r){return e.call(this,r,fC)}:fC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function oq(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ZN(n,e,t){if(!e)return n;const r=t&&t.encode||oq;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new DT(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class pC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aq=typeof URLSearchParams<"u"?URLSearchParams:DT,lq=typeof FormData<"u"?FormData:null,uq=typeof Blob<"u"?Blob:null,cq={isBrowser:!0,classes:{URLSearchParams:aq,FormData:lq,Blob:uq},protocols:["http","https","file","blob","url","data"]},LT=typeof window<"u"&&typeof document<"u",gE=typeof navigator=="object"&&navigator||void 0,dq=LT&&(!gE||["ReactNative","NativeScript","NS"].indexOf(gE.product)<0),hq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fq=LT&&window.location.href||"http://localhost",pq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:LT,hasStandardBrowserEnv:dq,hasStandardBrowserWebWorkerEnv:hq,navigator:gE,origin:fq},Symbol.toStringTag,{value:"Module"})),Fn={...pq,...cq};function mq(n,e){return Vy(n,new Fn.classes.URLSearchParams,{visitor:function(t,r,i,s){return Fn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function gq(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yq(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function tD(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=yq(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(gq(r),i,t,0)}),t}return null}function _q(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Vf={transitional:eD,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(tD(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mq(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Vy(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),_q(e)):e}],transformResponse:[function(e){const t=this.transitional||Vf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?je.from(u,je.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Vf.headers[n]={}});const vq=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&vq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},mC=Symbol("internals");function Kd(n){return n&&String(n).trim().toLowerCase()}function Wm(n){return n===!1||n==null?n:re.isArray(n)?n.map(Wm):String(n)}function Eq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Iq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function iw(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function Tq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Sq(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let lr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,f){const m=Kd(d);if(!m)throw new Error("header name must be a non-empty string");const y=re.findKey(i,m);(!y||i[y]===void 0||f===!0||f===void 0&&i[y]!==!1)&&(i[y||d]=Wm(u))}const l=(u,d)=>re.forEach(u,(f,m)=>s(f,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!Iq(e))l(wq(e),t);else if(re.isObject(e)&&re.isIterable(e)){let u={},d,f;for(const m of e){if(!re.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(d=u[f])?re.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Kd(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Eq(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kd(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||iw(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=Kd(l),l){const u=re.findKey(r,l);u&&(!t||iw(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||iw(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=Wm(i),delete t[s];return}const u=e?Tq(s):String(s).trim();u!==s&&delete t[s],t[u]=Wm(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[mC]=this[mC]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=Kd(l);r[u]||(Sq(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(lr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(lr);function sw(n,e){const t=this||Vf,r=e||t,i=lr.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function nD(n){return!!(n&&n.__CANCEL__)}function Mc(n,e,t){je.call(this,n??"canceled",je.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Mc,je,{__CANCEL__:!0});function rD(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new je("Request failed with status code "+t.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Rq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Aq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),m=r[s];l||(l=f),t[i]=d,r[i]=f;let y=s,E=0;for(;y!==i;)E+=t[y++],y=y%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),f-l<e)return;const C=m&&f-m;return C?Math.round(E*1e3/C):void 0}}function Pq(n,e){let t=0,r=1e3/e,i,s;const l=(f,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n(...f)};return[(...f)=>{const m=Date.now(),y=m-t;y>=r?l(f,m):(i=f,s||(s=setTimeout(()=>{s=null,l(i)},r-y)))},()=>i&&l(i)]}const Ng=(n,e,t=3)=>{let r=0;const i=Aq(50,250);return Pq(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,f=i(d),m=l<=u;r=l;const y={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(y)},t)},gC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},yC=n=>(...e)=>re.asap(()=>n(...e)),Cq=Fn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Fn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,bq=Fn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kq(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function xq(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function iD(n,e,t){let r=!kq(e);return n&&(r||t==!1)?xq(n,e):e}const _C=n=>n instanceof lr?{...n}:n;function Il(n,e){e=e||{};const t={};function r(f,m,y,E){return re.isPlainObject(f)&&re.isPlainObject(m)?re.merge.call({caseless:E},f,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(f,m,y,E){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f,y,E)}else return r(f,m,y,E)}function s(f,m){if(!re.isUndefined(m))return r(void 0,m)}function l(f,m){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,y){if(y in e)return r(f,m);if(y in n)return r(void 0,f)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,y)=>i(_C(f),_C(m),y,!0)};return re.forEach(Object.keys({...n,...e}),function(m){const y=d[m]||i,E=y(n[m],e[m],m);re.isUndefined(E)&&y!==u||(t[m]=E)}),t}const sD=n=>{const e=Il({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;if(e.headers=l=lr.from(l),e.url=ZN(iD(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),re.isFormData(t)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(re.isFunction(t.getHeaders)){const d=t.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,y])=>{f.includes(m.toLowerCase())&&l.set(m,y)})}}if(Fn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&Cq(e.url))){const d=i&&s&&bq.read(s);d&&l.set(i,d)}return e},Oq=typeof XMLHttpRequest<"u",Nq=Oq&&function(n){return new Promise(function(t,r){const i=sD(n);let s=i.data;const l=lr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=i,m,y,E,C,T;function R(){C&&C(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function j(){if(!k)return;const $=lr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),q={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:$,config:n,request:k};rD(function(N){t(N),R()},function(N){r(N),R()},q),k=null}"onloadend"in k?k.onloadend=j:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(j)},k.onabort=function(){k&&(r(new je("Request aborted",je.ECONNABORTED,n,k)),k=null)},k.onerror=function(H){const q=H&&H.message?H.message:"Network Error",U=new je(q,je.ERR_NETWORK,n,k);U.event=H||null,r(U),k=null},k.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const q=i.transitional||eD;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new je(H,q.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,n,k)),k=null},s===void 0&&l.setContentType(null),"setRequestHeader"in k&&re.forEach(l.toJSON(),function(H,q){k.setRequestHeader(q,H)}),re.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),u&&u!=="json"&&(k.responseType=i.responseType),f&&([E,T]=Ng(f,!0),k.addEventListener("progress",E)),d&&k.upload&&([y,C]=Ng(d),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(m=$=>{k&&(r(!$||$.type?new Mc(null,n,k):$),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const V=Rq(i.url);if(V&&Fn.protocols.indexOf(V)===-1){r(new je("Unsupported protocol "+V+":",je.ERR_BAD_REQUEST,n));return}k.send(s||null)})},Dq=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(f){if(!i){i=!0,u();const m=f instanceof Error?f:this.reason;r.abort(m instanceof je?m:new Mc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),n=null)};n.forEach(f=>f.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},Lq=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Vq=async function*(n,e){for await(const t of Mq(n))yield*Lq(t,e)},Mq=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},vC=(n,e,t,r)=>{const i=Vq(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await i.next();if(f){u(),d.close();return}let y=m.byteLength;if(t){let E=s+=y;t(E)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},wC=64*1024,{isFunction:mm}=re,Fq=(({Request:n,Response:e})=>({Request:n,Response:e}))(re.global),{ReadableStream:EC,TextEncoder:IC}=re.global,TC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Uq=n=>{n=re.merge.call({skipUndefined:!0},Fq,n);const{fetch:e,Request:t,Response:r}=n,i=e?mm(e):typeof fetch=="function",s=mm(t),l=mm(r);if(!i)return!1;const u=i&&mm(EC),d=i&&(typeof IC=="function"?(T=>R=>T.encode(R))(new IC):async T=>new Uint8Array(await new t(T).arrayBuffer())),f=s&&u&&TC(()=>{let T=!1;const R=new t(Fn.origin,{body:new EC,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!R}),m=l&&u&&TC(()=>re.isReadableStream(new r("").body)),y={stream:m&&(T=>T.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!y[T]&&(y[T]=(R,k)=>{let j=R&&R[T];if(j)return j.call(R);throw new je(`Response type '${T}' is not supported`,je.ERR_NOT_SUPPORT,k)})});const E=async T=>{if(T==null)return 0;if(re.isBlob(T))return T.size;if(re.isSpecCompliantForm(T))return(await new t(Fn.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(re.isArrayBufferView(T)||re.isArrayBuffer(T))return T.byteLength;if(re.isURLSearchParams(T)&&(T=T+""),re.isString(T))return(await d(T)).byteLength},C=async(T,R)=>{const k=re.toFiniteNumber(T.getContentLength());return k??E(R)};return async T=>{let{url:R,method:k,data:j,signal:V,cancelToken:$,timeout:H,onDownloadProgress:q,onUploadProgress:U,responseType:N,headers:A,withCredentials:b="same-origin",fetchOptions:L}=sD(T),x=e||fetch;N=N?(N+"").toLowerCase():"text";let w=Dq([V,$&&$.toAbortSignal()],H),S=null;const B=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let D;try{if(U&&f&&k!=="get"&&k!=="head"&&(D=await C(A,j))!==0){let z=new t(R,{method:"POST",body:j,duplex:"half"}),ie;if(re.isFormData(j)&&(ie=z.headers.get("content-type"))&&A.setContentType(ie),z.body){const[Pe,ge]=gC(D,Ng(yC(U)));j=vC(z.body,wC,Pe,ge)}}re.isString(b)||(b=b?"include":"omit");const oe=s&&"credentials"in t.prototype,ae={...L,signal:w,method:k.toUpperCase(),headers:A.normalize().toJSON(),body:j,duplex:"half",credentials:oe?b:void 0};S=s&&new t(R,ae);let K=await(s?x(S,L):x(R,ae));const fe=m&&(N==="stream"||N==="response");if(m&&(q||fe&&B)){const z={};["status","statusText","headers"].forEach(De=>{z[De]=K[De]});const ie=re.toFiniteNumber(K.headers.get("content-length")),[Pe,ge]=q&&gC(ie,Ng(yC(q),!0))||[];K=new r(vC(K.body,wC,Pe,()=>{ge&&ge(),B&&B()}),z)}N=N||"text";let le=await y[re.findKey(y,N)||"text"](K,T);return!fe&&B&&B(),await new Promise((z,ie)=>{rD(z,ie,{data:le,headers:lr.from(K.headers),status:K.status,statusText:K.statusText,config:T,request:S})})}catch(oe){throw B&&B(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,T,S),{cause:oe.cause||oe}):je.from(oe,oe&&oe.code,T,S)}}},$q=new Map,oD=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:i}=e,s=[r,i,t];let l=s.length,u=l,d,f,m=$q;for(;u--;)d=s[u],f=m.get(d),f===void 0&&m.set(d,f=u?new Map:Uq(e)),m=f;return f};oD();const yE={http:rq,xhr:Nq,fetch:{get:oD}};re.forEach(yE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const SC=n=>`- ${n}`,jq=n=>re.isFunction(n)||n===null||n===!1,aD={getAdapter:(n,e)=>{n=re.isArray(n)?n:[n];const{length:t}=n;let r,i;const s={};for(let l=0;l<t;l++){r=n[l];let u;if(i=r,!jq(r)&&(i=yE[(u=String(r)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${u}'`);if(i&&(re.isFunction(i)||(i=i.get(e))))break;s[u||"#"+l]=i}if(!i){const l=Object.entries(s).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(SC).join(`
`):" "+SC(l[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:yE};function ow(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Mc(null,n)}function RC(n){return ow(n),n.headers=lr.from(n.headers),n.data=sw.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),aD.getAdapter(n.adapter||Vf.adapter,n)(n).then(function(r){return ow(n),r.data=sw.call(n,n.transformResponse,r),r.headers=lr.from(r.headers),r},function(r){return nD(r)||(ow(n),r&&r.response&&(r.response.data=sw.call(n,n.transformResponse,r.response),r.response.headers=lr.from(r.response.headers))),Promise.reject(r)})}const lD="1.12.2",My={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{My[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const AC={};My.transitional=function(e,t,r){function i(s,l){return"[Axios v"+lD+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new je(i(l," has been removed"+(t?" in "+t:"")),je.ERR_DEPRECATED);return t&&!AC[l]&&(AC[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};My.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Bq(n,e,t){if(typeof n!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new je("option "+s+" must be "+d,je.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new je("Unknown option "+s,je.ERR_BAD_OPTION)}}const qm={assertOptions:Bq,validators:My},Oi=qm.validators;let ll=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pC,response:new pC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Il(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&qm.assertOptions(r,{silentJSONParsing:Oi.transitional(Oi.boolean),forcedJSONParsing:Oi.transitional(Oi.boolean),clarifyTimeoutError:Oi.transitional(Oi.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:qm.assertOptions(i,{encode:Oi.function,serialize:Oi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),qm.assertOptions(t,{baseUrl:Oi.spelling("baseURL"),withXsrfToken:Oi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),t.headers=lr.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let m,y=0,E;if(!d){const T=[RC.bind(this),void 0];for(T.unshift(...u),T.push(...f),E=T.length,m=Promise.resolve(t);y<E;)m=m.then(T[y++],T[y++]);return m}E=u.length;let C=t;for(;y<E;){const T=u[y++],R=u[y++];try{C=T(C)}catch(k){R.call(this,k);break}}try{m=RC.call(this,C)}catch(T){return Promise.reject(T)}for(y=0,E=f.length;y<E;)m=m.then(f[y++],f[y++]);return m}getUri(e){e=Il(this.defaults,e);const t=iD(e.baseURL,e.url,e.allowAbsoluteUrls);return ZN(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){ll.prototype[e]=function(t,r){return this.request(Il(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(Il(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}ll.prototype[e]=t(),ll.prototype[e+"Form"]=t(!0)});let zq=class uD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new Mc(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new uD(function(i){e=i}),cancel:e}}};function Wq(n){return function(t){return n.apply(null,t)}}function qq(n){return re.isObject(n)&&n.isAxiosError===!0}const _E={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_E).forEach(([n,e])=>{_E[e]=n});function cD(n){const e=new ll(n),t=jN(ll.prototype.request,e);return re.extend(t,ll.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return cD(Il(n,i))},t}const bt=cD(Vf);bt.Axios=ll;bt.CanceledError=Mc;bt.CancelToken=zq;bt.isCancel=nD;bt.VERSION=lD;bt.toFormData=Vy;bt.AxiosError=je;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=Wq;bt.isAxiosError=qq;bt.mergeConfig=Il;bt.AxiosHeaders=lr;bt.formToJSON=n=>tD(re.isHTMLForm(n)?new FormData(n):n);bt.getAdapter=aD.getAdapter;bt.HttpStatusCode=_E;bt.default=bt;const{Axios:KY,AxiosError:GY,CanceledError:QY,isCancel:YY,CancelToken:JY,VERSION:XY,all:ZY,Cancel:eJ,isAxiosError:tJ,spread:nJ,toFormData:rJ,AxiosHeaders:iJ,HttpStatusCode:sJ,formToJSON:oJ,getAdapter:aJ,mergeConfig:lJ}=bt;var Hq=DN();const Le=xE(Hq);function dD(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=dD(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ho(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=dD(n))&&(r&&(r+=" "),r+=e);return r}function hD(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const Kq={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function fD(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const f=s[d];f&&(l+=(u===!0?"":" ")+e(f),u=!1,t&&t[f]&&(l+=" "+t[f]))}r[i]=l}return r}const Gq=Q.createContext(),Qq=()=>Q.useContext(Gq)??!1;function PC(n){try{return n.matches(":focus-visible")}catch{}return!1}const CC=n=>n,Yq=()=>{let n=CC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=CC}}},Jq=Yq();function Tl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function ra(n){if(typeof n!="string")throw new Error(Tl(7));return n.charAt(0).toUpperCase()+n.slice(1)}var aw={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function Xq(){if(bC)return pt;bC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function T(R){if(typeof R=="object"&&R!==null){var k=R.$$typeof;switch(k){case n:switch(R=R.type,R){case t:case i:case r:case d:case f:case E:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case y:case m:return R;case s:return R;default:return k}}case e:return k}}}return pt.ContextConsumer=s,pt.ContextProvider=l,pt.Element=n,pt.ForwardRef=u,pt.Fragment=t,pt.Lazy=y,pt.Memo=m,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=d,pt.SuspenseList=f,pt.isContextConsumer=function(R){return T(R)===s},pt.isContextProvider=function(R){return T(R)===l},pt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},pt.isForwardRef=function(R){return T(R)===u},pt.isFragment=function(R){return T(R)===t},pt.isLazy=function(R){return T(R)===y},pt.isMemo=function(R){return T(R)===m},pt.isPortal=function(R){return T(R)===e},pt.isProfiler=function(R){return T(R)===i},pt.isStrictMode=function(R){return T(R)===r},pt.isSuspense=function(R){return T(R)===d},pt.isSuspenseList=function(R){return T(R)===f},pt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===f||typeof R=="object"&&R!==null&&(R.$$typeof===y||R.$$typeof===m||R.$$typeof===l||R.$$typeof===s||R.$$typeof===u||R.$$typeof===C||R.getModuleId!==void 0)},pt.typeOf=T,pt}var kC;function Zq(){return kC||(kC=1,aw.exports=Xq()),aw.exports}var pD=Zq();function ks(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function mD(n){if(Q.isValidElement(n)||pD.isValidElementType(n)||!ks(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=mD(n[t])}),e}function Rr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return ks(n)&&ks(e)&&Object.keys(e).forEach(i=>{Q.isValidElement(e[i])||pD.isValidElementType(e[i])?r[i]=e[i]:ks(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&ks(n[i])?r[i]=Rr(n[i],e[i],t):t.clone?r[i]=ks(e[i])?mD(e[i]):e[i]:r[i]=e[i]}),r}function Rh(n,e){return e?Rr(n,e,{clone:!1}):n}function xC(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function eH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function tH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function nH(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Fy={xs:0,sm:600,md:900,lg:1200,xl:1536},OC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Fy[n]}px)`},rH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Fy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function qs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||OC;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||OC;return Object.keys(e).reduce((l,u)=>{if(eH(s.keys,u)){const d=tH(r.containerQueries?r:rH,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Fy).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function iH(n={}){return n.keys?.reduce((t,r)=>{const i=n.up(r);return t[i]={},t},{})||{}}function NC(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Uy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Dg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Uy(n,t)||r,e&&(i=e(i,r,n)),i}function Kt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,f=Uy(d,r)||{};return qs(l,u,y=>{let E=Dg(f,i,y);return y===E&&typeof y=="string"&&(E=Dg(f,i,`${e}${y==="default"?"":ra(y)}`,y)),t===!1?E:{[t]:E}})};return s.propTypes={},s.filterProps=[e],s}function sH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const oH={m:"margin",p:"padding"},aH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},DC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},lH=sH(n=>{if(n.length>2)if(DC[n])n=DC[n];else return[n];const[e,t]=n.split(""),r=oH[e],i=aH[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),VT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],MT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VT,...MT];function Mf(n,e,t,r){const i=Uy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof i=="function"?i:()=>{}}function FT(n){return Mf(n,"spacing",8)}function Ff(n,e){return typeof e=="string"||e==null?e:n(e)}function uH(n,e){return t=>n.reduce((r,i)=>(r[i]=Ff(e,t),r),{})}function cH(n,e,t,r){if(!e.includes(t))return null;const i=lH(t),s=uH(i,r),l=n[t];return qs(n,l,s)}function gD(n,e){const t=FT(n.theme);return Object.keys(n).map(r=>cH(n,e,r,t)).reduce(Rh,{})}function Mt(n){return gD(n,VT)}Mt.propTypes={};Mt.filterProps=VT;function Ft(n){return gD(n,MT)}Ft.propTypes={};Ft.filterProps=MT;function $y(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?Rh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Fr(n){return typeof n!="number"?n:`${n}px solid`}function Wr(n,e){return Kt({prop:n,themeKey:"borders",transform:e})}const dH=Wr("border",Fr),hH=Wr("borderTop",Fr),fH=Wr("borderRight",Fr),pH=Wr("borderBottom",Fr),mH=Wr("borderLeft",Fr),gH=Wr("borderColor"),yH=Wr("borderTopColor"),_H=Wr("borderRightColor"),vH=Wr("borderBottomColor"),wH=Wr("borderLeftColor"),EH=Wr("outline",Fr),IH=Wr("outlineColor"),jy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Mf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ff(e,r)});return qs(n,n.borderRadius,t)}return null};jy.propTypes={};jy.filterProps=["borderRadius"];$y(dH,hH,fH,pH,mH,gH,yH,_H,vH,wH,jy,EH,IH);const By=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({gap:Ff(e,r)});return qs(n,n.gap,t)}return null};By.propTypes={};By.filterProps=["gap"];const zy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({columnGap:Ff(e,r)});return qs(n,n.columnGap,t)}return null};zy.propTypes={};zy.filterProps=["columnGap"];const Wy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Mf(n.theme,"spacing",8),t=r=>({rowGap:Ff(e,r)});return qs(n,n.rowGap,t)}return null};Wy.propTypes={};Wy.filterProps=["rowGap"];const TH=Kt({prop:"gridColumn"}),SH=Kt({prop:"gridRow"}),RH=Kt({prop:"gridAutoFlow"}),AH=Kt({prop:"gridAutoColumns"}),PH=Kt({prop:"gridAutoRows"}),CH=Kt({prop:"gridTemplateColumns"}),bH=Kt({prop:"gridTemplateRows"}),kH=Kt({prop:"gridTemplateAreas"}),xH=Kt({prop:"gridArea"});$y(By,zy,Wy,TH,SH,RH,AH,PH,CH,bH,kH,xH);function Hu(n,e){return e==="grey"?e:n}const OH=Kt({prop:"color",themeKey:"palette",transform:Hu}),NH=Kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Hu}),DH=Kt({prop:"backgroundColor",themeKey:"palette",transform:Hu});$y(OH,NH,DH);function Ir(n){return n<=1&&n!==0?`${n*100}%`:n}const LH=Kt({prop:"width",transform:Ir}),UT=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||Fy[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ir(t)}};return qs(n,n.maxWidth,e)}return null};UT.filterProps=["maxWidth"];const VH=Kt({prop:"minWidth",transform:Ir}),MH=Kt({prop:"height",transform:Ir}),FH=Kt({prop:"maxHeight",transform:Ir}),UH=Kt({prop:"minHeight",transform:Ir});Kt({prop:"size",cssProperty:"width",transform:Ir});Kt({prop:"size",cssProperty:"height",transform:Ir});const $H=Kt({prop:"boxSizing"});$y(LH,UT,VH,MH,FH,UH,$H);const qy={border:{themeKey:"borders",transform:Fr},borderTop:{themeKey:"borders",transform:Fr},borderRight:{themeKey:"borders",transform:Fr},borderBottom:{themeKey:"borders",transform:Fr},borderLeft:{themeKey:"borders",transform:Fr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jy},color:{themeKey:"palette",transform:Hu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Hu},backgroundColor:{themeKey:"palette",transform:Hu},p:{style:Ft},pt:{style:Ft},pr:{style:Ft},pb:{style:Ft},pl:{style:Ft},px:{style:Ft},py:{style:Ft},padding:{style:Ft},paddingTop:{style:Ft},paddingRight:{style:Ft},paddingBottom:{style:Ft},paddingLeft:{style:Ft},paddingX:{style:Ft},paddingY:{style:Ft},paddingInline:{style:Ft},paddingInlineStart:{style:Ft},paddingInlineEnd:{style:Ft},paddingBlock:{style:Ft},paddingBlockStart:{style:Ft},paddingBlockEnd:{style:Ft},m:{style:Mt},mt:{style:Mt},mr:{style:Mt},mb:{style:Mt},ml:{style:Mt},mx:{style:Mt},my:{style:Mt},margin:{style:Mt},marginTop:{style:Mt},marginRight:{style:Mt},marginBottom:{style:Mt},marginLeft:{style:Mt},marginX:{style:Mt},marginY:{style:Mt},marginInline:{style:Mt},marginInlineStart:{style:Mt},marginInlineEnd:{style:Mt},marginBlock:{style:Mt},marginBlockStart:{style:Mt},marginBlockEnd:{style:Mt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:By},rowGap:{style:Wy},columnGap:{style:zy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ir},maxWidth:{style:UT},minWidth:{transform:Ir},height:{transform:Ir},maxHeight:{transform:Ir},minHeight:{transform:Ir},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jH(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function BH(n,e){return typeof n=="function"?n(e):n}function zH(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:m,style:y}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const E=Uy(i,f)||{};return y?y(l):qs(l,r,T=>{let R=Dg(E,m,T);return T===R&&typeof T=="string"&&(R=Dg(E,m,`${t}${T==="default"?"":ra(T)}`,T)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={},nested:s}=t||{};if(!r)return null;const l=i.unstable_sxConfig??qy;function u(d){let f=d;if(typeof d=="function")f=d(i);else if(typeof d!="object")return d;if(!f)return null;const m=iH(i.breakpoints),y=Object.keys(m);let E=m;return Object.keys(f).forEach(C=>{const T=BH(f[C],i);if(T!=null)if(typeof T=="object")if(l[C])E=Rh(E,n(C,T,i,l));else{const R=qs({theme:i},T,k=>({[C]:k}));jH(R,T)?E[C]=e({sx:T,theme:i,nested:!0}):E=Rh(E,R)}else E=Rh(E,n(C,T,i,l))}),!s&&i.modularCssLayers?{"@layer sx":xC(i,NC(y,E))}:xC(i,NC(y,E))}return Array.isArray(r)?r.map(u):u(r)}return e}const _c=zH();_c.filterProps=["sx"];function vE(){return vE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vE.apply(null,arguments)}function WH(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function qH(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var HH=(function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=WH(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n})(),Ln="-ms-",Lg="-moz-",it="-webkit-",yD="comm",$T="rule",jT="decl",KH="@import",_D="@keyframes",GH="@layer",QH=Math.abs,Hy=String.fromCharCode,YH=Object.assign;function JH(n,e){return Tn(n,0)^45?(((e<<2^Tn(n,0))<<2^Tn(n,1))<<2^Tn(n,2))<<2^Tn(n,3):0}function vD(n){return n.trim()}function XH(n,e){return(n=e.exec(n))?n[0]:n}function st(n,e,t){return n.replace(e,t)}function wE(n,e){return n.indexOf(e)}function Tn(n,e){return n.charCodeAt(e)|0}function Xh(n,e,t){return n.slice(e,t)}function Vi(n){return n.length}function BT(n){return n.length}function gm(n,e){return e.push(n),n}function ZH(n,e){return n.map(e).join("")}var Ky=1,vc=1,wD=0,ur=0,Zt=0,Fc="";function Gy(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Ky,column:vc,length:l,return:""}}function Gd(n,e){return YH(Gy("",null,null,"",null,null,0),n,{length:-n.length},e)}function e7(){return Zt}function t7(){return Zt=ur>0?Tn(Fc,--ur):0,vc--,Zt===10&&(vc=1,Ky--),Zt}function Ar(){return Zt=ur<wD?Tn(Fc,ur++):0,vc++,Zt===10&&(vc=1,Ky++),Zt}function Ji(){return Tn(Fc,ur)}function Hm(){return ur}function Uf(n,e){return Xh(Fc,n,e)}function Zh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ED(n){return Ky=vc=1,wD=Vi(Fc=n),ur=0,[]}function ID(n){return Fc="",n}function Km(n){return vD(Uf(ur-1,EE(n===91?n+2:n===40?n+1:n)))}function n7(n){for(;(Zt=Ji())&&Zt<33;)Ar();return Zh(n)>2||Zh(Zt)>3?"":" "}function r7(n,e){for(;--e&&Ar()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return Uf(n,Hm()+(e<6&&Ji()==32&&Ar()==32))}function EE(n){for(;Ar();)switch(Zt){case n:return ur;case 34:case 39:n!==34&&n!==39&&EE(Zt);break;case 40:n===41&&EE(n);break;case 92:Ar();break}return ur}function i7(n,e){for(;Ar()&&n+Zt!==57;)if(n+Zt===84&&Ji()===47)break;return"/*"+Uf(e,ur-1)+"*"+Hy(n===47?n:Ar())}function s7(n){for(;!Zh(Ji());)Ar();return Uf(n,ur)}function o7(n){return ID(Gm("",null,null,null,[""],n=ED(n),0,[0],n))}function Gm(n,e,t,r,i,s,l,u,d){for(var f=0,m=0,y=l,E=0,C=0,T=0,R=1,k=1,j=1,V=0,$="",H=i,q=s,U=r,N=$;k;)switch(T=V,V=Ar()){case 40:if(T!=108&&Tn(N,y-1)==58){wE(N+=st(Km(V),"&","&\f"),"&\f")!=-1&&(j=-1);break}case 34:case 39:case 91:N+=Km(V);break;case 9:case 10:case 13:case 32:N+=n7(T);break;case 92:N+=r7(Hm()-1,7);continue;case 47:switch(Ji()){case 42:case 47:gm(a7(i7(Ar(),Hm()),e,t),d);break;default:N+="/"}break;case 123*R:u[f++]=Vi(N)*j;case 125*R:case 59:case 0:switch(V){case 0:case 125:k=0;case 59+m:j==-1&&(N=st(N,/\f/g,"")),C>0&&Vi(N)-y&&gm(C>32?VC(N+";",r,t,y-1):VC(st(N," ","")+";",r,t,y-2),d);break;case 59:N+=";";default:if(gm(U=LC(N,e,t,f,m,i,u,$,H=[],q=[],y),s),V===123)if(m===0)Gm(N,e,U,U,H,s,y,u,q);else switch(E===99&&Tn(N,3)===110?100:E){case 100:case 108:case 109:case 115:Gm(n,U,U,r&&gm(LC(n,U,U,0,0,i,u,$,i,H=[],y),q),i,q,y,u,r?H:q);break;default:Gm(N,U,U,U,[""],q,0,u,q)}}f=m=C=0,R=j=1,$=N="",y=l;break;case 58:y=1+Vi(N),C=T;default:if(R<1){if(V==123)--R;else if(V==125&&R++==0&&t7()==125)continue}switch(N+=Hy(V),V*R){case 38:j=m>0?1:(N+="\f",-1);break;case 44:u[f++]=(Vi(N)-1)*j,j=1;break;case 64:Ji()===45&&(N+=Km(Ar())),E=Ji(),m=y=Vi($=N+=s7(Hm())),V++;break;case 45:T===45&&Vi(N)==2&&(R=0)}}return s}function LC(n,e,t,r,i,s,l,u,d,f,m){for(var y=i-1,E=i===0?s:[""],C=BT(E),T=0,R=0,k=0;T<r;++T)for(var j=0,V=Xh(n,y+1,y=QH(R=l[T])),$=n;j<C;++j)($=vD(R>0?E[j]+" "+V:st(V,/&\f/g,E[j])))&&(d[k++]=$);return Gy(n,e,t,i===0?$T:u,d,f,m)}function a7(n,e,t){return Gy(n,e,t,yD,Hy(e7()),Xh(n,2,-2),0)}function VC(n,e,t,r){return Gy(n,e,t,jT,Xh(n,0,r),Xh(n,r+1,-1),r)}function Ku(n,e){for(var t="",r=BT(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function l7(n,e,t,r){switch(n.type){case GH:if(n.children.length)break;case KH:case jT:return n.return=n.return||n.value;case yD:return"";case _D:return n.return=n.value+"{"+Ku(n.children,r)+"}";case $T:n.value=n.props.join(",")}return Vi(t=Ku(n.children,r))?n.return=n.value+"{"+t+"}":""}function u7(n){var e=BT(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function c7(n){return function(e){e.root||(e=e.return)&&n(e)}}function TD(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var d7=function(e,t,r){for(var i=0,s=0;i=s,s=Ji(),i===38&&s===12&&(t[r]=1),!Zh(s);)Ar();return Uf(e,ur)},h7=function(e,t){var r=-1,i=44;do switch(Zh(i)){case 0:i===38&&Ji()===12&&(t[r]=1),e[r]+=d7(ur-1,t,r);break;case 2:e[r]+=Km(i);break;case 4:if(i===44){e[++r]=Ji()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Hy(i)}while(i=Ar());return e},f7=function(e,t){return ID(h7(ED(e),t))},MC=new WeakMap,p7=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!MC.get(r))&&!i){MC.set(e,!0);for(var s=[],l=f7(t,s),u=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<u.length;m++,f++)e.props[f]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},m7=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function SD(n,e){switch(JH(n,e)){case 5103:return it+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return it+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return it+n+Lg+n+Ln+n+n;case 6828:case 4268:return it+n+Ln+n+n;case 6165:return it+n+Ln+"flex-"+n+n;case 5187:return it+n+st(n,/(\w+).+(:[^]+)/,it+"box-$1$2"+Ln+"flex-$1$2")+n;case 5443:return it+n+Ln+"flex-item-"+st(n,/flex-|-self/,"")+n;case 4675:return it+n+Ln+"flex-line-pack"+st(n,/align-content|flex-|-self/,"")+n;case 5548:return it+n+Ln+st(n,"shrink","negative")+n;case 5292:return it+n+Ln+st(n,"basis","preferred-size")+n;case 6060:return it+"box-"+st(n,"-grow","")+it+n+Ln+st(n,"grow","positive")+n;case 4554:return it+st(n,/([^-])(transform)/g,"$1"+it+"$2")+n;case 6187:return st(st(st(n,/(zoom-|grab)/,it+"$1"),/(image-set)/,it+"$1"),n,"")+n;case 5495:case 3959:return st(n,/(image-set\([^]*)/,it+"$1$`$1");case 4968:return st(st(n,/(.+:)(flex-)?(.*)/,it+"box-pack:$3"+Ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+it+n+n;case 4095:case 3583:case 4068:case 2532:return st(n,/(.+)-inline(.+)/,it+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vi(n)-1-e>6)switch(Tn(n,e+1)){case 109:if(Tn(n,e+4)!==45)break;case 102:return st(n,/(.+:)(.+)-([^]+)/,"$1"+it+"$2-$3$1"+Lg+(Tn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~wE(n,"stretch")?SD(st(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Tn(n,e+1)!==115)break;case 6444:switch(Tn(n,Vi(n)-3-(~wE(n,"!important")&&10))){case 107:return st(n,":",":"+it)+n;case 101:return st(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+it+(Tn(n,14)===45?"inline-":"")+"box$3$1"+it+"$2$3$1"+Ln+"$2box$3")+n}break;case 5936:switch(Tn(n,e+11)){case 114:return it+n+Ln+st(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return it+n+Ln+st(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return it+n+Ln+st(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return it+n+Ln+n+n}return n}var g7=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case jT:e.return=SD(e.value,e.length);break;case _D:return Ku([Gd(e,{value:st(e.value,"@","@"+it)})],i);case $T:if(e.length)return ZH(e.props,function(s){switch(XH(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ku([Gd(e,{props:[st(s,/:(read-\w+)/,":"+Lg+"$1")]})],i);case"::placeholder":return Ku([Gd(e,{props:[st(s,/:(plac\w+)/,":"+it+"input-$1")]}),Gd(e,{props:[st(s,/:(plac\w+)/,":"+Lg+"$1")]}),Gd(e,{props:[st(s,/:(plac\w+)/,Ln+"input-$1")]})],i)}return""})}},y7=[g7],_7=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var k=R.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||y7,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var k=R.getAttribute("data-emotion").split(" "),j=1;j<k.length;j++)s[k[j]]=!0;u.push(R)});var d,f=[p7,m7];{var m,y=[l7,c7(function(R){m.insert(R)})],E=u7(f.concat(i,y)),C=function(k){return Ku(o7(k),E)};d=function(k,j,V,$){m=V,C(k?k+"{"+j.styles+"}":j.styles),$&&(T.inserted[j.name]=!0)}}var T={key:t,sheet:new HH({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return T.sheet.hydrate(u),T},v7=!0;function w7(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var RD=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||v7===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},E7=function(e,t,r){RD(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function I7(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var T7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},S7=/[A-Z]|^ms/g,R7=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AD=function(e){return e.charCodeAt(1)===45},FC=function(e){return e!=null&&typeof e!="boolean"},lw=TD(function(n){return AD(n)?n:n.replace(S7,"-$&").toLowerCase()}),UC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(R7,function(r,i,s){return Mi={name:i,styles:s,next:Mi},i})}return T7[e]!==1&&!AD(e)&&typeof t=="number"&&t!==0?t+"px":t};function ef(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Mi={name:i.name,styles:i.styles,next:Mi},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Mi={name:l.name,styles:l.styles,next:Mi},l=l.next;var u=s.styles+";";return u}return A7(n,e,t)}case"function":{if(n!==void 0){var d=Mi,f=t(n);return Mi=d,ef(n,e,f)}break}}var m=t;if(e==null)return m;var y=e[m];return y!==void 0?y:m}function A7(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ef(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":FC(u)&&(r+=lw(s)+":"+UC(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)FC(l[d])&&(r+=lw(s)+":"+UC(s,l[d])+";");else{var f=ef(n,e,l);switch(s){case"animation":case"animationName":{r+=lw(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var $C=/label:\s*([^\s;{]+)\s*(;|$)/g,Mi;function PD(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Mi=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=ef(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=ef(t,e,n[u]),r){var d=s;i+=d[u]}$C.lastIndex=0;for(var f="",m;(m=$C.exec(i))!==null;)f+="-"+m[1];var y=I7(i)+f;return{name:y,styles:i,next:Mi}}var P7=function(e){return e()},C7=pw.useInsertionEffect?pw.useInsertionEffect:!1,b7=C7||P7,CD=Q.createContext(typeof HTMLElement<"u"?_7({key:"css"}):null);CD.Provider;var k7=function(e){return Q.forwardRef(function(t,r){var i=Q.useContext(CD);return e(t,i,r)})},x7=Q.createContext({}),O7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,N7=TD(function(n){return O7.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),D7=N7,L7=function(e){return e!=="theme"},jC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?D7:L7},BC=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},V7=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return RD(t,r,i),b7(function(){return E7(t,r,i)}),null},M7=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=BC(e,t,r),d=u||jC(i),f=!d("as");return function(){var m=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&y.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)y.push.apply(y,m);else{var E=m[0];y.push(E[0]);for(var C=m.length,T=1;T<C;T++)y.push(m[T],E[T])}var R=k7(function(k,j,V){var $=f&&k.as||i,H="",q=[],U=k;if(k.theme==null){U={};for(var N in k)U[N]=k[N];U.theme=Q.useContext(x7)}typeof k.className=="string"?H=w7(j.registered,q,k.className):k.className!=null&&(H=k.className+" ");var A=PD(y.concat(q),j.registered,U);H+=j.key+"-"+A.name,l!==void 0&&(H+=" "+l);var b=f&&u===void 0?jC($):d,L={};for(var x in k)f&&x==="as"||b(x)&&(L[x]=k[x]);return L.className=H,V&&(L.ref=V),Q.createElement(Q.Fragment,null,Q.createElement(V7,{cache:j,serialized:A,isStringTag:typeof $=="string"}),Q.createElement($,L))});return R.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=y,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(k,j){var V=n(k,vE({},t,j,{shouldForwardProp:BC(R,j,!0)}));return V.apply(void 0,y)},R}},F7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],IE=M7.bind(null);F7.forEach(function(n){IE[n]=IE(n)});function U7(n,e){return IE(n,e)}function $7(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const zC=[];function ul(n){return zC[0]=n,PD(zC)}const j7=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function B7(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=j7(e),l=Object.keys(s);function u(E){return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t})`}function d(E){return`@media (max-width:${(typeof e[E]=="number"?e[E]:E)-r/100}${t})`}function f(E,C){const T=l.indexOf(C);return`@media (min-width:${typeof e[E]=="number"?e[E]:E}${t}) and (max-width:${(T!==-1&&typeof e[l[T]]=="number"?e[l[T]]:C)-r/100}${t})`}function m(E){return l.indexOf(E)+1<l.length?f(E,l[l.indexOf(E)+1]):u(E)}function y(E){const C=l.indexOf(E);return C===0?u(l[1]):C===l.length-1?d(l[C]):f(E,l[l.indexOf(E)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:f,only:m,not:y,unit:t,...i}}const z7={borderRadius:4};function bD(n=8,e=FT({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function W7(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function kD(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=B7(t),d=bD(i);let f=Rr({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...z7,...s}},l);return f=nH(f),f.applyStyles=W7,f=e.reduce((m,y)=>Rr(m,y),f),f.unstable_sxConfig={...qy,...l?.unstable_sxConfig},f.unstable_sx=function(y){return _c({sx:y,theme:this})},f}const q7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function zT(n,e,t="Mui"){const r=q7[e];return r?`${t}-${r}`:`${Jq.generate(n)}-${e}`}function xD(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=zT(n,i,t)}),r}function OD(n){const{variants:e,...t}=n,r={variants:e,style:ul(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=ul(i.style))}),r}const H7=kD();function uw(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function il(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function K7(n){return n?(e,t)=>t[n]:null}function G7(n,e,t){n.theme=J7(n.theme)?t:n.theme[e]||n.theme}function Qm(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(i=>Qm(n,i,t));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=t?il(r.style,t):r.style;else{const{variants:s,...l}=r;i=t?il(ul(l),t):l}return ND(n,r.variants,[i],t)}return r?.isProcessed?t?il(ul(r.style),t):r.style:t?il(ul(r),t):r}function ND(n,e,t=[],r=void 0){let i;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(i??={...n,...n.ownerState,ownerState:n.ownerState},!l.props(i))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&n.ownerState?.[u]!==l.props[u])continue e;typeof l.style=="function"?(i??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?il(ul(l.style(i)),r):l.style(i))):t.push(r?il(ul(l.style),r):l.style)}return t}function Q7(n={}){const{themeId:e,defaultTheme:t=H7,rootShouldForwardProp:r=uw,slotShouldForwardProp:i=uw}=n;function s(u){G7(u,e,t)}return(u,d={})=>{$7(u,U=>U.filter(N=>N!==_c));const{name:f,slot:m,skipVariantsResolver:y,skipSx:E,overridesResolver:C=K7(Z7(m)),...T}=d,R=f&&f.startsWith("Mui")||m?"components":"custom",k=y!==void 0?y:m&&m!=="Root"&&m!=="root"||!1,j=E||!1;let V=uw;m==="Root"||m==="root"?V=r:m?V=i:X7(u)&&(V=void 0);const $=U7(u,{shouldForwardProp:V,label:Y7(),...T}),H=U=>{if(U.__emotion_real===U)return U;if(typeof U=="function")return function(A){return Qm(A,U,A.theme.modularCssLayers?R:void 0)};if(ks(U)){const N=OD(U);return function(b){return N.variants?Qm(b,N,b.theme.modularCssLayers?R:void 0):b.theme.modularCssLayers?il(N.style,R):N.style}}return U},q=(...U)=>{const N=[],A=U.map(H),b=[];if(N.push(s),f&&C&&b.push(function(S){const D=S.theme.components?.[f]?.styleOverrides;if(!D)return null;const oe={};for(const ae in D)oe[ae]=Qm(S,D[ae],S.theme.modularCssLayers?"theme":void 0);return C(S,oe)}),f&&!k&&b.push(function(S){const D=S.theme?.components?.[f]?.variants;return D?ND(S,D,[],S.theme.modularCssLayers?"theme":void 0):null}),j||b.push(_c),Array.isArray(A[0])){const w=A.shift(),S=new Array(N.length).fill(""),B=new Array(b.length).fill("");let D;D=[...S,...w,...B],D.raw=[...S,...w.raw,...B],N.unshift(D)}const L=[...N,...A,...b],x=$(...L);return u.muiName&&(x.muiName=u.muiName),x};return $.withConfig&&(q.withConfig=$.withConfig),q}}function Y7(n,e){return void 0}function J7(n){for(const e in n)return!1;return!0}function X7(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Z7(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function TE(n,e,t=!1){const r={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")r[s]={...n[s],...r[s]};else if(s==="componentsProps"||s==="slotProps"){const l=n[s],u=e[s];if(!u)r[s]=l||{};else if(!l)r[s]=u;else{r[s]={...u};for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=d;r[s][f]=TE(l[f],u[f],t)}}}else s==="className"&&t&&e.className?r.className=Ho(n?.className,e?.className):s==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[s]===void 0&&(r[s]=n[s])}return r}function WT(n,e=0,t=1){return hD(n,e,t)}function eK(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ia(n){if(n.type)return n;if(n.charAt(0)==="#")return ia(eK(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Tl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Tl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const tK=n=>{const e=ia(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},ah=(n,e)=>{try{return tK(n)}catch{return n}};function Qy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function DD(n){n=ia(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(f,m=(f+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),Qy({type:u,values:d})}function SE(n){n=ia(n);let e=n.type==="hsl"||n.type==="hsla"?ia(DD(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function nK(n,e){const t=SE(n),r=SE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function LD(n,e){return n=ia(n),e=WT(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Qy(n)}function za(n,e,t){try{return LD(n,e)}catch{return n}}function Yy(n,e){if(n=ia(n),e=WT(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Qy(n)}function ut(n,e,t){try{return Yy(n,e)}catch{return n}}function Jy(n,e){if(n=ia(n),e=WT(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Qy(n)}function ct(n,e,t){try{return Jy(n,e)}catch{return n}}function rK(n,e=.15){return SE(n)>.5?Yy(n,e):Jy(n,e)}function ym(n,e,t){try{return rK(n,e)}catch{return n}}const iK=Q.createContext(void 0);function sK(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?TE(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?TE(i,r,e.components.mergeClassNameAndStyle):r}function oK({props:n,name:e}){const t=Q.useContext(iK);return sK({props:n,name:e,theme:{components:t}})}let WC=0;function aK(n){const[e,t]=Q.useState(n),r=n||e;return Q.useEffect(()=>{e==null&&(WC+=1,t(`mui-${WC}`))},[e]),r}const lK={...pw},qC=lK.useId;function VD(n){if(qC!==void 0){const e=qC();return n??e}return aK(n)}const HC={theme:void 0};function uK(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(HC.theme=i.theme,s=OD(n(HC)),e=s,t=i.theme),s}}function cK(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const KC=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},dK=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},hK=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function cw(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return dK(n,(u,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,y=hK(u,d);Object.assign(i,{[m]:y}),KC(s,u,`var(${m})`,f),KC(l,u,`var(${m}, ${y})`,f)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function fK(n,e={}){const{getSelector:t=j,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:s}=e,{colorSchemes:l={},components:u,defaultColorScheme:d="light",...f}=n,{vars:m,css:y,varsWithDefaults:E}=cw(f,e);let C=E;const T={},{[d]:R,...k}=l;if(Object.entries(k||{}).forEach(([H,q])=>{const{vars:U,css:N,varsWithDefaults:A}=cw(q,e);C=Rr(C,A),T[H]={css:N,vars:U}}),R){const{css:H,vars:q,varsWithDefaults:U}=cw(R,e);C=Rr(C,U),T[d]={css:H,vars:q}}function j(H,q){let U=i;if(i==="class"&&(U=".%s"),i==="data"&&(U="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(U=`[${i}="%s"]`),H){if(U==="media")return n.defaultColorScheme===H?":root":{[`@media (prefers-color-scheme: ${l[H]?.palette?.mode||H})`]:{":root":q}};if(U)return n.defaultColorScheme===H?`:root, ${U.replace("%s",String(H))}`:U.replace("%s",String(H))}return":root"}return{vars:C,generateThemeVars:()=>{let H={...m};return Object.entries(T).forEach(([,{vars:q}])=>{H=Rr(H,q)}),H},generateStyleSheets:()=>{const H=[],q=n.defaultColorScheme||"light";function U(b,L){Object.keys(L).length&&H.push(typeof b=="string"?{[b]:{...L}}:b)}U(t(void 0,{...y}),y);const{[q]:N,...A}=T;if(N){const{css:b}=N,L=l[q]?.palette?.mode,x=!r&&L?{colorScheme:L,...b}:{...b};U(t(q,{...x}),x)}return Object.entries(A).forEach(([b,{css:L}])=>{const x=l[b]?.palette?.mode,w=!r&&x?{colorScheme:x,...L}:{...L};U(t(b,{...w}),w)}),s&&H.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),H}}}function pK(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const tf={black:"#000",white:"#fff"},mK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Iu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Tu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Qd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Su={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ru={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Au={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function MD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tf.white,default:tf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const FD=MD();function UD(){return{text:{primary:tf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const RE=UD();function GC(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Jy(n.main,i):e==="dark"&&(n.dark=Yy(n.main,s)))}function QC(n,e,t,r,i){const s=i.light||i,l=i.dark||i*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(l*100).toFixed(0)}%)`))}function gK(n="light"){return n==="dark"?{main:Su[200],light:Su[50],dark:Su[400]}:{main:Su[700],light:Su[400],dark:Su[800]}}function yK(n="light"){return n==="dark"?{main:Iu[200],light:Iu[50],dark:Iu[400]}:{main:Iu[500],light:Iu[300],dark:Iu[700]}}function _K(n="light"){return n==="dark"?{main:Tu[500],light:Tu[300],dark:Tu[700]}:{main:Tu[700],light:Tu[400],dark:Tu[800]}}function vK(n="light"){return n==="dark"?{main:Ru[400],light:Ru[300],dark:Ru[700]}:{main:Ru[700],light:Ru[500],dark:Ru[900]}}function wK(n="light"){return n==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[800],light:Au[500],dark:Au[900]}}function EK(n="light"){return n==="dark"?{main:Qd[400],light:Qd[300],dark:Qd[700]}:{main:"#ed6c02",light:Qd[500],dark:Qd[900]}}function IK(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function qT(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,colorSpace:i,...s}=n,l=n.primary||gK(e),u=n.secondary||yK(e),d=n.error||_K(e),f=n.info||vK(e),m=n.success||wK(e),y=n.warning||EK(e);function E(k){return i?IK(k):nK(k,RE.text.primary)>=t?RE.text.primary:FD.text.primary}const C=({color:k,name:j,mainShade:V=500,lightShade:$=300,darkShade:H=700})=>{if(k={...k},!k.main&&k[V]&&(k.main=k[V]),!k.hasOwnProperty("main"))throw new Error(Tl(11,j?` (${j})`:"",V));if(typeof k.main!="string")throw new Error(Tl(12,j?` (${j})`:"",JSON.stringify(k.main)));return i?(QC(i,k,"light",$,r),QC(i,k,"dark",H,r)):(GC(k,"light",$,r),GC(k,"dark",H,r)),k.contrastText||(k.contrastText=E(k.main)),k};let T;return e==="light"?T=MD():e==="dark"&&(T=UD()),Rr({common:{...tf},mode:e,primary:C({color:l,name:"primary"}),secondary:C({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:d,name:"error"}),warning:C({color:y,name:"warning"}),info:C({color:f,name:"info"}),success:C({color:m,name:"success"}),grey:mK,contrastThreshold:t,getContrastText:E,augmentColor:C,tonalOffset:r,...T},s)}function TK(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function SK(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function RK(n){return Math.round(n*1e5)/1e5}const YC={textTransform:"uppercase"},JC='"Roboto", "Helvetica", "Arial", sans-serif';function AK(n,e){const{fontFamily:t=JC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:m,...y}=typeof e=="function"?e(n):e,E=r/14,C=m||(k=>`${k/d*E}rem`),T=(k,j,V,$,H)=>({fontFamily:t,fontWeight:k,fontSize:C(j),lineHeight:V,...t===JC?{letterSpacing:`${RK($/j)}em`}:{},...H,...f}),R={h1:T(i,96,1.167,-1.5),h2:T(i,60,1.2,-.5),h3:T(s,48,1.167,0),h4:T(s,34,1.235,.25),h5:T(s,24,1.334,0),h6:T(l,20,1.6,.15),subtitle1:T(s,16,1.75,.15),subtitle2:T(l,14,1.57,.1),body1:T(s,16,1.5,.15),body2:T(s,14,1.43,.15),button:T(l,14,1.75,.4,YC),caption:T(s,12,1.66,.4),overline:T(s,12,2.66,1,YC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rr({htmlFontSize:d,pxToRem:C,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...R},y,{clone:!1})}const PK=.2,CK=.14,bK=.12;function Rt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${PK})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${CK})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${bK})`].join(",")}const kK=["none",Rt(0,2,1,-1,0,1,1,0,0,1,3,0),Rt(0,3,1,-2,0,2,2,0,0,1,5,0),Rt(0,3,3,-2,0,3,4,0,0,1,8,0),Rt(0,2,4,-1,0,4,5,0,0,1,10,0),Rt(0,3,5,-1,0,5,8,0,0,1,14,0),Rt(0,3,5,-1,0,6,10,0,0,1,18,0),Rt(0,4,5,-2,0,7,10,1,0,2,16,1),Rt(0,5,5,-3,0,8,10,1,0,3,14,2),Rt(0,5,6,-3,0,9,12,1,0,3,16,2),Rt(0,6,6,-3,0,10,14,1,0,4,18,3),Rt(0,6,7,-4,0,11,15,1,0,4,20,3),Rt(0,7,8,-4,0,12,17,2,0,5,22,4),Rt(0,7,8,-4,0,13,19,2,0,5,24,4),Rt(0,7,9,-4,0,14,21,2,0,5,26,4),Rt(0,8,9,-5,0,15,22,2,0,6,28,5),Rt(0,8,10,-5,0,16,24,2,0,6,30,5),Rt(0,8,11,-5,0,17,26,2,0,6,32,5),Rt(0,9,11,-5,0,18,28,2,0,7,34,6),Rt(0,9,12,-6,0,19,29,2,0,7,36,6),Rt(0,10,13,-6,0,20,31,3,0,8,38,7),Rt(0,10,13,-6,0,21,33,3,0,8,40,7),Rt(0,10,14,-6,0,22,35,3,0,8,42,7),Rt(0,11,14,-7,0,23,36,3,0,9,44,8),Rt(0,11,15,-7,0,24,38,3,0,9,46,8)],xK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},OK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XC(n){return`${Math.round(n)}ms`}function NK(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function DK(n){const e={...xK,...n.easing},t={...OK,...n.duration};return{getAutoHeightDuration:NK,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...f}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:XC(l)} ${u} ${typeof d=="string"?d:XC(d)}`).join(",")},...n,easing:e,duration:t}}const LK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function VK(n){return ks(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function $D(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!VK(u)||l.startsWith("unstable_")?delete r[l]:ks(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function ZC(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const MK=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let r=0;r<e.length;r+=1)t+=+e[r];return t};function FK(n){Object.assign(n,{alpha(e,t){const r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:LD(e,MK(t))},lighten(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${ZC(t)})`:Jy(e,t)},darken(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${ZC(t)})`:Yy(e,t)}})}function AE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,colorSpace:f,...m}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Tl(20));const y=qT({...s,colorSpace:f}),E=kD(n);let C=Rr(E,{mixins:SK(E.breakpoints,r),palette:y,shadows:kK.slice(),typography:AK(y,u),transitions:DK(l),zIndex:{...LK}});return C=Rr(C,m),C=e.reduce((T,R)=>Rr(T,R),C),C.unstable_sxConfig={...qy,...m?.unstable_sxConfig},C.unstable_sx=function(R){return _c({sx:R,theme:this})},C.toRuntimeSource=$D,FK(C),C}function UK(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const $K=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=UK(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function jD(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function BD(n){return n==="dark"?$K:[]}function jK(n){const{palette:e={mode:"light"},opacity:t,overlays:r,colorSpace:i,...s}=n,l=qT({...e,colorSpace:i});return{palette:l,opacity:{...jD(l.mode),...t},overlays:r||BD(l.mode),...s}}function BK(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const zK=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],WK=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return zK(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function qK(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function lh(n){return typeof n!="string"||!n.startsWith("hsl")?n:DD(n)}function Ps(n,e){`${e}Channel`in n||(n[`${e}Channel`]=ah(lh(n[e])))}function HK(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ni=n=>{try{return n()}catch{}},KK=(n="mui")=>cK(n);function dw(n,e,t,r,i){if(!t)return;t=t===!0?{}:t;const s=i==="dark"?"dark":"light";if(!r){e[i]=jK({...t,palette:{mode:s,...t?.palette},colorSpace:n});return}const{palette:l,...u}=AE({...r,palette:{mode:s,...t?.palette},colorSpace:n});return e[i]={...t,palette:l,opacity:{...jD(s),...t?.opacity},overlays:t?.overlays||BD(s)},u}function GK(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",nativeColor:l=!1,shouldSkipGeneratingVar:u=BK,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...m}=n,y=Object.keys(t)[0],E=r||(t.light&&y!=="light"?"light":y),C=KK(s),{[E]:T,light:R,dark:k,...j}=t,V={...j};let $=T;if((E==="dark"&&!("dark"in t)||E==="light"&&!("light"in t))&&($=!0),!$)throw new Error(Tl(21,E));let H;l&&(H="oklch");const q=dw(H,V,$,m,E);R&&!V.light&&dw(H,V,R,void 0,"light"),k&&!V.dark&&dw(H,V,k,void 0,"dark");let U={defaultColorScheme:E,...q,cssVarPrefix:s,colorSchemeSelector:d,rootSelector:f,getCssVar:C,colorSchemes:V,font:{...TK(q.typography),...q.font},spacing:HK(m.spacing)};Object.keys(U.colorSchemes).forEach(x=>{const w=U.colorSchemes[x].palette,S=D=>{const oe=D.split("-"),ae=oe[1],K=oe[2];return C(D,w[ae][K])};w.mode==="light"&&(se(w.common,"background","#fff"),se(w.common,"onBackground","#000")),w.mode==="dark"&&(se(w.common,"background","#000"),se(w.common,"onBackground","#fff"));function B(D,oe,ae){if(H){let K;return D===za&&(K=`transparent ${((1-ae)*100).toFixed(0)}%`),D===ut&&(K=`#000 ${(ae*100).toFixed(0)}%`),D===ct&&(K=`#fff ${(ae*100).toFixed(0)}%`),`color-mix(in ${H}, ${oe}, ${K})`}return D(oe,ae)}if(qK(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){se(w.Alert,"errorColor",B(ut,w.error.light,.6)),se(w.Alert,"infoColor",B(ut,w.info.light,.6)),se(w.Alert,"successColor",B(ut,w.success.light,.6)),se(w.Alert,"warningColor",B(ut,w.warning.light,.6)),se(w.Alert,"errorFilledBg",S("palette-error-main")),se(w.Alert,"infoFilledBg",S("palette-info-main")),se(w.Alert,"successFilledBg",S("palette-success-main")),se(w.Alert,"warningFilledBg",S("palette-warning-main")),se(w.Alert,"errorFilledColor",Ni(()=>w.getContrastText(w.error.main))),se(w.Alert,"infoFilledColor",Ni(()=>w.getContrastText(w.info.main))),se(w.Alert,"successFilledColor",Ni(()=>w.getContrastText(w.success.main))),se(w.Alert,"warningFilledColor",Ni(()=>w.getContrastText(w.warning.main))),se(w.Alert,"errorStandardBg",B(ct,w.error.light,.9)),se(w.Alert,"infoStandardBg",B(ct,w.info.light,.9)),se(w.Alert,"successStandardBg",B(ct,w.success.light,.9)),se(w.Alert,"warningStandardBg",B(ct,w.warning.light,.9)),se(w.Alert,"errorIconColor",S("palette-error-main")),se(w.Alert,"infoIconColor",S("palette-info-main")),se(w.Alert,"successIconColor",S("palette-success-main")),se(w.Alert,"warningIconColor",S("palette-warning-main")),se(w.AppBar,"defaultBg",S("palette-grey-100")),se(w.Avatar,"defaultBg",S("palette-grey-400")),se(w.Button,"inheritContainedBg",S("palette-grey-300")),se(w.Button,"inheritContainedHoverBg",S("palette-grey-A100")),se(w.Chip,"defaultBorder",S("palette-grey-400")),se(w.Chip,"defaultAvatarColor",S("palette-grey-700")),se(w.Chip,"defaultIconColor",S("palette-grey-700")),se(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(w.LinearProgress,"primaryBg",B(ct,w.primary.main,.62)),se(w.LinearProgress,"secondaryBg",B(ct,w.secondary.main,.62)),se(w.LinearProgress,"errorBg",B(ct,w.error.main,.62)),se(w.LinearProgress,"infoBg",B(ct,w.info.main,.62)),se(w.LinearProgress,"successBg",B(ct,w.success.main,.62)),se(w.LinearProgress,"warningBg",B(ct,w.warning.main,.62)),se(w.Skeleton,"bg",H?B(za,w.text.primary,.11):`rgba(${S("palette-text-primaryChannel")} / 0.11)`),se(w.Slider,"primaryTrack",B(ct,w.primary.main,.62)),se(w.Slider,"secondaryTrack",B(ct,w.secondary.main,.62)),se(w.Slider,"errorTrack",B(ct,w.error.main,.62)),se(w.Slider,"infoTrack",B(ct,w.info.main,.62)),se(w.Slider,"successTrack",B(ct,w.success.main,.62)),se(w.Slider,"warningTrack",B(ct,w.warning.main,.62));const D=H?B(ut,w.background.default,.6825):ym(w.background.default,.8);se(w.SnackbarContent,"bg",D),se(w.SnackbarContent,"color",Ni(()=>H?RE.text.primary:w.getContrastText(D))),se(w.SpeedDialAction,"fabHoverBg",ym(w.background.paper,.15)),se(w.StepConnector,"border",S("palette-grey-400")),se(w.StepContent,"border",S("palette-grey-400")),se(w.Switch,"defaultColor",S("palette-common-white")),se(w.Switch,"defaultDisabledColor",S("palette-grey-100")),se(w.Switch,"primaryDisabledColor",B(ct,w.primary.main,.62)),se(w.Switch,"secondaryDisabledColor",B(ct,w.secondary.main,.62)),se(w.Switch,"errorDisabledColor",B(ct,w.error.main,.62)),se(w.Switch,"infoDisabledColor",B(ct,w.info.main,.62)),se(w.Switch,"successDisabledColor",B(ct,w.success.main,.62)),se(w.Switch,"warningDisabledColor",B(ct,w.warning.main,.62)),se(w.TableCell,"border",B(ct,B(za,w.divider,1),.88)),se(w.Tooltip,"bg",B(za,w.grey[700],.92))}if(w.mode==="dark"){se(w.Alert,"errorColor",B(ct,w.error.light,.6)),se(w.Alert,"infoColor",B(ct,w.info.light,.6)),se(w.Alert,"successColor",B(ct,w.success.light,.6)),se(w.Alert,"warningColor",B(ct,w.warning.light,.6)),se(w.Alert,"errorFilledBg",S("palette-error-dark")),se(w.Alert,"infoFilledBg",S("palette-info-dark")),se(w.Alert,"successFilledBg",S("palette-success-dark")),se(w.Alert,"warningFilledBg",S("palette-warning-dark")),se(w.Alert,"errorFilledColor",Ni(()=>w.getContrastText(w.error.dark))),se(w.Alert,"infoFilledColor",Ni(()=>w.getContrastText(w.info.dark))),se(w.Alert,"successFilledColor",Ni(()=>w.getContrastText(w.success.dark))),se(w.Alert,"warningFilledColor",Ni(()=>w.getContrastText(w.warning.dark))),se(w.Alert,"errorStandardBg",B(ut,w.error.light,.9)),se(w.Alert,"infoStandardBg",B(ut,w.info.light,.9)),se(w.Alert,"successStandardBg",B(ut,w.success.light,.9)),se(w.Alert,"warningStandardBg",B(ut,w.warning.light,.9)),se(w.Alert,"errorIconColor",S("palette-error-main")),se(w.Alert,"infoIconColor",S("palette-info-main")),se(w.Alert,"successIconColor",S("palette-success-main")),se(w.Alert,"warningIconColor",S("palette-warning-main")),se(w.AppBar,"defaultBg",S("palette-grey-900")),se(w.AppBar,"darkBg",S("palette-background-paper")),se(w.AppBar,"darkColor",S("palette-text-primary")),se(w.Avatar,"defaultBg",S("palette-grey-600")),se(w.Button,"inheritContainedBg",S("palette-grey-800")),se(w.Button,"inheritContainedHoverBg",S("palette-grey-700")),se(w.Chip,"defaultBorder",S("palette-grey-700")),se(w.Chip,"defaultAvatarColor",S("palette-grey-300")),se(w.Chip,"defaultIconColor",S("palette-grey-300")),se(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(w.LinearProgress,"primaryBg",B(ut,w.primary.main,.5)),se(w.LinearProgress,"secondaryBg",B(ut,w.secondary.main,.5)),se(w.LinearProgress,"errorBg",B(ut,w.error.main,.5)),se(w.LinearProgress,"infoBg",B(ut,w.info.main,.5)),se(w.LinearProgress,"successBg",B(ut,w.success.main,.5)),se(w.LinearProgress,"warningBg",B(ut,w.warning.main,.5)),se(w.Skeleton,"bg",H?B(za,w.text.primary,.13):`rgba(${S("palette-text-primaryChannel")} / 0.13)`),se(w.Slider,"primaryTrack",B(ut,w.primary.main,.5)),se(w.Slider,"secondaryTrack",B(ut,w.secondary.main,.5)),se(w.Slider,"errorTrack",B(ut,w.error.main,.5)),se(w.Slider,"infoTrack",B(ut,w.info.main,.5)),se(w.Slider,"successTrack",B(ut,w.success.main,.5)),se(w.Slider,"warningTrack",B(ut,w.warning.main,.5));const D=H?B(ct,w.background.default,.985):ym(w.background.default,.98);se(w.SnackbarContent,"bg",D),se(w.SnackbarContent,"color",Ni(()=>H?FD.text.primary:w.getContrastText(D))),se(w.SpeedDialAction,"fabHoverBg",ym(w.background.paper,.15)),se(w.StepConnector,"border",S("palette-grey-600")),se(w.StepContent,"border",S("palette-grey-600")),se(w.Switch,"defaultColor",S("palette-grey-300")),se(w.Switch,"defaultDisabledColor",S("palette-grey-600")),se(w.Switch,"primaryDisabledColor",B(ut,w.primary.main,.55)),se(w.Switch,"secondaryDisabledColor",B(ut,w.secondary.main,.55)),se(w.Switch,"errorDisabledColor",B(ut,w.error.main,.55)),se(w.Switch,"infoDisabledColor",B(ut,w.info.main,.55)),se(w.Switch,"successDisabledColor",B(ut,w.success.main,.55)),se(w.Switch,"warningDisabledColor",B(ut,w.warning.main,.55)),se(w.TableCell,"border",B(ut,B(za,w.divider,1),.68)),se(w.Tooltip,"bg",B(za,w.grey[700],.92))}Ps(w.background,"default"),Ps(w.background,"paper"),Ps(w.common,"background"),Ps(w.common,"onBackground"),Ps(w,"divider"),Object.keys(w).forEach(D=>{const oe=w[D];D!=="tonalOffset"&&oe&&typeof oe=="object"&&(oe.main&&se(w[D],"mainChannel",ah(lh(oe.main))),oe.light&&se(w[D],"lightChannel",ah(lh(oe.light))),oe.dark&&se(w[D],"darkChannel",ah(lh(oe.dark))),oe.contrastText&&se(w[D],"contrastTextChannel",ah(lh(oe.contrastText))),D==="text"&&(Ps(w[D],"primary"),Ps(w[D],"secondary")),D==="action"&&(oe.active&&Ps(w[D],"active"),oe.selected&&Ps(w[D],"selected")))})}),U=e.reduce((x,w)=>Rr(x,w),U);const N={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:WK(U),enableContrastVars:l},{vars:A,generateThemeVars:b,generateStyleSheets:L}=fK(U,N);return U.vars=A,Object.entries(U.colorSchemes[U.defaultColorScheme]).forEach(([x,w])=>{U[x]=w}),U.generateThemeVars=b,U.generateStyleSheets=L,U.generateSpacing=function(){return bD(m.spacing,FT(this))},U.getColorSchemeSelector=pK(d),U.spacing=U.generateSpacing(),U.shouldSkipGeneratingVar=u,U.unstable_sxConfig={...qy,...m?.unstable_sxConfig},U.unstable_sx=function(w){return _c({sx:w,theme:this})},U.toRuntimeSource=$D,U}function eb(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:qT({...t===!0?{}:t.palette,mode:e})})}function QK(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...l}=n,u=s||"light",d=i?.[u],f={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return AE(n,...e);let m=t;"palette"in n||f[u]&&(f[u]!==!0?m=f[u].palette:u==="dark"&&(m={mode:"dark"}));const y=AE({...n,palette:m},...e);return y.defaultColorScheme=u,y.colorSchemes=f,y.palette.mode==="light"&&(y.colorSchemes.light={...f.light!==!0&&f.light,palette:y.palette},eb(y,"dark",f.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:y.palette},eb(y,"light",f.light)),y}return!t&&!("light"in f)&&u==="light"&&(f.light=!0),GK({...l,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const YK=QK(),JK="$$material";function zD(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const XK=n=>zD(n)&&n!=="classes",$f=Q7({themeId:JK,defaultTheme:YK,rootShouldForwardProp:XK}),HT=uK;function WD(n){return oK(n)}function ZK(n){return zT("MuiSvgIcon",n)}xD("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const eG=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${ra(e)}`,`fontSize${ra(t)}`]};return fD(i,ZK,r)},tG=$f("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${ra(t.color)}`],e[`fontSize${ra(t.fontSize)}`]]}})(HT(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),PE=Q.forwardRef(function(e,t){const r=WD({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:y,viewBox:E="0 0 24 24",...C}=r,T=Q.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:E,hasSvgAsChild:T},k={};m||(k.viewBox=E);const j=eG(R);return F.jsxs(tG,{as:u,className:Ho(j.root,s),focusable:"false",color:f,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:t,...k,...C,...T&&i.props,ownerState:R,children:[T?i.props.children:i,y?F.jsx("title",{children:y}):null]})});PE.muiName="SvgIcon";function qD(n,e){function t(r,i){return F.jsx(PE,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=PE.muiName,Q.memo(Q.forwardRef(t))}function nG(n){const{controlled:e,default:t}=n,{current:r}=Q.useRef(e!==void 0),[i,s]=Q.useState(t),l=r?e:i,u=Q.useCallback(d=>{r||s(d)},[]);return[l,u]}function HD(...n){const e=Q.useRef(void 0),t=Q.useCallback(r=>{const i=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const l=s,u=l(r);return typeof u=="function"?u:()=>{l(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s?.())}},n);return Q.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const rG=qD(F.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),iG=qD(F.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function sG(n){return zT("MuiRating",n)}const Yd=xD("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function oG(n){return typeof n=="string"}function aG(n,e,t){return n===void 0||oG(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function lG(n,e,t){return typeof n=="function"?n(e,t):n}function uG(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function tb(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function cG(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const C=Ho(t?.className,s,i?.className,r?.className),T={...t?.style,...i?.style,...r?.style},R={...t,...i,...r};return C.length>0&&(R.className=C),Object.keys(T).length>0&&(R.style=T),{props:R,internalRef:void 0}}const l=uG({...i,...r}),u=tb(r),d=tb(i),f=e(l),m=Ho(f?.className,t?.className,s,i?.className,r?.className),y={...f?.style,...t?.style,...i?.style,...r?.style},E={...f,...t,...d,...u};return m.length>0&&(E.className=m),Object.keys(y).length>0&&(E.style=y),{props:E,internalRef:f.ref}}function Ah(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:l,shouldForwardComponentProp:u=!1,...d}=e,{component:f,slots:m={[n]:void 0},slotProps:y={[n]:void 0},...E}=s,C=m[n]||r,T=lG(y[n],i),{props:{component:R,...k},internalRef:j}=cG({className:t,...d,externalForwardedProps:n==="root"?E:void 0,externalSlotProps:T}),V=HD(j,T?.ref,e.ref),$=n==="root"?R||f:R,H=aG(C,{...n==="root"&&!f&&!m[n]&&l,...n!=="root"&&!m[n]&&l,...k,...$&&!u&&{as:$},...$&&u&&{component:$},ref:V},i);return[C,H]}function dG(n){const e=n.toString().split(".")[1];return e?e.length:0}function hw(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(dG(e)))}const hG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${ra(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return fD(u,sG,e)},fG=$f("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Yd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${ra(t.size)}`],t.readOnly&&e.readOnly]}})(HT(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Yd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Yd.focusVisible} .${Yd.iconActive}`]:{outline:"1px solid #999"},[`& .${Yd.visuallyHidden}`]:Kq,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),KD=$f("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),pG=$f("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(HT(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),mG=$f("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>zD(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function gG(n){const{value:e,...t}=n;return F.jsx("span",{...t})}function nb(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:f,isActive:m,itemValue:y,labelProps:E,name:C,onBlur:T,onChange:R,onClick:k,onFocus:j,readOnly:V,ownerState:$,ratingValue:H,ratingValueRounded:q,slots:U={},slotProps:N={}}=n,A=l?y===H:y<=H,b=y<=u,L=y<=i,x=y===q,w=`${C}-${VD()}`,S={slots:U,slotProps:N},[B,D]=Ah("icon",{elementType:pG,className:Ho(e.icon,A?e.iconFilled:e.iconEmpty,b&&e.iconHover,L&&e.iconFocus,m&&e.iconActive),externalForwardedProps:S,ownerState:{...$,iconEmpty:!A,iconFilled:A,iconHover:b,iconFocus:L,iconActive:m},additionalProps:{value:y},internalForwardedProps:{as:f}}),[oe,ae]=Ah("label",{elementType:KD,externalForwardedProps:S,ownerState:{...$,emptyValueFocused:void 0},additionalProps:{style:E?.style,htmlFor:w}}),K=F.jsx(B,{...D,children:r&&!A?r:d});return V?F.jsx("span",{...E,children:K}):F.jsxs(Q.Fragment,{children:[F.jsxs(oe,{...ae,children:[K,F.jsx("span",{className:e.visuallyHidden,children:s(y)})]}),F.jsx("input",{className:e.visuallyHidden,onFocus:j,onBlur:T,onChange:R,onClick:k,disabled:t,value:y,id:w,type:"radio",name:C,checked:x})]})}const yG=F.jsx(rG,{fontSize:"inherit"}),_G=F.jsx(iG,{fontSize:"inherit"});function vG(n){return`${n||"0"} Star${n!==1?"s":""}`}const wG=Q.forwardRef(function(e,t){const r=WD({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=_G,emptyLabelText:f="Empty",getLabelText:m=vG,highlightSelectedOnly:y=!1,icon:E=yG,IconContainerComponent:C=gG,max:T=5,name:R,onChange:k,onChangeActive:j,onMouseLeave:V,onMouseMove:$,precision:H=1,readOnly:q=!1,size:U="medium",value:N,slots:A={},slotProps:b={},...L}=r,x=VD(R),[w,S]=nG({controlled:N,default:l}),B=hw(w,H),D=Qq(),[{hover:oe,focus:ae},K]=Q.useState({hover:-1,focus:-1});let fe=B;oe!==-1&&(fe=oe),ae!==-1&&(fe=ae);const[le,z]=Q.useState(!1),ie=Q.useRef(),Pe=HD(ie,t),ge=We=>{$&&$(We);const ft=ie.current,{right:yn,left:ls,width:jn}=ft.getBoundingClientRect();let br;D?br=(yn-We.clientX)/jn:br=(We.clientX-ls)/jn;let Pn=hw(T*br+H/2,H);Pn=hD(Pn,H,T),K(Cn=>Cn.hover===Pn&&Cn.focus===Pn?Cn:{hover:Pn,focus:Pn}),z(!1),j&&oe!==Pn&&j(We,Pn)},De=We=>{V&&V(We);const ft=-1;K({hover:ft,focus:ft}),j&&oe!==ft&&j(We,ft)},Me=We=>{let ft=We.target.value===""?null:parseFloat(We.target.value);oe!==-1&&(ft=oe),S(ft),k&&k(We,ft)},Ze=We=>{We.clientX===0&&We.clientY===0||(K({hover:-1,focus:-1}),S(null),k&&parseFloat(We.target.value)===B&&k(We,null))},He=We=>{PC(We.target)&&z(!0);const ft=parseFloat(We.target.value);K(yn=>({hover:yn.hover,focus:ft}))},at=We=>{if(oe!==-1)return;PC(We.target)||z(!1);const ft=-1;K(yn=>({hover:yn.hover,focus:ft}))},[mn,os]=Q.useState(!1),qr={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:f,emptyValueFocused:mn,focusVisible:le,getLabelText:m,icon:E,IconContainerComponent:C,max:T,precision:H,readOnly:q,size:U},gn=hG(qr),fi={slots:A,slotProps:b},[kl,eo]=Ah("root",{ref:Pe,className:Ho(gn.root,s),elementType:fG,externalForwardedProps:{...fi,...L,component:i},getSlotProps:We=>({...We,onMouseMove:ft=>{ge(ft),We.onMouseMove?.(ft)},onMouseLeave:ft=>{De(ft),We.onMouseLeave?.(ft)}}),ownerState:qr,additionalProps:{role:q?"img":null,"aria-label":q?m(fe):null}}),[as,ma]=Ah("label",{className:Ho(gn.label,gn.labelEmptyValue),elementType:KD,externalForwardedProps:fi,ownerState:qr}),[Dt,Tt]=Ah("decimal",{className:gn.decimal,elementType:mG,externalForwardedProps:fi,ownerState:qr});return F.jsxs(kl,{...eo,children:[Array.from(new Array(T)).map((We,ft)=>{const yn=ft+1,ls={classes:gn,disabled:u,emptyIcon:d,focus:ae,getLabelText:m,highlightSelectedOnly:y,hover:oe,icon:E,IconContainerComponent:C,name:x,onBlur:at,onChange:Me,onClick:Ze,onFocus:He,ratingValue:fe,ratingValueRounded:B,readOnly:q,ownerState:qr,slots:A,slotProps:b},jn=yn===Math.ceil(fe)&&(oe!==-1||ae!==-1);if(H<1){const br=Array.from(new Array(1/H));return Q.createElement(Dt,{...Tt,key:yn,className:Ho(Tt.className,jn&&gn.iconActive),iconActive:jn},br.map((Pn,Cn)=>{const to=hw(yn-1+(Cn+1)*H,H);return F.jsx(nb,{...ls,isActive:!1,itemValue:to,labelProps:{style:br.length-1===Cn?{}:{width:to===fe?`${(Cn+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},to)}))}return F.jsx(nb,{...ls,isActive:jn,itemValue:yn},yn)}),!q&&!u&&F.jsxs(as,{...ma,children:[F.jsx("input",{className:gn.visuallyHidden,value:"",id:`${x}-empty`,type:"radio",name:x,checked:B==null,onFocus:()=>os(!0),onBlur:()=>os(!1),onChange:Me}),F.jsx("span",{className:gn.visuallyHidden,children:f})]})]})}),Xy=({amount:n})=>{const e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n||0);return F.jsx("div",{children:e})},EG="_card_container_14g25_1",IG="_button_14g25_51",TG="_rating_14g25_101",SG="_products_container_14g25_125",RG="_product_flexed_14g25_155",Vu={card_container:EG,button:IG,rating:TG,products_container:SG,product_flexed:RG},$r={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",CLEAR:"CLEAR",SET_USER:"SET_USER"};function Uc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:s,id:l,rating:u,price:d,description:f}=n,[m,y]=Q.useContext(Hs),[E,C]=Q.useState(!0),T=()=>{y({type:$r.ADD_TO_BASKET,item:{image:i,title:s,id:l,rating:u,price:d,description:f}})};return F.jsxs("div",{className:`${Vu.card_container} ${e?Vu.product_flexed:""}`,children:[F.jsx(ri,{to:`/products/${l}`,children:F.jsx("img",{src:i,alt:"",className:Vu.img_container})}),F.jsxs("div",{children:[F.jsx("h3",{children:s}),t&&F.jsx("div",{style:{maxWidth:"750px"},children:f}),F.jsxs("div",{className:Vu.rating,children:[F.jsx(wG,{value:u?.rate,precision:.1}),F.jsx("small",{children:u?.count})]}),F.jsx("div",{children:F.jsx(Xy,{amount:d})}),r&&F.jsx("button",{className:Vu.button,onClick:T,children:"add to cart"})]})]})}var AG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function GD(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return AG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Fu(n){var e=GD(n);return"".concat(e.value).concat(e.unit)}var QD=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},Vg=function(){return Vg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vg.apply(this,arguments)},PG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},CG=QD("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function CE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,f=n.size,m=f===void 0?35:f,y=PG(n,["loading","color","speedMultiplier","cssOverride","size"]),E=Vg({background:"transparent !important",width:Fu(m),height:Fu(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(CG," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?Q.createElement("span",Vg({style:E},y)):null}var Yt=function(){return Yt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Yt.apply(this,arguments)},bG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},kG=QD("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function xG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,f=n.height,m=f===void 0?15:f,y=n.width,E=y===void 0?5:y,C=n.radius,T=C===void 0?2:C,R=n.margin,k=R===void 0?2:R,j=bG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),V=GD(k).value,$=V+18,H=$/2+$/5.5,q=Yt({display:"inherit",position:"relative",fontSize:"0",top:$,left:$,width:"".concat($*3,"px"),height:"".concat($*3,"px")},d),U=function(D){return{position:"absolute",width:Fu(E),height:Fu(m),margin:Fu(k),backgroundColor:i,borderRadius:Fu(T),transition:"2s",animationFillMode:"both",animation:"".concat(kG," ").concat(1.2/l,"s ").concat(D*.12,"s infinite ease-in-out")}},N=Yt(Yt({},U(1)),{top:"".concat($,"px"),left:"0"}),A=Yt(Yt({},U(2)),{top:"".concat(H,"px"),left:"".concat(H,"px"),transform:"rotate(-45deg)"}),b=Yt(Yt({},U(3)),{top:"0",left:"".concat($,"px"),transform:"rotate(90deg)"}),L=Yt(Yt({},U(4)),{top:"".concat(-1*H,"px"),left:"".concat(H,"px"),transform:"rotate(45deg)"}),x=Yt(Yt({},U(5)),{top:"".concat(-1*$,"px"),left:"0"}),w=Yt(Yt({},U(6)),{top:"".concat(-1*H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(-45deg)"}),S=Yt(Yt({},U(7)),{top:"0",left:"".concat(-1*$,"px"),transform:"rotate(90deg)"}),B=Yt(Yt({},U(8)),{top:"".concat(H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(45deg)"});return t?Q.createElement("span",Yt({style:q},j),Q.createElement("span",{style:N}),Q.createElement("span",{style:A}),Q.createElement("span",{style:b}),Q.createElement("span",{style:L}),Q.createElement("span",{style:x}),Q.createElement("span",{style:w}),Q.createElement("span",{style:S}),Q.createElement("span",{style:B})):null}function YD(){return F.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:F.jsx(xG,{color:"#36d7b7"})})}function OG(){const[n,e]=Q.useState(),[t,r]=Q.useState(!1);return Q.useEffect(()=>{bt.get("https://fakestoreapi.com/products/").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),F.jsx(F.Fragment,{children:t?F.jsx(YD,{}):F.jsx("section",{className:Vu.products_container,children:n?.map(i=>F.jsx(Uc,{product:i,renderAdd:!0},i.id))})})}const jf=({children:n})=>F.jsxs("div",{children:[F.jsx(HW,{}),n]});function NG(){return F.jsx("div",{children:F.jsxs(jf,{children:[F.jsx(h8,{}),F.jsx(y8,{}),F.jsx(OG,{})]})})}const DG="_login_1s7uk_1",LG="_login_container_1s7uk_25",VG="_login_signInButton_1s7uk_101",MG="_login_registerButton_1s7uk_137",_m={login:DG,login_container:LG,login_signInButton:VG,login_registerButton:MG};function FG(){const[n,e]=Q.useState(""),[t,r]=Q.useState(""),[i,s]=Q.useState(""),[l,u]=Q.useState({signIn:!1,signUP:!1}),[{user:d},f]=Q.useContext(Hs),m=Ug(),y=oa();console.log(y),console.log(d);const E=async C=>{C.preventDefault(),console.log(C.target.name),C.target.name==="signin"?(u({...l,signIn:!0}),Z4(Og,n,t).then(T=>{f({type:$r.SET_USER,user:T.user}),u({...l,signIn:!1}),m(y?.state?.redirect||"/")}).catch(T=>{s(T.message),u({...l,signIn:!1})})):(u({...l,signUP:!0}),X4(Og,n,t).then(T=>{f({type:$r.SET_USER,user:T.user}),u({...l,signUP:!1}),m(y?.state?.redirect||"/")}).catch(T=>{s(T.message),u({...l,signUP:!1})}))};return F.jsxs("section",{className:_m.login,children:[F.jsx(ri,{to:"/",children:F.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/2560px-Amazon_logo.svg.png",alt:""})}),F.jsxs("div",{className:_m.login_container,children:[F.jsx("h1",{children:"Sign In"}),y?.state?.msg&&F.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:y?.state?.msg}),F.jsxs("form",{action:"",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:"email",children:"Email:"}),F.jsx("input",{value:n,onChange:C=>e(C.target.value),type:"email",id:"email",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:"password",children:"Password:"}),F.jsx("input",{value:t,onChange:C=>r(C.target.value),type:"password",id:"password",required:!0})]}),F.jsx("button",{type:"submit",onClick:E,name:"signin",className:_m.login_signInButton,children:l.signIn?F.jsx(CE,{color:"#000",size:15}):"Sign In"})]}),F.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE condition of use & sale. Please see our Privacy Notice, our Cookies Notice and our Interest-based Ads Notice."}),F.jsx("button",{type:"submit",onClick:E,name:"signup",className:_m.login_registerButton,children:l.signUP?F.jsx(CE,{color:"#000",size:15}):"Create you Amazon Account"}),i&&F.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const UG="_payment_header_er6y1_1",$G="_payment_er6y1_1",jG="_flex_er6y1_19",BG="_payment_card_container_er6y1_47",zG="_payment_price_er6y1_55",WG="_payment_details_er6y1_71",qG="_loading_er6y1_99",Cs={payment_header:UG,payment:$G,flex:jG,payment_card_container:BG,payment_price:zG,payment_details:WG,loading:qG};function rb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ib(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(t),!0).forEach(function(r){JD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ym(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ym=function(e){return typeof e}:Ym=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(n)}function JD(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function KG(n,e){if(n==null)return{};var t=HG(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function XD(n,e){return GG(n)||QG(n,e)||YG(n,e)||JG()}function GG(n){if(Array.isArray(n))return n}function QG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function YG(n,e){if(n){if(typeof n=="string")return sb(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sb(n,e)}}function sb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function JG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wn=function(e,t,r){var i=!!r,s=Ne.useRef(r);Ne.useEffect(function(){s.current=r},[r]),Ne.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},bE=function(e){var t=Ne.useRef(e);return Ne.useEffect(function(){t.current=e},[e]),t.current},wc=function(e){return e!==null&&Ym(e)==="object"},XG=function(e){return wc(e)&&typeof e.then=="function"},ZG=function(e){return wc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ob="[object Object]",eQ=function n(e,t){if(!wc(e)||!wc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===ob,l=Object.prototype.toString.call(t)===ob;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f={},m=0;m<u.length;m+=1)f[u[m]]=!0;for(var y=0;y<d.length;y+=1)f[d[y]]=!0;var E=Object.keys(f);if(E.length!==u.length)return!1;var C=e,T=t,R=function(j){return n(C[j],T[j])};return E.every(R)},ZD=function(e,t,r){return wc(e)?Object.keys(e).reduce(function(i,s){var l=!wc(t)||!eQ(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?ib(ib({},i||{}),{},JD({},s,e[s])):i},null):null},eL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ab=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eL;if(e===null||ZG(e))return e;throw new Error(t)},tQ=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eL;if(XG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return ab(i,t)})};var r=ab(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},nQ=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},Zy=Ne.createContext(null);Zy.displayName="ElementsContext";var tL=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},nL=function(e){var t=e.stripe,r=e.options,i=e.children,s=Ne.useMemo(function(){return tQ(t)},[t]),l=Ne.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=XD(l,2),d=u[0],f=u[1];Ne.useEffect(function(){var E=!0,C=function(R){f(function(k){return k.stripe?k:{stripe:R,elements:R.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(T){T&&E&&C(T)}):s.tag==="sync"&&!d.stripe&&C(s.stripe),function(){E=!1}},[s,d,r]);var m=bE(t);Ne.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var y=bE(r);return Ne.useEffect(function(){if(d.elements){var E=ZD(r,y,["clientSecret","fonts"]);E&&d.elements.update(E)}},[r,y,d.elements]),Ne.useEffect(function(){nQ(d.stripe)},[d.stripe]),Ne.createElement(Zy.Provider,{value:d},i)};nL.propTypes={stripe:Le.any,options:Le.object};var rQ=function(e){var t=Ne.useContext(Zy);return tL(t,e)},iQ=function(){var e=rQ("calls useElements()"),t=e.elements;return t};Le.func.isRequired;var rL=Ne.createContext(null);rL.displayName="CheckoutContext";Le.any,Le.shape({fetchClientSecret:Le.func.isRequired,elementsOptions:Le.object}).isRequired;var kE=function(e){var t=Ne.useContext(rL),r=Ne.useContext(Zy);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return tL(r,e)},sQ=["mode"],oQ=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},tn=function(e,t){var r="".concat(oQ(e),"Element"),i=function(d){var f=d.id,m=d.className,y=d.options,E=y===void 0?{}:y,C=d.onBlur,T=d.onFocus,R=d.onReady,k=d.onChange,j=d.onEscape,V=d.onClick,$=d.onLoadError,H=d.onLoaderStart,q=d.onNetworksChange,U=d.onConfirm,N=d.onCancel,A=d.onShippingAddressChange,b=d.onShippingRateChange,L=d.onSavedPaymentMethodRemove,x=d.onSavedPaymentMethodUpdate,w=kE("mounts <".concat(r,">")),S="elements"in w?w.elements:null,B="checkoutState"in w?w.checkoutState:null,D=B?.type==="success"?B.checkout:null,oe=Ne.useState(null),ae=XD(oe,2),K=ae[0],fe=ae[1],le=Ne.useRef(null),z=Ne.useRef(null);Wn(K,"blur",C),Wn(K,"focus",T),Wn(K,"escape",j),Wn(K,"click",V),Wn(K,"loaderror",$),Wn(K,"loaderstart",H),Wn(K,"networkschange",q),Wn(K,"confirm",U),Wn(K,"cancel",N),Wn(K,"shippingaddresschange",A),Wn(K,"shippingratechange",b),Wn(K,"savedpaymentmethodremove",L),Wn(K,"savedpaymentmethodupdate",x),Wn(K,"change",k);var ie;R&&(e==="expressCheckout"?ie=R:ie=function(){R(K)}),Wn(K,"ready",ie),Ne.useLayoutEffect(function(){if(le.current===null&&z.current!==null&&(S||D)){var ge=null;if(D)switch(e){case"payment":ge=D.createPaymentElement(E);break;case"address":if("mode"in E){var De=E.mode,Me=KG(E,sQ);if(De==="shipping")ge=D.createShippingAddressElement(Me);else if(De==="billing")ge=D.createBillingAddressElement(Me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ge=D.createExpressCheckoutElement(E);break;case"currencySelector":ge=D.createCurrencySelectorElement();break;case"taxId":ge=D.createTaxIdElement(E);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else S&&(ge=S.create(e,E));le.current=ge,fe(ge),ge&&ge.mount(z.current)}},[S,D,E]);var Pe=bE(E);return Ne.useEffect(function(){if(le.current){var ge=ZD(E,Pe,["paymentRequest"]);ge&&"update"in le.current&&le.current.update(ge)}},[E,Pe]),Ne.useLayoutEffect(function(){return function(){if(le.current&&typeof le.current.destroy=="function")try{le.current.destroy(),le.current=null}catch{}}},[]),Ne.createElement("div",{id:f,className:m,ref:z})},s=function(d){kE("mounts <".concat(r,">"));var f=d.id,m=d.className;return Ne.createElement("div",{id:f,className:m})},l=t?s:i;return l.propTypes={id:Le.string,className:Le.string,onChange:Le.func,onBlur:Le.func,onFocus:Le.func,onReady:Le.func,onEscape:Le.func,onClick:Le.func,onLoadError:Le.func,onLoaderStart:Le.func,onNetworksChange:Le.func,onConfirm:Le.func,onCancel:Le.func,onShippingAddressChange:Le.func,onShippingRateChange:Le.func,onSavedPaymentMethodRemove:Le.func,onSavedPaymentMethodUpdate:Le.func,options:Le.object},l.displayName=r,l.__elementType=e,l},nn=typeof window>"u",aQ=Ne.createContext(null);aQ.displayName="EmbeddedCheckoutProviderContext";var lQ=function(){var e=kE("calls useStripe()"),t=e.stripe;return t};tn("auBankAccount",nn);var lb=tn("card",nn);tn("cardNumber",nn);tn("cardExpiry",nn);tn("cardCvc",nn);tn("fpxBank",nn);tn("iban",nn);tn("idealBank",nn);tn("p24Bank",nn);tn("epsBank",nn);tn("payment",nn);tn("expressCheckout",nn);tn("paymentRequestButton",nn);tn("linkAuthentication",nn);tn("address",nn);tn("shippingAddress",nn);tn("paymentMethodMessaging",nn);tn("affirmMessage",nn);tn("afterpayClearpayMessage",nn);tn("taxId",nn);const uQ=bt.create({baseURL:"https://api-qrkx4i6mva-uc.a.run.app"});function cQ(){const[{user:n,basket:e},t]=Q.useContext(Hs),r=e?.reduce((T,R)=>(R.amount||1)+T,0),i=e.reduce((T,R)=>R.price*(R.amount||1)+T,0),[s,l]=Q.useState(null),[u,d]=Q.useState(!1),f=lQ(),m=iQ(),y=Ug(),E=T=>{T?.error?.message?l(T?.error?.message):l("")},C=async T=>{T.preventDefault();try{d(!0);const k=(await uQ.post("/payment/create",{total:i*100})).data?.clientSecret,{error:j,paymentIntent:V}=await f.confirmCardPayment(k,{payment_method:{card:m.getElement(lb)}});if(j){l(j.message),d(!1);return}const $=NN.collection("users").doc(n.uid).collection("orders").doc(V.id);(await $.get()).exists||await $.set({basket:e,amount:V.amount,created:V.created}),t({type:$r.EMPTY_BASKET}),d(!1),y("/orders",{state:{msg:"You have placed a new order"}})}catch(R){console.log(R),l("An error occurred during payment. Please try again."),d(!1)}};return F.jsxs(jf,{children:[F.jsxs("div",{className:Cs.payment_header,children:["Checkout (",r," items)"]}),F.jsxs("section",{className:Cs.payment,children:[F.jsxs("div",{className:Cs.flex,children:[F.jsx("h3",{children:"Delivery Address"}),F.jsxs("div",{children:[F.jsx("div",{children:n?.email}),F.jsx("div",{children:"123 React Lane"}),F.jsx("div",{children:"Chicago, IL"})]})]}),F.jsx("hr",{}),F.jsxs("div",{className:Cs.flex,children:[F.jsx("h3",{children:"Review items and delivery"}),F.jsx("div",{children:e?.map(T=>F.jsx(Uc,{product:T,flex:!0},T.id))})]}),F.jsx("hr",{}),F.jsxs("div",{className:Cs.flex,children:[F.jsx("h3",{children:"Payment methods"}),F.jsx("div",{className:Cs.payment_card_container,children:F.jsx("div",{className:Cs.payment_details,children:F.jsxs("form",{onSubmit:C,children:[s&&F.jsx("small",{style:{color:"red"},children:s}),F.jsx(lb,{onChange:E}),F.jsxs("div",{className:Cs.payment_price,children:[F.jsx("div",{children:F.jsxs("span",{style:{display:"flex",gap:"10px"},children:[F.jsx("p",{children:"Total Order |"})," ",F.jsx(Xy,{amount:i})]})}),F.jsx("button",{type:"submit",disabled:u,children:u?F.jsxs("div",{className:Cs.loading,children:[F.jsx(CE,{color:"gray",size:12}),F.jsx("p",{children:"Please Wait ..."})]}):"Pay Now"})]})]})})})]})]})]})}const dQ="_container_1a09o_1",hQ="_order_container_1a09o_9",fw={container:dQ,order_container:hQ};function fQ(){const[{user:n}]=Q.useContext(Hs),[e,t]=Q.useState([]);return Q.useEffect(()=>{n?NN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(r=>{t(r.docs.map(i=>({id:i.id,data:i.data()})))}):t([])},[n]),F.jsx(jf,{children:F.jsx("section",{className:fw.container,children:F.jsxs("div",{className:fw.order_container,children:[F.jsx("h2",{children:"Your Orders"}),e?.length===0&&F.jsx("div",{style:{padding:"20px"},children:"Cart not Ordered Yet"}),F.jsx("div",{children:e?.map(r=>F.jsxs("div",{className:fw.order_block,children:[F.jsx("hr",{}),F.jsxs("p",{children:[F.jsx("strong",{children:"Order ID:"})," ",r.id]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Date:"})," ",new Date(r.data.created*1e3).toLocaleString()]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Total:"})," ",F.jsx(Xy,{amount:r.data.amount/100})]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Items:"})," ",r.data.basket?.length]}),r.data.basket?.map(i=>F.jsx(Uc,{flex:!0,product:i},i.id))]},r.id))})]})})})}const pQ="_container_1t4dq_1",mQ="_cart_product_1t4dq_19",gQ="_btn_container_1t4dq_27",yQ="_btn_1t4dq_27",_Q="_subtotal_1t4dq_59",vQ="_cart_container_1t4dq_67",Wa={container:pQ,cart_product:mQ,btn_container:gQ,btn:yQ,subtotal:_Q,cart_container:vQ};function wQ(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function EQ(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function IQ(){const[{basket:n,user:e},t]=Q.useContext(Hs),r=n.reduce((l,u)=>u.price*u.amount+l,0),i=l=>{t({type:$r.ADD_TO_BASKET,item:l})},s=l=>{t({type:$r.REMOVE_FROM_BASKET,id:l})};return F.jsx(jf,{children:F.jsxs("section",{className:Wa.container,children:[F.jsxs("div",{className:Wa.cart_container,children:[F.jsx("h3",{children:"Your shopping basket "}),F.jsx("hr",{}),n?.length==0?F.jsx("p",{children:"Opps ! No item in your cart"}):n?.map((l,u)=>F.jsxs("section",{className:Wa.cart_product,children:[F.jsx(Uc,{product:l,renderDesc:!0,renderAdd:!1,flex:!0}),F.jsxs("div",{className:Wa.btn_container,children:[F.jsx("button",{className:Wa.btn,onClick:()=>i(l),children:F.jsx(EQ,{size:30})}),F.jsx("span",{children:l.amount}),F.jsx("button",{className:Wa.btn,onClick:()=>s(l.id),children:F.jsx(wQ,{size:30})})]})]},l.id||u))]}),n?.length!==0&&F.jsxs("div",{className:Wa.subtotal,children:[F.jsxs("div",{children:[F.jsxs("p",{children:["Subtotal (",n?.length," items)"]}),F.jsx(Xy,{amount:r})]}),F.jsxs("span",{children:[F.jsx("input",{type:"checkbox"}),F.jsx("small",{children:" This order contains a gift"})]}),F.jsx(ri,{to:"/payments",children:" Continue to checkout"})]})]})})}const iL="https://fakestoreapi.com",TQ="_products_container_11ync_1",SQ={products_container:TQ};function RQ(){const[n,e]=Q.useState([]),{categoryName:t}=Rb();return Q.useEffect(()=>{bt.get(`${iL}/products/category/${t}`).then(r=>{e(r.data)}).catch(r=>{console.log(r)})},[t]),F.jsx(jf,{children:F.jsxs("section",{children:[F.jsx("h1",{style:{padding:"30px"},children:"Results"}),F.jsxs("p",{style:{padding:"30px"},children:["Category / ",t]}),F.jsx("hr",{}),F.jsx("div",{className:SQ.products_container,children:n?.map(r=>F.jsx(Uc,{product:r,renderDesc:!1,renderAdd:!0},r.id))})]})})}function AQ(){const{productId:n}=Rb(),[e,t]=Q.useState(!1),[r,i]=Q.useState();return Q.useEffect(()=>{t(!0),bt.get(`${iL}/products/${n}`).then(s=>{i(s.data),t(!1)}).catch(s=>{console.log(s),t(!1)})},[]),F.jsx(Layout,{children:e?F.jsx(YD,{}):F.jsx(Uc,{product:r,flex:!0,renderDesc:!0,renderAdd:!0})})}function ub(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(t),!0).forEach(function(r){sL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ub(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jm=function(e){return typeof e}:Jm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(n)}function sL(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PQ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function CQ(n,e){if(n==null)return{};var t=PQ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bQ(n,e){return kQ(n)||xQ(n,e)||OQ(n,e)||NQ()}function kQ(n){if(Array.isArray(n))return n}function xQ(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function OQ(n,e){if(n){if(typeof n=="string")return db(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return db(n,e)}}function db(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function NQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mg=function(e){return e!==null&&Jm(e)==="object"},DQ=function(e){var t=Ne.useRef(e);return Ne.useEffect(function(){t.current=e},[e]),t.current},hb="[object Object]",LQ=function n(e,t){if(!Mg(e)||!Mg(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===hb,l=Object.prototype.toString.call(t)===hb;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f={},m=0;m<u.length;m+=1)f[u[m]]=!0;for(var y=0;y<d.length;y+=1)f[d[y]]=!0;var E=Object.keys(f);if(E.length!==u.length)return!1;var C=e,T=t,R=function(j){return n(C[j],T[j])};return E.every(R)},VQ=function(e,t,r){return Mg(e)?Object.keys(e).reduce(function(i,s){var l=!Mg(t)||!LQ(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?cb(cb({},i||{}),{},sL({},s,e[s])):i},null):null},oL=Ne.createContext(null);oL.displayName="ElementsContext";var MQ=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};Le.any,Le.object;Le.func.isRequired;var aL=Ne.createContext(null);aL.displayName="CheckoutContext";Le.any,Le.shape({fetchClientSecret:Le.func.isRequired,elementsOptions:Le.object}).isRequired;var fb=function(e){var t=Ne.useContext(aL),r=Ne.useContext(oL);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return MQ(r,e)},qn=function(e,t,r){var i=!!r,s=Ne.useRef(r);Ne.useEffect(function(){s.current=r},[r]),Ne.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},FQ=["mode"],UQ=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Bf=function(e,t){var r="".concat(UQ(e),"Element"),i=function(d){var f=d.id,m=d.className,y=d.options,E=y===void 0?{}:y,C=d.onBlur,T=d.onFocus,R=d.onReady,k=d.onChange,j=d.onEscape,V=d.onClick,$=d.onLoadError,H=d.onLoaderStart,q=d.onNetworksChange,U=d.onConfirm,N=d.onCancel,A=d.onShippingAddressChange,b=d.onShippingRateChange,L=d.onSavedPaymentMethodRemove,x=d.onSavedPaymentMethodUpdate,w=fb("mounts <".concat(r,">")),S="elements"in w?w.elements:null,B="checkoutState"in w?w.checkoutState:null,D=B?.type==="success"?B.checkout:null,oe=Ne.useState(null),ae=bQ(oe,2),K=ae[0],fe=ae[1],le=Ne.useRef(null),z=Ne.useRef(null);qn(K,"blur",C),qn(K,"focus",T),qn(K,"escape",j),qn(K,"click",V),qn(K,"loaderror",$),qn(K,"loaderstart",H),qn(K,"networkschange",q),qn(K,"confirm",U),qn(K,"cancel",N),qn(K,"shippingaddresschange",A),qn(K,"shippingratechange",b),qn(K,"savedpaymentmethodremove",L),qn(K,"savedpaymentmethodupdate",x),qn(K,"change",k);var ie;R&&(e==="expressCheckout"?ie=R:ie=function(){R(K)}),qn(K,"ready",ie),Ne.useLayoutEffect(function(){if(le.current===null&&z.current!==null&&(S||D)){var ge=null;if(D)switch(e){case"payment":ge=D.createPaymentElement(E);break;case"address":if("mode"in E){var De=E.mode,Me=CQ(E,FQ);if(De==="shipping")ge=D.createShippingAddressElement(Me);else if(De==="billing")ge=D.createBillingAddressElement(Me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ge=D.createExpressCheckoutElement(E);break;case"currencySelector":ge=D.createCurrencySelectorElement();break;case"taxId":ge=D.createTaxIdElement(E);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else S&&(ge=S.create(e,E));le.current=ge,fe(ge),ge&&ge.mount(z.current)}},[S,D,E]);var Pe=DQ(E);return Ne.useEffect(function(){if(le.current){var ge=VQ(E,Pe,["paymentRequest"]);ge&&"update"in le.current&&le.current.update(ge)}},[E,Pe]),Ne.useLayoutEffect(function(){return function(){if(le.current&&typeof le.current.destroy=="function")try{le.current.destroy(),le.current=null}catch{}}},[]),Ne.createElement("div",{id:f,className:m,ref:z})},s=function(d){fb("mounts <".concat(r,">"));var f=d.id,m=d.className;return Ne.createElement("div",{id:f,className:m})},l=t?s:i;return l.propTypes={id:Le.string,className:Le.string,onChange:Le.func,onBlur:Le.func,onFocus:Le.func,onReady:Le.func,onEscape:Le.func,onClick:Le.func,onLoadError:Le.func,onLoaderStart:Le.func,onNetworksChange:Le.func,onConfirm:Le.func,onCancel:Le.func,onShippingAddressChange:Le.func,onShippingRateChange:Le.func,onSavedPaymentMethodRemove:Le.func,onSavedPaymentMethodUpdate:Le.func,options:Le.object},l.displayName=r,l.__elementType=e,l},zf=typeof window>"u";Bf("currencySelector",zf);Bf("payment",zf);Bf("expressCheckout",zf);Bf("taxId",zf);Bf("address",zf);var lL="basil",$Q=function(e){return e===3?"v3":e},uL="https://js.stripe.com",jQ="".concat(uL,"/").concat(lL,"/stripe.js"),BQ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,zQ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var WQ=function(e){return BQ.test(e)||zQ.test(e)},qQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(uL,'"]')),t=0;t<e.length;t++){var r=e[t];if(WQ(r.src))return r}return null},pb=function(e){var t="",r=document.createElement("script");r.src="".concat(jQ).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},HQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},Jd=null,vm=null,wm=null,KQ=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},GQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},QQ=function(e){return Jd!==null?Jd:(Jd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=qQ();if(!(i&&e)){if(!i)i=pb(e);else if(i&&wm!==null&&vm!==null){var s;i.removeEventListener("load",wm),i.removeEventListener("error",vm),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=pb(e)}}wm=GQ(t,r),vm=KQ(r),i.addEventListener("load",wm),i.addEventListener("error",vm)}catch(l){r(l);return}}),Jd.catch(function(t){return Jd=null,Promise.reject(t)}))},YQ=function(e,t,r){if(e===null)return null;var i=t[0],s=i.match(/^pk_test/),l=$Q(e.version),u=lL;s&&l!==u&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return HQ(d,r),d},Xd,cL=!1,dL=function(){return Xd||(Xd=QQ(null).catch(function(e){return Xd=null,Promise.reject(e)}),Xd)};Promise.resolve().then(function(){return dL()}).catch(function(n){cL||console.warn(n)});var JQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];cL=!0;var i=Date.now();return dL().then(function(s){return YQ(s,t,i)})};const mb=({children:n,msg:e,redirect:t})=>{const r=Ug(),[{user:i},s]=Q.useContext(Hs);return Q.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},XQ=JQ("pk_test_51SBySjPZxtZh0u3Z87DedQmwjRF0L8TaNTqPghrBeqQypQtiUFFN8Gc920zrtF9LmxjL7aIz4bcWkQpIGUqqks7D003RRa2bSq");function ZQ(){return F.jsx(jV,{children:F.jsxs(_V,{children:[F.jsx(Vo,{path:"/",element:F.jsx(NG,{})}),F.jsx(Vo,{path:"/auth",element:F.jsx(FG,{})}),F.jsx(Vo,{path:"/payments",element:F.jsx(mb,{msg:"you must log in to pay",redirect:"/payments",children:F.jsx(nL,{stripe:XQ,children:F.jsx(cQ,{})})})}),F.jsx(Vo,{path:"/cart",element:F.jsx(IQ,{})}),F.jsx(Vo,{path:"/category/:categoryName",element:F.jsx(RQ,{})}),F.jsx(Vo,{path:"/products/:productId",element:F.jsx(AQ,{})}),F.jsx(Vo,{path:"/orders",element:F.jsx(mb,{msg:"you must login to access your orders",redirect:"/orders",children:F.jsx(fQ,{})})})]})})}function eY(){const[{user:n},e]=Q.useContext(Hs);return Q.useEffect(()=>{Og.onAuthStateChanged(t=>{e(t?{type:$r.SET_USER,user:t}:{type:$r.SET_USER,user:null})})},[]),F.jsx(ZQ,{})}const tY={basket:[],user:null},nY=(n,e)=>{switch(e.type){case $r.ADD_TO_BASKET:if(n.basket.find(i=>i.id===e.item.id)){const i=n.basket.map(s=>s.id===e.item.id?{...s,amount:s.amount+1}:s);return{...n,basket:i}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case $r.REMOVE_FROM_BASKET:const r=n.basket.map(i=>i.id===e.id?{...i,amount:i.amount-1}:i).filter(i=>i.amount>0);return{...n,basket:r};case $r.EMPTY_BASKET:return{...n,basket:[]};case $r.SET_USER:return{...n,user:e.user};default:return n}},rY=C2.createRoot(document.getElementById("root"));rY.render(F.jsx(Ne.StrictMode,{children:F.jsx(_M,{reducer:nY,initialState:tY,children:F.jsx(eY,{})})}));
